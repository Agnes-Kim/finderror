id,date,report,security
484,14-10-19,Issue 484 : toString implementation ， Issue #484 ， realm/realm-java ， GitHub Hi  There is an error of toString implementation: Method threw 'java.lang.StackOverflowError' exception. Cannot evaluate io.realm.AdvertisementRealmProxy.toString(),0
506,14-10-26,Issue 506 : Deleted items still present in query results ， Issue #506 ， realm/realm-java ， GitHub I've encountered a data consistency issue when deleting on a background thread from a different context. I have a list of items  and clicking on an item will open a secondary activity. If the item is deleted on a background thread on this secondary activity  it will still show on the list back in the first activity. The list data is reloaded inside onResume  and the list activity registers with realm for change events. Even if the data is reloaded explicitly  the deleted item is still present in the result set. The deleted item will only be removed from the result set if you either do a write operation (insert a new element into the list) or restart the app. Simply sending the app to the background and resuming it again doesn't solve the issue. The app needs to be force stopped and then restarted. Deleting the item from a background thread on the list activity will remove the item from the list. Deleting the item on the main thread from the secondary activity will also remove the item from the list. Deleting the item on a background thread on the secondary activity will not remove the item from the list. I've modified my sample realm project to replicate the issue: https://github.com/edubarr/RealmSample Once compiled  the app is named "Realm.io." It's very simple to reproduce the issue. Just click on Add Item menu option to add an item. Click on the item to open the secondary activity and click on the Delete! button. Once the secondary activity finishes  the first activity will still show the deleted item on the list. If you click on Add Item once again  the deleted item will be removed and a new item will be inserted on the list. The deleted item can also be removed by pushing the app to the background  swiping it away from the recent apps list and starting it over.,0
508,14-10-28,Issue 508 : Crash onRealmChange ， Issue #508 ， realm/realm-java ， GitHub Realm realm = Realm.getInstance(getActivity());     realm.addChangeListener(new RealmChangeListener() {         @Override         public void onChange() {             Realm.getInstance(getActivity());             Log.d(TAG  "data changes");         }     });  This will print infinity "data changes"  and crash. I think it's only a problem with the latest release.,0
515,14-10-30,Issue 515 : bug:Failed adding to JNI pinned array ref table (1024 entries) ， Issue #515 ， realm/realm-java ， GitHub I have a hashset named "localIds" which contains over 2000 integers  and i want to make a query to get all records from a big realm table which's field "localId" match the value in the hashset  and my code below: RealmQuery query = realm.where(RUser.class); query.equalTo("localId" 0); for (int localId : localIds) { query.or().equalTo("localId"  localId); } RealmResults results = query.findAll(); and when i run i got : 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud W/dalvikvm? ReferenceTable overflow (max=1024) 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud W/dalvikvm? JNI pinned array reference table (0x65646458) dump: 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud W/dalvikvm? Last 10 entries (of 1024): 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud W/dalvikvm? 1023: 0x43641d90 long[](1 elements) 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud W/dalvikvm? 1022: 0x43641c20 long[](1 elements) 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud W/dalvikvm? 1021: 0x43641ab0 long[](1 elements) 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud W/dalvikvm? 1020: 0x43641940 long[](1 elements) 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud W/dalvikvm? 1019: 0x436417d0 long[](1 elements) 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud W/dalvikvm? 1018: 0x43641660 long[](1 elements) 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud W/dalvikvm? 1017: 0x436414f0 long[](1 elements) 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud W/dalvikvm? 1016: 0x43641380 long[](1 elements) 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud W/dalvikvm? 1015: 0x43641210 long[](1 elements) 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud W/dalvikvm? 1014: 0x436410a0 long[](1 elements) 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud W/dalvikvm? Summary: 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud W/dalvikvm? 1 of byte[](8192 elements) 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud W/dalvikvm? 1023 of long[](1 elements) (1023 unique instances) 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud E/dalvikvm? Failed adding to JNI pinned array ref table (1024 entries) 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud I/dalvikvm? "main" prio=5 tid=1 RUNNABLE 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud I/dalvikvm? | group="main" sCount=0 dsCount=0 obj=0x4161b508 self=0x41600918 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud I/dalvikvm? | sysTid=10539 nice=0 sched=0/0 cgrp=apps handle=1075388208 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud I/dalvikvm? | schedstat=( 6428502962 2160360510 29862 ) utm=521 stm=121 core=3 10-30 22:24:37.375 10539-10539/com.gxl.hbcloud I/dalvikvm? at io.realm.internal.Group.nativeHasTable(Native Method) i also tried NSPredicate with "in" condition in realm's iOS version  it's really fast and got no error. maybe in android version  JNI code have something not release.,0
529,14-11-04,Issue 529 : Sort() signal 11 on version 73 ， Issue #529 ， realm/realm-java ， GitHub Exactly like 72 with enough queries (Fixed now). Could it be similar buffer size problem at sort() side?,0
543,14-11-09,Issue 543 : Sorting RealmResults before adding to a RealmBaseAdapter eventually causes crash ， Issue #543 ， realm/realm-java ， GitHub I have an Activity with several ActionBar tabs  each containing a Fragment with a ListView. Previously  I had been using ArrayAdapters to hold the RealmObjects for display in the lists  and everything was working great. I would fetch the RealmResults  sort them  take a sublist  and add it to the adapter in an ArrayList  like so:         // get videos and add to adapter         Realm realm = Realm.getInstance(getActivity());         RealmResults<Video> results = mRealm.where(Video.class).findAll();         results = results.sort("position");         ArrayList<Video> videos = new ArrayList<Video>();         videos.addAll(results.subList(0  results.size() < 10 ? results.size() : 10));         mAdapter = new VideoAdapter(getActivity()  videos); With the release of 0.73  I've tried to switch my ListViews to using RealmBaseAdapter instead of ArrayAdapter:         // get stories for list adapter         Realm realm = Realm.getInstance(getActivity());         RealmResults<Video> results = realm.where(Video.class).findAll();         results = results.sort("position");         mAdapter = new VideoAdapter(getActivity()  android.R.id.list  results  true); This approach works initially  but I find that once I switch to another tab  my app crashes with the following error: A/libc? Fatal signal 11 (SIGSEGV) at 0x00000074 (code=1) Unfortunately I'm not sure exactly where it is in the switching to another tab that's triggering the crash  wether it's something to do with the suspension of the Video tab  or something in the initialization of the next tab (which is similarly a ListView backed by RealmObjects). However  if I comment out the sort line in this code  I don't get the crash:         // get stories for list adapter         Realm realm = Realm.getInstance(getActivity());         RealmResults<Video> results = realm.where(Video.class).findAll();         // no sorting == no SIGSEGV crash         // results = results.sort("position");         mAdapter = new VideoAdapter(getActivity()  android.R.id.list  results  true); This works fine all of the time  but my ListView isn't correctly sorted.,0
589,14-11-20,Issue 589 : Cyclic reference issue ， Issue #589 ， realm/realm-java ， GitHub It's similar to issue #484   but the exception also occurs in equals() and hashCode() methods. Do you have a quick fix for this crash?,0
594,14-11-21,Issue 594 : TableView cannot be cast to Table ， Issue #594 ， realm/realm-java ， GitHub Get this exception when trying to run a query on RealmResults. Happens after upgrading from 0.71.0 to 0.74.0. Code is as follows: RealmResults<Language> languages = mLanguageRepository.all(); mDefaultLanguage = languages.where().equalTo("code"  mDefaultLanguageCode).findFirst(); Stacktrace here: Caused by: java.lang.ClassCastException: io.realm.internal.TableView cannot be cast to io.realm.internal.Table        at io.realm.RealmQuery.getColumnIndices(RealmQuery.java:136)        at io.realm.RealmQuery.equalTo(RealmQuery.java:196)        at io.realm.RealmQuery.equalTo(RealmQuery.java:181),0
595,14-11-21,Issue 595 : removeFromRealm ArrayIndexOutOfBoundsException ， Issue #595 ， realm/realm-java ， GitHub I updated the version of realm java to 0.74 and the method removeFromRealm begin to throw the exception ArrayIndexOutOfBoundsException. The code is:         User result = realm.where(User.class)                 .equalTo("id"  user.getId()).findFirst();          if (result != null) {             try {                 realm.beginTransaction();                 result.removeFromRealm();                 realm.commitTransaction();             } catch (Exception e) {                 realm.cancelTransaction();             }         },0
601,14-11-22,Issue 601 : Dates before 1902 are stored incorrectly ， Issue #601 ， realm/realm-java ， GitHub I've written a test project here: https://github.com/decnorton/RealmDateTest/blob/master/app/src/main/java/com/decnorton/realmdatetest/MainActivity.java Example Logcat output: [testDate:1] Testing date: Thu Feb 01 17:43:07 GMT+00:00 1900 [testDate:1] Before commit: Mon Mar 10 00:11:24 GMT+00:00 2036 [testDate:1] After commit: Mon Mar 10 00:11:24 GMT+00:00 2036 ------------ [testDate:2] Testing date: Fri Feb 01 17:43:07 GMT+00:00 1901 [testDate:2] Before commit: Tue Mar 10 00:11:24 GMT+00:00 2037 [testDate:2] After commit: Tue Mar 10 00:11:24 GMT+00:00 2037 ------------ [testDate:3] Testing date: Sat Feb 01 17:43:07 GMT+00:00 1902 [testDate:3] Before commit: Sat Feb 01 17:43:08 GMT+00:00 1902 [testDate:3] After commit: Sat Feb 01 17:43:08 GMT+00:00 1902 ------------ [testDate:4] Testing date: Sun Feb 01 17:43:07 GMT+00:00 1903 [testDate:4] Before commit: Sun Feb 01 17:43:08 GMT+00:00 1903 [testDate:4] After commit: Sun Feb 01 17:43:08 GMT+00:00 1903 ------------ [testDate:5] Testing date: Mon Feb 01 17:43:07 GMT+00:00 1904 [testDate:5] Before commit: Mon Feb 01 17:43:08 GMT+00:00 1904 [testDate:5] After commit: Mon Feb 01 17:43:08 GMT+00:00 1904 ------------ [testDate:6] Testing date: Wed Feb 01 17:43:07 GMT+00:00 1905 [testDate:6] Before commit: Wed Feb 01 17:43:08 GMT+00:00 1905 [testDate:6] After commit: Wed Feb 01 17:43:08 GMT+00:00 1905 ------------ [testDate:7] Testing date: Tue Feb 01 17:43:07 GMT+00:00 1910 [testDate:7] Before commit: Tue Feb 01 17:43:08 GMT+00:00 1910 [testDate:7] After commit: Tue Feb 01 17:43:08 GMT+00:00 1910  Notice the year for 1901 is saved as 2036.,0
602,14-11-22,Issue 602 : Fatal crash in for each loop ， Issue #602 ， realm/realm-java ， GitHub Hi  I have issue similar to #484 and to #589 . I trying to run query in cycle  check if this record not exists  then create it. Before for/each cycle at the same thread and the same realm instance query works fine. But when we entered to cycle it crashed. I use realm library version 0.74.0  Android studio 1.0rc. Song model:  public class Song extends RealmObject {     private String id;     private String ownerId;     private String artist;     private String title;     private int duration;     private String url;     private String lyrics_id;     private int genreId;     private String albumId;     private int index;     private boolean needToRemove; **** and their getters and setters **** }  Part of the code where it crash:  {  List<Song> songs = lists[0];  Realm workerRealm = getRealmInstanceForWorkerThread();  String myId = PreferenceHelper.getUserId();  // Mark all songs need to remove true  RealmResults<Song> songRealmList = workerRealm.where(Song.class)           .equalTo("ownerId"  myId)           .findAll();                                         // Works fine  workerRealm.beginTransaction();  for (Song song : songRealmList) {     song.setNeedToRemove(true);         // Works fine  }  for (Song song : songs) {                    // Entering to cycle    // Check if the record exist   Song querySong = workerRealm.where(Song.class)          .beginGroup()          .equalTo("id"  song.getId())          .equalTo("ownerId"  song.getOwnerId())          .endGroup()          .findFirst();                                 // And here it crash                 if (querySong == null) {    querySong = workerRealm.createObject(Song.class);  }  querySong.setOwnerId(song.getOwnerId());  querySong.setUrl(song.getUrl());  querySong.setLyrics_id(song.getLyrics_id());  querySong.setGenreId(song.getGenreId());  querySong.setDuration(song.getDuration());  querySong.setTitle(song.getTitle());  querySong.setId(song.getId());  querySong.setAlbumId(song.getAlbumId());  querySong.setArtist(song.getArtist());  querySong.setNeedToRemove(song.isNeedToRemove());  querySong.setIndex(song.getIndex()); }  Error message: Method threw 'java.lang.RuntimeException' exception. Cannot evaluate io.realm.SongRealmProxy.toString() A/libc? Fatal signal 11 (SIGSEGV)  code 1  fault addr 0xa1e25ffc in tid -2049854000 (UpdateMultipleO) UpdateMultipleO - it is my method where I do this( full name updateMultipleOwnSongsAndAlbumsInDB).,1
608,14-11-24,Issue 608 : Bad UTF-8 encoding ， Issue #608 ， realm/realm-java ， GitHub java.lang.RuntimeException: Unspecified exception. Bad UTF-8 encoding at io.realm.internal.Row.nativeGetString(Native Method),0
611,14-11-25,Issue 611 : Fatal signal 11 (SIGSEGV) at 0x00000000 (code=1)  thread 30327 (s.realmadapters) ， Issue #611 ， realm/realm-java ， GitHub Hi everyone! Thanks for the Realm! Unfortunately  I have been experiencing problems with RealmAdapter. At first it was only in my application but then I managed to crash the sample application. Of cource I did change it a little bit. Changes: Added new item to menu (now there are two items which can be clicked) Added an action to this item (see the code) Added sorting before setting an adapter to listview Added one more attribute to class TimeStamp How to reproduce this crash: Run the App Click 'Add' Click 'SORT' Do it 5-10 times LogCat: 11-24 21:39:27.545: D/dalvikvm(30327): Trying to load lib /data/data/io.realm.examples.realmadapters/lib/libtightdb-jni.so 0x41c31c08 11-24 21:39:27.545: D/dalvikvm(30327): Added shared lib /data/data/io.realm.examples.realmadapters/lib/libtightdb-jni.so 0x41c31c08 11-24 21:39:42.560: D/dalvikvm(30327): GC_CONCURRENT freed 266K  7% free 12295K/13127K  paused 17ms+2ms  total 40ms 11-24 21:39:42.930: A/libc(30327): Fatal signal 11 (SIGSEGV) at 0x00000000 (code=1)  thread 30327 (s.realmadapters)  Phone: Samsung Galaxy S3 Android: 4.1.2 Sample application in which I can reproduce crash.,0
613,14-11-25,Issue 613 : Unspecified exception. Bad UTF-8 encoding ， Issue #613 ， realm/realm-java ， GitHub Hi guys  from time to time I'm not able to start my app anymore since everytime I try to start it  the application immediately crashes and the following is logged: Unspecified exception. Bad UTF-8 encoding Fatal signal 11 (SIGSEGV) at 0xe7d2fd7d (code=1)  thread 5312 (Thread-6373)  Only deleting and reinstalling the app actually helps  I guess the realm got somehow corrupted. Any fixes available?,0
626,14-11-28,Issue 626 : Native Crash with sort(). Version 0.74.0 ， Issue #626 ， realm/realm-java ， GitHub Hi  I have a native crash when I write the following code (I am using Guava Predicate to do the filtering): List<Contact> members = new ArrayList<>();  // uncommenting this line below does not cause the crash //        ArrayList<Contact> members = new ArrayList<>(ContactHelper.getAllContacts());  List<Contact> filtered = new ArrayList<>(Collections2.filter(members  new Predicate<Contact>() {   @Override   public boolean apply(Contact input) {     return ContactHelper.getDisplayName(input).contains(queryString.trim());   } }));  However  when I copy the ArrayList contents the crash does not happens. Contact inherits from RealmObject Am I doing something wrong? 11-28 14:55:09.587    6863-6863/? A/libc? Fatal signal 11 (SIGSEGV) at 0xfffffff8 (code=1)  thread 6863 (this.exampleandroid) 11-28 14:55:09.687      122-122/? I/DEBUG? *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 11-28 14:55:09.687      122-122/? I/DEBUG? Build fingerprint: 'generic/vbox86p/vbox86p:4.4.4/KTU84P/eng.buildbot.20141001.101335:userdebug/test-keys' 11-28 14:55:09.687      122-122/? I/DEBUG? Revision: '0' 11-28 14:55:09.687      122-122/? I/DEBUG? pid: 6863  tid: 6863  name: this.exampleandroid  >>> com.examplethis.exampleandroid <<< 11-28 14:55:09.687      122-122/? I/DEBUG? signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr fffffff8 11-28 14:55:09.823      122-122/? I/DEBUG? eax 00000000  ebx 94cf0ff4  ecx 00000000  edx 94ceb7b0 11-28 14:55:09.823      122-122/? I/DEBUG? esi bf973a0c  edi b8fe5c80 11-28 14:55:09.823      122-122/? I/DEBUG? xcs 00000073  xds 0000007b  xes 0000007b  xfs 00000000  xss 0000007b 11-28 14:55:09.823      122-122/? I/DEBUG? eip 94c3c4e1  ebp bf973a48  esp bf9739e0  flags 00210282 11-28 14:55:09.823      122-122/? E/Corkscrew? unrecognized DW_CFA_* instruction: 0x2e 11-28 14:55:09.823      122-122/? I/DEBUG? backtrace: 11-28 14:55:09.823      122-122/? I/DEBUG? #00  pc 001514e1  /data/app-lib/com.examplethis.exampleandroid-2/libtightdb-jni.so (__dynamic_cast+17) 11-28 14:55:09.823      122-122/? I/DEBUG? #01  pc 000bea3e  /data/app-lib/com.examplethis.exampleandroid-2/libtightdb-jni.so (tightdb::TableViewBase::outside_version() const+50) 11-28 14:55:09.823      122-122/? I/DEBUG? stack: 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739a0  b4eddcb4  /system/lib/libdvm.so 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739a4  b4f51c80 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739a8  b4d4df59  /system/lib/libdvm.so (dvmInterpret(Thread*  Method const*  JValue*)+9) 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739ac  b4eddcb4  /system/lib/libdvm.so 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739b0  9edbf3bc 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739b4  b8e16eb0  [heap] 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739b8  bf973ab8  [stack] 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739bc  b4dd4028  /system/lib/libdvm.so (dvmCallMethodV(Thread*  Method const*  Object*  bool  JValue*  char*)+760) 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739c0  b8e16eb0  [heap] 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739c4  9e1c6418  /dev/ashmem/dalvik-LinearAlloc (deleted) 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739c8  bf973ab8  [stack] 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739cc  a4d17890  /dev/ashmem/dalvik-zygote (deleted) 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739d0  9ddbb080  /dev/ashmem/dalvik-LinearAlloc (deleted) 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739d4  a4d181e8  /dev/ashmem/dalvik-zygote (deleted) 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739d8  a5c97fa0  /dev/ashmem/dalvik-heap (deleted) 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739dc  b4eddcb4  /system/lib/libdvm.so 11-28 14:55:09.823      122-122/? I/DEBUG? #00  bf9739e0  9edbf3bc 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739e4  b8e16eb0  [heap] 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739e8  bf973ad0  [stack] 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739ec  b76b8f79  /system/lib/libc.so (pthread_mutex_unlock+25) 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739f0  b8e16eb0  [heap] 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739f4  9ddbd5b8  /dev/ashmem/dalvik-LinearAlloc (deleted) 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739f8  00000000 11-28 14:55:09.823      122-122/? I/DEBUG? bf9739fc  b8e16eb0  [heap] 11-28 14:55:09.823      122-122/? I/DEBUG? bf973a00  a5c97fa0  /dev/ashmem/dalvik-heap (deleted) 11-28 14:55:09.823      122-122/? I/DEBUG? bf973a04  00000038 11-28 14:55:09.823      122-122/? I/DEBUG? bf973a08  00000148 11-28 14:55:09.823      122-122/? I/DEBUG? bf973a0c  00000000 11-28 14:55:09.823      122-122/? I/DEBUG? bf973a10  00000008 11-28 14:55:09.823      122-122/? I/DEBUG? bf973a14  00000002 11-28 14:55:09.823      122-122/? I/DEBUG? bf973a18  00000001 11-28 14:55:09.823      122-122/? I/DEBUG? bf973a1c  b4eddcb4  /system/lib/libdvm.so 11-28 14:55:09.823      122-122/? I/DEBUG? ........  ........ 11-28 14:55:09.823      122-122/? I/DEBUG? memory map around fault addr fffffff8: 11-28 14:55:09.823      122-122/? I/DEBUG? bf955000-bf976000 rw- [stack] 11-28 14:55:09.823      122-122/? I/DEBUG? (no map for address) 11-28 14:55:09.823      122-122/? I/DEBUG? (no map above),0
635,14-12-03,Issue 635 : rowIndex > available rows ， Issue #635 ， realm/realm-java ， GitHub I'm getting this error when trying to delete an objet from realm: 12-02 18:06:42.144 1313-1313/com.globant.fernandoraviola.fidreader E/AndroidRuntime? FATAL EXCEPTION: main java.lang.ArrayIndexOutOfBoundsException: rowIndex > available rows. at io.realm.internal.Table.nativeMoveLastOver(Native Method) at io.realm.internal.Table.moveLastOver(Table.java:372) at io.realm.RealmObject.removeFromRealm(RealmObject.java:54) realm.beginTransaction(); Favorite favorite = realm.where(Favorite.class)                                 .equalTo("title"  entry.getTitle())                                 .findFirst();                         if (favorite != null) {                             favorite.removeFromRealm();                             isFavorite = false;                         } realm.commitTransaction();  Apparently  This happens when I try to remove the LAST item I added.,0
638,14-12-04,Issue 638 : ConcurrentModificationException while sending out notifications ， Issue #638 ， realm/realm-java ， GitHub Hi guys  we subscribed some of our ListAdapters to listen for Realm change notifications. Apparently we are receiving quite some crashes when those notifications are about to be sent out because the list holding the listeners we registered for these notification using addChangeListener is iterated in a thread-unsafe way. Please find the stack trace attached  the exception is thrown in Realm.java:681 :  java.util.ConcurrentModificationException        at java.util.ArrayList$ArrayListIterator.next(ArrayList.java:573)        at io.realm.Realm.sendNotifications(Realm.java:681)        at io.realm.Realm$RealmCallback.handleMessage(Realm.java:133)        at android.os.Handler.dispatchMessage(Handler.java:102)        at android.os.Looper.loop(Looper.java:136)        at android.app.ActivityThread.main(ActivityThread.java:5212)        at java.lang.reflect.Method.invokeNative(Method.java)        at java.lang.reflect.Method.invoke(Method.java:515)        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:602)        at dalvik.system.NativeStart.main(NativeStart.java)   Is this a problem on our side? We are currently using 0.74.0 since the Gradle version is not yet updated.,0
640,14-12-04,Issue 640 : ConcurrentModificationException when using iterators methods ， Issue #640 ， realm/realm-java ， GitHub Hi  I have such exception even I using iterators methods: Realm version 0.75.1  Android studio 1.0rc2 Caused by: java.util.ConcurrentModificationException: No outside changes to a Realm is allowed while iterating a RealmResults. Use iterators methods instead.             at io.realm.RealmResults.assertRealmIsStable(RealmResults.java:405)             at io.realm.RealmResults.access$200(RealmResults.java:44)             at io.realm.RealmResults$RealmResultsIterator.hasNext(RealmResults.java:422)             at com.coachesdirectory.coach.db.RealmHelper$5.doInBackground(RealmHelper.java:360)             at com.coachesdirectory.coach.db.RealmHelper$5.doInBackground(RealmHelper.java:347)             at android.os.AsyncTask$2.call(AsyncTask.java:288)             at java.util.concurrent.FutureTask.run(FutureTask.java:237) ????????????at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:231) ????????????at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112) ????????????at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587) ????????????at java.lang.Thread.run(Thread.java:818)  Here is part of my code: ****AsyncTask***** List<SchoolResult> favoriteSchools = params[0]; Realm realm = Realm.getInstance(context); realm.beginTransaction();  // Set all schools to remove RealmResults<RealmSchoolResult> markToRemove = realm.where(RealmSchoolResult.class)                         .equalTo("userAccountId"  userId)                         .findAll(); Iterator<RealmSchoolResult> schoolResultIterator = markToRemove.iterator(); while (schoolResultIterator.hasNext()) { // Crash at this line   RealmSchoolResult realmSchoolResult = schoolResultIterator.next();   realmSchoolResult.setNeedRemove(true); },0
652,14-12-08,Issue 652 : Sample app crashing on relaunch ， Issue #652 ， realm/realm-java ， GitHub IntroExample is crashing on Lollipop without printing any stack-trace but this line: Fatal signal 11 (SIGSEGV)  code 1  fault addr 0x398 in tid 18537 How to reproduce: Launch app  close app and then launch again. Same is reproducible on orientation change. We didn't tried running any other sample project. Tried on: Device: Qmobile i9 OS: Android 4.2.2 Device: Nexus 4 OS: Android Lollipop Device: Nexus 5 OS: Android Lollipop,0
655,14-12-10,Issue 655 : Usage of equals in comparison ， Issue #655 ， realm/realm-java ， GitHub Hi  Commit a0376da removed some of the lines which were required for more thorough object comparisons. The current implementation considers 2 objects same even if they have different instance values. e.g. current block of code will pass the equals check. User a = Realm.getInstance(this).createObject(User.class); a.setId(11); User b = Realm.getInstance(this).createObject(User.class); b.setId(12); a.equals(b); // ---- true --- // should be false I think the rowIndex should be considered while comparing 2 objects belonging to same table.,0
671,14-12-13,Issue 671 : Segmentation fault when performing updates ， Issue #671 ， realm/realm-java ， GitHub Hi there! Seems like I've found VERY odd bug leading to a segmentation fault in my app  which uses Realm. The bug happens when I use "-" symbol in Realm instance name: Realm realmInstance = Realm.getInstance(this  "somerealm-file-ok.realm"); It works absolutely ok  as intended. However  consider this app flow: Start IntentService upon activity creation In IntentService do: Realm.getInstance(context  "some-file-name.realm") Fetch data from network Then clear all my existing data in one single transaction using aquired instance (see 2) Then start saving different sets of entities  one transaction per set (e.g. 1 tx for List of Entity  1 tx for List of Model  etc)   using aquired instance (see 2) Succeed  close instance  stop IntentService internally In Activity  press back  returning to Launcher Launch activity again  in attempt to go through steps 1-7 again [time]2930-2930/? A/libc? Fatal signal 11 (SIGSEGV) at 0x00000390 (code=1)  thread 2930 (.myappname) There's only one Realm instance in IntentService  I do not pass it to other thread  and it is acquired in IntentService thread. After the Application is surely killed by system  I can launch it again and go through steps 1-9 again  receiving the same experience. Now the interesting part Everything works fine (? at least without SIGSEGV) when I acquire either the default instance for Context or instance with name  which does not contain "-" (dash) Realm.getInstance(someContext) Realm.getInstance(someContext  "nodashinname") UPDATE Only the instance with the default name does not cause SIGSEGV in the scenario above. I would really want to use Realm in production as the only truly powerful NoSQL available for the platform. But issues like may prevent anyone from being able to do so. Guys do something! :) Realm is too awesome not to be used in production in Android :),0
686,14-12-20,Issue 686 : Proxy class imports can cause ambiguous references  ， Issue #686 ， realm/realm-java ， GitHub While migrating to use the just-landed json features  I encountered an issue while deserializing a json object with string array property  something like: {     arr: [ 'item1'  'item2'  'item3' ] }  previously I fixed the issue by creating a wrapper class (e.g RealmString) and since I was parsing json manually via gson  it was working ok  but now I can't find a workaround to this issue  any ideas? // other small issues... why can't we get a list of created objects via realm.createAllFromJson() similar to what we get from realm.createObjectFromJson()? I get reference is ambiguous error in the generated proxy class  when I have a model named Thread. Thanks for your great efforts  and keep up the good work!,0
687,14-12-20,Issue 687 : Trying to build 0.76.0 version with encryption fails ， Issue #687 ， realm/realm-java ， GitHub When trying to build the version 0.76.0 of the library i get an error trying to download the core library: http://static.realm.io/downloads/core/realm-core-android-0.86.0-encryption.tar.gz The standard version is available  but the encrypted one isn't there.,0
707,15-01-01,Issue 707 : Sorting results breaks query chaining ， Issue #707 ， realm/realm-java ， GitHub I think I've come across a weird bug on v0.76 - if you generate a sorted RealmResults  then query chaining starts throwing exceptions. (I'm not sure if this also happened on older versions of Realm.) Here's a somewhat contrived example: // Without sorting  it works fine // RealmList<Contact> contacts = realm.where(Group.class).findFirst().  // With sorting  it doesn't work RealmResults<Contact> contacts = realm.where(Group.class).findFirst().getContacts()                                             .where().findAll("key"  RealmResults.SORT_ORDER_ASCENDING);  // ArrayIndexOutOfBoundsException RealmResults<Contact> statusContacts = contacts.where().equalTo("status"  1).findAll();  // IllegalArgumentException: Field 'key': type mismatch.  RealmResults<Contact> keyContacts = contacts.where().equalTo("key"  "A").findAll();   All other source files are available here: https://github.com/gautamjain/DebugRealm/tree/master/app/src/main/java/io/gautam/debugrealm,0
710,15-01-04,Issue 710 : Incorrect samples in "Sorting" section ， Issue #710 ， realm/realm-java ， GitHub The "Sorting" section contains incorrect samples: result of .sort is void. http://realm.io/docs/java/0.76.0/#sorting,0
726,15-01-08,Issue 726 : java.lang.IllegalStateException: Cannot use ImplicitTransaction after it or its parent has been closed. ， Issue #726 ， realm/realm-java ， GitHub java.lang.IllegalStateException: Cannot use ImplicitTransaction after it or its parent has been closed.             at io.realm.internal.ImplicitTransaction.assertNotClosed(ImplicitTransaction.java:66)             at io.realm.internal.ImplicitTransaction.advanceRead(ImplicitTransaction.java:29)             at io.realm.Realm$RealmCallback.handleMessage(Realm.java:194)             at android.os.Handler.dispatchMessage(Handler.java:95)             at android.os.Looper.loop(Looper.java:176) I'm getting the above error while adding/updating realm objects in a background handler thread. What is the reason behind this?,0
729,15-01-09,Issue 729 : Getting a weird behavior when saving a string ， Issue #729 ， realm/realm-java ， GitHub java.lang.RuntimeException: Unspecified exception. Failure when converting short string to UTF-16 0x20 0xae 0x00 0x00 0x90 0xae 0x00 0x00 0x98 0x54 0x01 in io_realm_internal_Row.cpp line 126             at io.realm.internal.Row.nativeGetString(Native Method)             at io.realm.internal.Row.getString(Row.java:126)             at io.realm.MessageModelRealmProxy.getMessage(MessageModelRealmProxy.java:108),0
745,15-01-14,Issue 745 : Commit not visible to other realms untill restart of the application ， Issue #745 ， realm/realm-java ， GitHub When performing a realm.commitTransaction(); inside a thread the realm is not updated until the application is restarted. So the changes are persisted but not visible in my application when i query them from the main ui thread. This bug was not present in the previous version 0.75. Example:  new Thread(new Runnable() {             public void run() {                Realm realm =  Realm.getInstance(context);                realm.beginTransaction();                AnyRealmObject obj = realm.createObject(AnyRealmObject.class);                realm.commitTransaction();                realm.close();             }         }).start();  This code sent a onChange event in version (0.75) in my ui thread but doesn't do this any more. When deleting an object in a thread the onChange event is called.,0
763,15-01-19,Issue 763 : Involuntary invocation of close() ， Issue #763 ， realm/realm-java ， GitHub I have three AsyncTaskLoaders in which I make calls to a REST Api. Loader A and B: Two of them are simple one-shot calls. I receive a json (JSONObject) and put that object into my Realm. Loader C: The third one has a while loop. In this loop I retrieve a json (JSONArray) from my server and add them to my Realm. So  in short  the loop approx loops for ~80 times and within each cycle I begin a transaction  put a jsonstring consisting of 500 objects into my realm and commit the transaction. My app is really small. I have a Realm.getInstance(this) in onStart and realm.close() in onStop of my Activity. Within each loader I have the mandatory loadInBackground. At the beginning of that method I have Realm.getInstance(context) and at the end of it I have realm.close(). So I can see no duplicate or redundant close() call in my app. When I start my app and start Loader C everything works fine. If I start my app and start loader A and B and after that C  I get "Calling close() on a Realm that is already closed: /data/data/*/files/default.realm" TWICE at the first two iterations of the loop  but everything is added correctly to my Realm. Debugging calls to Realm.close() shows that it is called with the following stack (but not called by me) close():181  Realm (io.realm) finalize():169  Realm (io.realm) doFinalize():190  Daemons$FinalizerDaemon (java.lang) run():173  Daemons$FinalizerDaemon (java.lang) run():818  Thread (java.lang) That call to close() gives me the above mentioned output. If I can investigate more  let me now :) Realm Version: 0.77,0
765,15-01-19,Issue 765 : RealmMigrationNeededException doesn't clear all caches ， Issue #765 ， realm/realm-java ， GitHub It looks like following code  doesn't properly clear the Realm cache  resulting in Realms with old schemas to exist which can cause NPE like this: Code to reproduce: @Override protected void onCreate(Bundle savedInstanceState) {   super.onCreate(savedInstanceState);   try {             realm = Realm.getInstance(this);         } catch (RealmMigrationNeededException e) {             Realm.deleteRealmFile(this);             realm = Realm.getInstance(this);         }   realm.allObjects(Person.class).findAll(); }  Error: Caused by: java.lang.NullPointerException                         E      at io.realm.PersonRealmProxy.setName(PersonRealmProxy.java:36)                         E      at io.realm.examples.intro.IntroExampleActivity.basicCRUD(IntroExampleActivity.java:101)                         E      at io.realm.examples.intro.IntroExampleActivity.onCreate(IntroExampleActivity.java:59)                         E      at android.app.Activity.performCreate(Activity.java:5231)                         E      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)                         E      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2148),0
771,15-01-21,Issue 771 : During a query findAll I got : java.lang.IllegalStateException: Objects cannot be changed outside a transaction ， Issue #771 ， realm/realm-java ， GitHub When my app starts I do a findAll on my model  the findAll itself crash  this make impossible to launch the app again. Clear all data will probably fix the issue  which is not the solution I am looking for. The code looks like :   @Override   public List<MyRealmObject> getAllObjects(String category) {     RealmResults<MyRealmObject> packageQuery = getRealm().where(MyRealmObject.class)         .equalTo("category"  category)         .findAll();     return packageQuery;   }  Let me know if you need more informations E/AndroidRuntime( 5994): Caused by: java.lang.IllegalStateException: Objects cannot be changed outside a transaction; see beginTransaction() for details. E/AndroidRuntime( 5994):    at io.realm.internal.Group.throwImmutable(Group.java:327) E/AndroidRuntime( 5994):    at io.realm.internal.Group.getTable(Group.java:222) E/AndroidRuntime( 5994):    at io.realm.Realm.getTable(Realm.java:245) E/AndroidRuntime( 5994):    at io.realm.RealmQuery.getTable(RealmQuery.java:101) E/AndroidRuntime( 5994):    at io.realm.RealmQuery.<init>(RealmQuery.java:58) E/AndroidRuntime( 5994):    at io.realm.Realm.where(Realm.java:921) E/AndroidRuntime( 5994):    at n.e.a.realm.RealmDatasource.getAll(RealmDatasource.java:228)  After few retry it now crash in the native code : F/libc    ( 9084): Fatal signal 11 (SIGSEGV)  code 1  fault addr 0xb873b54f in tid 9084 (n.e.a) E/WifiStateMachine(  925): VerifyingLinkState what=151572 NOT_HANDLED I/DEBUG   (  370): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** I/DEBUG   (  370): Build fingerprint: 'motorola/victara_tmo/victara:5.0/LXE22.46-11/10:user/release-keys' I/DEBUG   (  370): Revision: 'p2bf' I/DEBUG   (  370): ABI: 'arm' I/DEBUG   (  370): pid: 9084  tid: 9084  name: n.e.a  >>> n.e.a <<< I/DEBUG   (  370): signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0xb873b54f I/DEBUG   (  370):     r0 b839fe18  r1 00000000  r2 00736e6f  r3 69746361 I/DEBUG   (  370):     r4 0039b737  r5 b839fc28  r6 bede7cc8  r7 b839fea0 I/DEBUG   (  370):     r8 b839ff28  r9 b839fe18  sl 5f736e6e  fp 00e3d1b0 I/DEBUG   (  370):     ip bede7c50  sp bede7c20  lr b06b21ad  pc b062758e  cpsr 20070030 I/DEBUG   (  370):  I/DEBUG   (  370): backtrace: I/DEBUG   (  370):     #00 pc 0001f58e  /data/app/n.e.a-1/lib/arm/libtightdb-jni.so (tightdb::Array::get(unsigned int) const+13) I/DEBUG   (  370):     #01 pc 000aa1a9  /data/app/n.e.a-1/lib/arm/libtightdb-jni.so (tightdb::GroupWriter::merge_free_space()+48) I/DEBUG   (  370):     #02 pc 000aa5a1  /data/app/n.e.a-1/lib/arm/libtightdb-jni.so (tightdb::GroupWriter::write_group()+26) I/DEBUG   (  370):     #03 pc 000aaf61  /data/app/n.e.a-1/lib/arm/libtightdb-jni.so (tightdb::SharedGroup::low_level_commit(unsigned long long)+174) I/DEBUG   (  370):     #04 pc 000ab109  /data/app/n.e.a-1/lib/arm/libtightdb-jni.so (tightdb::SharedGroup::do_commit()+116) I/DEBUG   (  370):     #05 pc 000ab135  /data/app/n.e.a-1/lib/arm/libtightdb-jni.so (tightdb::SharedGroup::commit_and_continue_as_read()+4) I/DEBUG   (  370):     #06 pc 000235cd  /data/app/n.e.a-1/lib/arm/libtightdb-jni.so (Java_io_realm_internal_SharedGroup_nativeCommitAndContinueAsRead+8) I/DEBUG   (  370):     #07 pc 001fd09b  /data/dalvik-cache/arm/data@app@n.e.a-1@base.apk@classes.dex W/debuggerd(  370): type=1400 audit(0.0:40): avc: denied { search } for uid=0 name="n.e.a" dev="mmcblk0p39" ino=286224 scontext=u:r:debuggerd:s0 tcontext=u:object_r:app_data_file:s0 tclass=dir permissive=0 W/debuggerd(  370): type=1400 audit(0.0:41): avc: denied { search } for uid=0 name="n.e.a" dev="mmcblk0p39" ino=286224 scontext=u:r:debuggerd:s0 tcontext=u:object_r:app_data_file:s0 tclass=dir permissive=0 W/debuggerd(  370): type=1400 audit(0.0:42): avc: denied { search } for uid=0 name="n.e.a" dev="mmcblk0p39" ino=286224 scontext=u:r:debuggerd:s0 tcontext=u:object_r:app_data_file:s0 tclass=dir permissive=0 I/DEBUG   (  370):  I/DEBUG   (  370): Tombstone written to: /data/tombstones/tombstone_00```,1
791,15-01-25,Issue 791 : Getting "Native crash at /data/app-lib/<package_name>-2/libtightdb-jni.so" ， Issue #791 ， realm/realm-java ， GitHub Build fingerprint: 'samsung/jfltexx/jflte:4.4.2/KOT49H/I9505XXUGNG8:user/release-keys' Revision: '11' pid: 31444  tid: 31498  name: MESSAGING >>> <package_name> <<< signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 32af6378 r0 7af756a8 r1 7af756a0 r2 00000000 r3 72631090 r4 7af756a8 r5 32af6374 r6 7af756a0 r7 7af757f0 r8 000001af r9 00000001 sl 00000002 fp 77d501d8 ip 7b7054ff sp 7af75680 lr 7b7023c5 pc 7b699fe6 cpsr 200d0030 d0 0000000000000000 d1 0000000000000000 d2 0000000000000000 d3 0000000000000000 d4 b1c4636148206e65 d5 3263313420000309 d6 3163343234323638 d7 6636343263633836 d8 414d46c600000000 d9 414d46c600000000 d10 414d46c600000000 d11 0000000000000000 d12 0000000000000000 d13 0000000000000000 d14 0000000000000000 d15 0000000000000000 d16 0b970105010b9700 d17 0b9702051795cb8d d18 0b97030517b4d8d6 d19 97040505a68fddb4 d20 97050501ea9b8c0b d21 97060501e9b1c20b d22 77170b970709400b d23 74276e6f64207968 d24 4162e41380000000 d25 0000000000000000 d26 0000000000000000 d27 0000000000000000 d28 0100010001000100 d29 0100010001000100 d30 416312d000000000 d31 4024000000000000 scr 20000012 backtrace: #00 pc 00031fe6 /data/app-lib/[package_name]-2/libtightdb-jni.so (tightdb::Array::init_from_mem(tightdb::MemRef)+7) #1 pc 0009a3c1 /data/app-lib/[package_name]-2/libtightdb-jni.so (tightdb::ArrayBigBlobs::set(unsigned int  tightdb::BinaryData  bool)+60) #2 pc 0009efcf /data/app-lib/[package_name]-2/libtightdb-jni.so (tightdb::ArrayBigBlobs::set_string(unsigned int  tightdb::StringData)+12) #3 pc 0009d68b /data/app-lib/[package_name]-2/libtightdb-jni.so ((anonymous namespace)::SetLeafElem::update(tightdb::MemRef  tightdb::ArrayParent*  unsigned int  unsigned int)+396) code around pc: 7b699fc4 2904ba31 f004d101 2908ba63 f004d101 7b699fd4 2940ba95 f004d1ea b5f8bac9 680d4604 7b699fe4 792b460e 760309db f3c3792b 76431380 7b699ff4 f3c3792b 76831340 f0034628 6160ffac 7b69a004 46284607 ffaff003 68736a62 685260e0 7b69a014 d3084293 f0034628 6823ffae 695b463a 7b69a024 46204601 68734798 61203508 60654620 7b69a034 696160a3 40f8e8bd b538e7ae 69c04604 7b69a044 6a21460d 68db6803 68a24798 46014290 7b69a054 42a8d101 4620d304 fee6f7f8 bd382001 7b69a064 bd382000 4ff0e92d 6a46b087 f8dd4607 7b69a074 468a8040 4614461d f8dd4630 46419044 7b69a084 ff59f003 3004f990 2b004683 f8d9db09 7b69a094 a9043000 9004689b f8cd4648 47988014 7b69a0a4 f003e024 3802ff60 d9072801 46414638 7b69a0b4 febaf7f8 f0034638 e017ff77 21004658 code around lr: 7b7023a4 f77f940c 4605ff37 4629980d 695b6803 7b7023b4 95034798 a902ad04 46289002 fe0df797 7b7023c4 46214628 f8cd970b f7988030 6872f953 7b7023d4 99074628 e88d6833 460a0204 ff64f7ff 7b7023e4 e8bdb027 bf0083f0 00063856 41f0e92d 7b7023f4 4698b0a4 46164b11 6a422400 9403447b 7b702404 94094605 940a3308 460fac24 f844920b 7b702414 46203d88 f91af000 99056872 68334620 7b702424 0104e88d f7ff460a 4628ff3f 9a044639 7b702434 f7982300 b024fb07 81f0e8bd 000637ec 7b702444 43f8e92d 9d08461c 46894606 1c6b684f 7b702454 68c5bf08 f107b112 e0140801 e01246b8 7b702464 46214630 fed6f77f 6a704601 69526802 7b702474 79824790 02127941 4201eb02 440a79c1 7b702484 d0034542 42ac3401 e008d1ea f8d93008 7b702494 463a1000 e96cf77d d1f32800 f04fe003 Other details: Android Version 4.4 Device: Galaxy S4 (jflte),0
846,15-02-11,Issue 846 : Type mismatch after migration ， Issue #846 ， realm/realm-java ， GitHub In our migration we delete a field and afterwards we get in some cases a "type mismatch. Was BOOLEAN  expected INTEGER" for the field isUploaded Our class looks like: public class PictureFile extends RealmObject {     private int id;     private String fileName;     // private String description;     private boolean isUploaded;      // Getter and Setter for all fields }  This happened to us in with multiple tables. We could see that the row indices caches in the static field columnIndices of the Realm class don't correspond to the actual indices of the table (checked with getTable for debugging). For the migration we use the following code: Table pictureFileTable = realm.getTable(PictureFile.class); if (getIndexForProperty(pictureFileTable  "description") >= 0) {     pictureFileTable.removeColumn(getIndexForProperty(pictureFileTable  "description")); }  We have multiple migrations on other tables before  but that is the first column removal on this table. How can we fix the migration to avoid this problem  because restarting doesn't fix the problem and app data has to be cleared. We also observed the inconsistency between the Realm.columnIndices field the actual file when we added a column in the migration. This is because the migration always adds it to the end  but we didn't but the new field after all the existing field. Therefore the indices were messed up. For example: public static class Test extends RealmObject {        private int oldField;        private int oldField2;        private int newField; // added by migration        private int oldField3; }  The indices for newField and oldField3 are messed up when the migration was executed  otherwise everything was fine. Any help is appreciated Greeting Wicket,0
859,15-02-17,Issue 859 : copyToRealmOrUpdate() results in stack overflow for models with cyclic relationships ， Issue #859 ， realm/realm-java ， GitHub Similar to #484 and #589. If a model has a cyclic relation with another model it'll continously try to copy() or update()  resulting in stack overflow.,0
864,15-02-18,Issue 864 : copyToRealmOrUpdate() Throws PrimaryKey Constraint Exception When PrimaryKey Is Field In Non-PrimaryKey Class ， Issue #864 ， realm/realm-java ， GitHub copyToRealmOrUpdate() doesn't seem to pass the update flag through for objects that don't have a primaryKey and thus any fields within that object is only attempted to be copied. Example: https://github.com/thorbenprimke/realm-java/tree/nestedObjectCausesPrimaryKeyConflict Example code: https://github.com/thorbenprimke/realm-java/blob/9f2992ef20e9b3241bac9a6e45f7fe034167c70f/examples/introExample/src/main/java/io/realm/examples/intro/IntroExampleActivity.java#L106,0
870,15-02-19,Issue 870 : Android 2.3: Could not find validateTable method in generated proxy class ， Issue #870 ， realm/realm-java ， GitHub I've recently changed my app's minimum API level to 9 and when testing on Android 2.3 I always get this exception: java.lang.RuntimeException: Unable to create application com.tbilisi.bus.App: io.realm.exceptions.RealmException: Could not find the validateTable method in the generated io.realm.HistoryItemRealmProxy class: Annotation processor may not have been executed.             at android.app.ActivityThread.handleBindApplication(ActivityThread.java:3413)             at android.app.ActivityThread.access$2200(ActivityThread.java:124)             at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1012)             at android.os.Handler.dispatchMessage(Handler.java:99)             at android.os.Looper.loop(Looper.java:130)             at android.app.ActivityThread.main(ActivityThread.java:3821)             at java.lang.reflect.Method.invokeNative(Native Method)             at java.lang.reflect.Method.invoke(Method.java:507)             at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)             at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)             at dalvik.system.NativeStart.main(Native Method)      Caused by: io.realm.exceptions.RealmException: Could not find the validateTable method in the generated io.realm.HistoryItemRealmProxy class: Annotation processor may not have been executed.             at io.realm.Realm.initializeRealm(Realm.java:608)             at io.realm.Realm.createAndValidate(Realm.java:523)             at io.realm.Realm.create(Realm.java:480)             at io.realm.Realm.getInstance(Realm.java:397)             at io.realm.Realm.getInstance(Realm.java:359)             at io.realm.Realm.getInstance(Realm.java:340)             at com.tbilisi.bus.App.loadRealm(App.java:22)             at com.tbilisi.bus.App.onCreate(App.java:18)             at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:969)             at android.app.ActivityThread.handleBindApplication(ActivityThread.java:3410) ????????????at android.app.ActivityThread.access$2200(ActivityThread.java:124) ????????????at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1012) ????????????at android.os.Handler.dispatchMessage(Handler.java:99) ????????????at android.os.Looper.loop(Looper.java:130) ????????????at android.app.ActivityThread.main(ActivityThread.java:3821) ????????????at java.lang.reflect.Method.invokeNative(Native Method) ????????????at java.lang.reflect.Method.invoke(Method.java:507) ????????????at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839) ????????????at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597) ????????????at dalvik.system.NativeStart.main(Native Method)  All of my source is published at https://github.com/shvelo/tbilisi-bus I've tried adding @RealmClass to my models but it doesn't help at all.,0
875,15-02-20,Issue 875 : Deleting from RealmList throws exception ， Issue #875 ， realm/realm-java ， GitHub Hi @cmelchior I am probably experiencing the same issue. I am using ver. 0.79.0. FATAL EXCEPTION: main java.lang.ArrayIndexOutOfBoundsException: rowIndex > available rows. at io.realm.internal.LinkView.nativeRemove(Native Method) at io.realm.internal.LinkView.remove(LinkView.java:67) at io.realm.RealmList.remove(RealmList.java:189) at com.sampleapp.MergedCardsListClick$1.onClick(MergedCardsListClick.java:64) ... at dalvik.system.NativeStart.main(Native Method)  This issue happens when I try to delete the last element in RealmList. Here is my code: for (int i = 0; i < parent.getChildren().size(); i++) {     if (parent.getChildren().get(i).get_id() == object.get_id()) {         mRealm.beginTransaction();         parent.getChildren().remove(i); // Line that throws ArrayIndexOutOfBoundsException         mRealm.commitTransaction();         break;     } } The strange thing is that when I try to delete any element but not last  it does not crash. But when I try to delete the last element (again  any element)  it crashes. So I changed the code a bit to make it work: (maybe somebody will find it helpful) for (int i = 0; i < size; i++) {     if (parent.getChildren().get(i).get_id() == sms.get_id()) {         mRealm.beginTransaction();         if (size != 1) {             parent.getChildren().remove(i); // does not crash         } else {             parent.getChildren().clear(); // does not crash         }         mRealm.commitTransaction();         break;     } } My model: package com.sampleapp;  import io.realm.RealmList; import io.realm.RealmObject; import io.realm.annotations.Index; import io.realm.annotations.RealmClass;  @RealmClass public class Parent extends RealmObject {     private long _id;      @Index     private String originalText;     private Parent parent;     private RealmList<Parent> children;      public long get_id() {         return _id;     }      public void set_id(long _id) {         this._id = _id;     }      public String getOriginalText() {         return originalText;     }      public void setOriginalText(String originalText) {         this.originalText = originalText;     }      public Parent getParent() {         return parent;     }      public void setParent(Parent parent) {         this.parent = parent;     }      public RealmList<Parent> getChildren() {         return children;     }      public void setChildren(RealmList<Parent> children) {         this.children = children;     } } Summary: It crashes every time. (I've seen it multiple times) It is reproducable. Experienced crashes on Android 4.1.2 (Samsung Galaxy S3)  4.4.4. (Sony Z3 Compact) Happens when a user taps on the button in order to delete the last child.,0
881,15-02-21,Issue 881 : Compilation error in the code generated by the annotation processor ， Issue #881 ， realm/realm-java ， GitHub I have the following simple model class... @RealmClass public class Category extends RealmObject {    @PrimaryKey     private String id;     private I18Ntext name;     private float order;     private String imageUrl;     private String iconUrl;     private RealmList<Template> questionTemplates; }  And this is the portion of the RealmProxy class that is not compiling after the annotation processing... public static void populateUsingJsonStream(Category obj  JsonReader reader) throws IOException {         boolean standalone = obj.realm == null;         reader.beginObject();         while (reader.hasNext()) {             String name = reader.nextName();             if (name.equals("iconUrl") && reader.peek() != JsonToken.NULL) {                 obj.setIconUrl((String) reader.nextString());             } else if (name.equals("id")  && reader.peek() != JsonToken.NULL) {                 obj.setId((String) reader.nextString());             } else if (name.equals("imageUrl")  && reader.peek() != JsonToken.NULL) {                 obj.setImageUrl((String) reader.nextString());             } else if (name.equals("name")  && reader.peek() != JsonToken.NULL) {                 com.riotmill.justus.services.model.I18Ntext name = standalone ? new com.riotmill.justus.services.model.I18Ntext() : obj.realm.createObject(com.riotmill.justus.services.model.I18Ntext.class);                 I18NtextRealmProxy.populateUsingJsonStream(name  reader);                 obj.setName(name);             } else if (name.equals("order")  && reader.peek() != JsonToken.NULL) {                 obj.setOrder((float) reader.nextDouble());             } else if (name.equals("questionTemplates")  && reader.peek() != JsonToken.NULL) {                 reader.beginArray();                 if (standalone) {                     obj.setQuestionTemplates(new RealmList<com.riotmill.justus.services.model.Template>());                 }                 while (reader.hasNext()) {                     com.riotmill.justus.services.model.Template item = standalone ? new com.riotmill.justus.services.model.Template() : obj.realm.createObject(com.riotmill.justus.services.model.Template.class);                     TemplateRealmProxy.populateUsingJsonStream(item  reader);                     obj.getQuestionTemplates().add(item);                 }                 reader.endArray();             } else {                 reader.skipValue();             }         }         reader.endObject();     }  As you can see one of the fields of the Realm object is "name"  and the code that is being generated is repeating that variable twice... once for the real "name" field and the other one by some code added by the processor  so the compiler is complaining with a "Duplicate local variable name" error. I change the name of the field of the model to something else just to test and is compiling without any problem. So I guess that changing this part "String name = reader.nextName();" with a variable name a little more cryptic should do the trick :).,0
892,15-02-24,Issue 892 : Update api-doc with references ， Issue #892 ， realm/realm-java ， GitHub http links are not linked correctly many places.,0
898,15-02-24,Issue 898 : Crash on 2database access with encryption enabled ， Issue #898 ， realm/realm-java ， GitHub Taking my comment from #810 and making it its own issue - On one of my test devices  running realm with encryption enabled produces a SIGSERV in libc. The line causing the crash is validateMethod = generatedClass.getMethod("validateTable"  new Class[]{ImplicitTransaction.class});  in initializeRealm in Realm.java (line 606 in 0.79.1). Notably the crash is not happening on the first initializeRealm is called  only on any subsequent time. The device with the issue is a Droid X running Android 4.4.4 - notable in that it is a Low Ram device. The issue does not happen if encryption is disabled (so I've only tested its presence on 0.78 and 0.79.1).,0
901,15-02-24,Issue 901 : Wrong Key Exception while multiple access to encrypted Realm file ， Issue #901 ， realm/realm-java ， GitHub Hi guys! I happened to stumble across bizarre situation while accessing encrypted database multiple times using different instances of Realm - the 'Wrong key used to decrypt Realm.' exception was thrown. It was weird because I was sure that i was passing matching byte array. (Of course there was no problem opening not encrypted database multiple times) . It occurs that exception is thrown when different instances of byte arrays are passed to Realm.getInstance(...)  due to checking equality by checking references: if (realm.key != key) {    throw new IllegalStateException(DIFFERENT_KEY_MESSAGE); }  My question is: is this behaviour planned? It does not seem much issue  but for me  it seems quite misleading to pass matching byte array  while getting 'Wrong key' exception or modify key byte array on the same reference  but still be able to access Realm. The code to reproduce the situation: @Override     protected void onCreate(Bundle savedInstanceState) {          super.onCreate(savedInstanceState);         Realm.deleteRealmFile(this  "test");         byte[] key = new byte[64];         byte[] key2 = new byte[64];         Realm realm = Realm.getInstance(this  "test"  key);         key[0] = 0xF; <-the most misleading fragment         realm = Realm.getInstance(this  "test"  key); <-opens         realm = Realm.getInstance(this  "test"  key2); <-Exception     },0
911,15-02-26,Issue 911 : Add support for building Realm on Windows ， Issue #911 ， realm/realm-java ， GitHub Hi developers ! I had this error when I run the project of Realm from the officiel site : Error:Execution failed for task ':downloadCore'. A problem occurred starting process 'command 'make'',0
926,15-03-05,Issue 926 : Fix version checker ， Issue #926 ， realm/realm-java ， GitHub No description provided.,0
933,15-03-07,Issue 933 : createOrUpdateFromJson also updates fields not set ， Issue #933 ， realm/realm-java ， GitHub If you update a existing RealmObject using Realm.createOrUpdateFromJson() it correctly creates default values for fields not set  however if a existing RealmObject is found the expected behavior would be to only override the fields actually set  eg public class Data extends RealmObject {   @PrimaryKey   private int id;   private boolean bool;   private String str;    ... }  // From empty database realm.beginTransaction(); Data obj = realm.createOrUpdateFromJson(Data.class  "{ "id":1  "str": "foo" }); obj.setBool(true); realm.commitTransaction();  realm.beginTransaction(); obj = realm.createOrUpdateFromJson(Data.class  "{ "id":1  "str": "foo" }) realm.commitTransaction();  obj.isBool() == false; // unexpected  it should maintain its value unless specifically set.,0
937,15-03-09,Issue 937 : SIGSEGV and subsequent out of memory issues ， Issue #937 ， realm/realm-java ， GitHub Hello guys  I have been trying to track down some SIGSEGV errors which seem to be happening somewhere in this area of code- I am not sure how to pin point it: r.beginTransaction();              if (isReload || categoryId == ApplicationConstants.CATEGORY_SEARCH_ID) { --------------------  POINTER X ---------------------                 // call the function directly to avoid screen flicker when the commitTransaction                 // triggers the update on the adapter                 RealmResults<Article> articles = getCurrentCategoryArticles();                 for (int i = 0; i < articles.size(); i++) {                     if (articles.get(i).getCategories().size() == 1) {                         articles.get(i).removeFromRealm();                         i--;                     } else {                         articles.get(i).getCategories().remove(cat);                     }                 }             }              if (isReload) {                 r.where(Category.class).equalTo("id"  categoryId)                         .findFirst()                         .setLastUpdated(Calendar.getInstance().getTimeInMillis()); //this can't be placed in its own function because realm doesn't support nested transactions                 itemsToLoad = true;             }              // there is an assumption made in the way the articles are loaded.             // if more than PAGE_COUNT articles are posted before the cache is invalidated              // some articles might be missing             try {                 if (jsonPosts != null) {                     if (jsonPosts.length() != 0) {                         for (int i = 0; i < jsonPosts.length(); i++) {                             JSONObject item = new JSONObject(jsonPosts.get(i).toString());                              Article existingArticle = getItemById(item.getInt("id"));                             if (existingArticle != null) {                                 if (!existingArticle.getCategories().contains(cat)) {                                     existingArticle.getCategories().add(cat);                                 }                             } else {                                 Article article = r.createObject(Article.class);                                  article.setId(item.getInt("id"));                                 article.setTitle(Html.fromHtml(item.getString("title")).toString());                                 article.setContent(item.getString("content"));                                 article.setAuthor(Html.fromHtml(((JSONObject) item.get("author")).getString("name")).toString());                                 article.getCategories().add(cat);                                  try {                                     article.setDescription(Html.fromHtml(item.getString("excerpt")).toString());                                 } catch (JSONException e) {                                 }                                   try {                                     article.setThumbnail(item.getString("thumbnail"));                                 } catch (JSONException e) {                                 }                                  try {                                     article.setImage(item.getJSONObject("thumbnail_images").getJSONObject("medium").getString("url"));                                 } catch (JSONException e) {                                 }                                  try {                                     article.setUrl(item.getString("url"));                                 } catch (JSONException e) {                                 }                                  try {                                     article.setDate(new SimpleDateFormat("yyyy-MM-dd HH:mm:ss"  Locale.ENGLISH).parse(item.getString("date")));                                 } catch (ParseException e) {                                 }                             }                         }                     } else {                         itemsToLoad = false;                     }                 }                  r.commitTransaction();             } catch (Exception e) {                 r.cancelTransaction();                 throw e;             }  This crashes the app and subsequent app launches  with this exception: 03-09 04:00:17.610  12755-12755/uk.co.entrepreneurhandbook.EHReader E/AndroidRuntime? FATAL EXCEPTION: main     Process: uk.co.entrepreneurhandbook.EHReader  PID: 12755     io.realm.internal.OutOfMemoryError: std::bad_alloc in io_realm_internal_table.cpp line 302             at io.realm.internal.Table.nativeMoveLastOver(Native Method)             at io.realm.internal.Table.moveLastOver(Table.java:373)             at io.realm.RealmObject.removeFromRealm(RealmObject.java:61)             at uk.co.entrepreneurhandbook.EHReader.ArticlesListDataSource.emptyCurrentCategory(ArticlesListDataSource.java:146)             at uk.co.entrepreneurhandbook.EHReader.ArticlesListDataSource.<init>(ArticlesListDataSource.java:53)             at uk.co.entrepreneurhandbook.EHReader.ArticlesListViewFragment.onActivityCreated(ArticlesListViewFragment.java:68)             at android.support.v4.app.Fragment.performActivityCreated(Fragment.java:1794)             at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:967)             at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1126)             at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:739)             at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1489)             at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:548)             at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1220)             at android.app.Activity.performStart(Activity.java:5949)             at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2261)             at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2360)             at android.app.ActivityThread.access$800(ActivityThread.java:144)             at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1278)             at android.os.Handler.dispatchMessage(Handler.java:102)             at android.os.Looper.loop(Looper.java:135)             at android.app.ActivityThread.main(ActivityThread.java:5221)             at java.lang.reflect.Method.invoke(Native Method)             at java.lang.reflect.Method.invoke(Method.java:372)             at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)             at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)  And line 146 is down here: private void emptyCurrentCategory() {         Realm r = Realm.getInstance(context);         Category currentCategory = r.where(Category.class).equalTo("id"  categoryId).findFirst();          r.beginTransaction();         RealmResults<Article> articles = getCurrentCategoryArticles();         for (int i = 0; i < articles.size(); i++) {             if (articles.get(i).getCategories().size() == 1) {                 articles.get(i).removeFromRealm(); <-------- 146                 i--;             } else {                 articles.get(i).getCategories().remove(currentCategory);             }         }         r.commitTransaction();     }  I am unsure how to proceed in helping you guys with this issue. I believe the code at pointer X seems to be somehow corrupting the realm. Please advise.,0
950,15-03-12,Issue 950 : com.squareup:javawriter included but not declared ， Issue #950 ， realm/realm-java ， GitHub I see you included com.squareup:javawriter in the jar package. This leads to dupplicate symbols if another dependency properly declares com.squareup:javawriter as a dependency. For instance espresso 2.0 relies on javawriter but it is properly declared in their pom. I▲ve prepared a sample project but I cannot reproduce the exact problem. I▲ve copied our list of depdendencies. Here is the sample project: https://github.com/falkorichter/realm-javawriter-dup- Here is the error I get: :library:compileDebugTestJava                  Note: Some input files use unchecked or unsafe operations. Note: Recompile with -Xlint:unchecked for details. :library:packageAllDebugTestClassesForMultiDex FAILED            FAILURE: Build failed with an exception.  * What went wrong: Execution failed for task ':library:packageAllDebugTestClassesForMultiDex'. > java.util.zip.ZipException: duplicate entry: com/squareup/javawriter/JavaWriter$Scope.class  Espresso has JavaWriter as a declared dependency (output of ./gradlew dependencies): androidTestCompile - Classpath for compiling the androidTest sources. +--- com.squareup:fest-android:1.0.8                                                         |    +--- com.android.support:support-v4:19.1.+ -> 19.1.0 |    \--- org.easytesting:fest-assert-core:2.0M10 |         \--- org.easytesting:fest-util:1.2.5 +--- org.mockito:mockito-core:1.9.5   |    +--- org.hamcrest:hamcrest-core:1.1 |    \--- org.objenesis:objenesis:1.0 +--- com.google.dexmaker:dexmaker:1.0 +--- com.google.dexmaker:dexmaker-mockito:1.0 |    +--- com.google.dexmaker:dexmaker:1.0 |    \--- org.mockito:mockito-core:1.9.5 (*) +--- com.android.support.test.espresso:espresso-core:2.0 |    +--- com.squareup:javawriter:2.1.1 |    +--- org.hamcrest:hamcrest-integration:1.1 |    |    \--- org.hamcrest:hamcrest-core:1.1 |    +--- org.hamcrest:hamcrest-library:1.1 |    |    \--- org.hamcrest:hamcrest-core:1.1 |    +--- javax.inject:javax.inject:1 |    +--- com.android.support.test.espresso:espresso-idling-resource:2.0 |    +--- com.android.support.test:testing-support-lib:0.1 |    |    \--- junit:junit-dep:4.10   |    |         \--- org.hamcrest:hamcrest-core:1.1 |    +--- com.google.code.findbugs:jsr305:2.0.1 |    +--- javax.annotation:javax.annotation-api:1.2 |    \--- org.hamcrest:hamcrest-core:1.1 +--- com.android.support.test:testing-support-lib:0.1 (*) +--- org.apache.commons:commons-io:1.3.2 |    \--- commons-io:commons-io:1.3.2 \--- com.squareup.okhttp:mockwebserver:2.1.0      \--- org.bouncycastle:bcprov-jdk15on:1.50  When unpacking your jar I see you included the Jarwriter without changing the package. This will lead to colisions. I found #348 as a releated issue.,0
953,15-03-12,Issue 953 : compactRealmFile() doesn't cleanup properly ， Issue #953 ， realm/realm-java ， GitHub If Realm.compactRealmFile() fails for some reason  the temporary files created might not get deleted. This can leave rather large copies of unused Realm files on the disc.,0
961,15-03-14,Issue 961 : Caused by: java.lang.IllegalArgumentException: Illegal Argument: Invalid Group file format. ， Issue #961 ， realm/realm-java ， GitHub I am a fan of Realm. When use it there is a crash below: Caused by: java.lang.IllegalArgumentException: Illegal Argument: Invalid Group file format.        at io.realm.internal.SharedGroup.createNativeWithImplicitTransactions(SharedGroup.java)        at io.realm.internal.SharedGroup.(SharedGroup.java:58)        at io.realm.Realm.(Realm.java:199)        at io.realm.Realm.createAndValidate(Realm.java:516)        at io.realm.Realm.create(Realm.java:480)        at io.realm.Realm.getInstance(Realm.java:397)        at io.realm.Realm.getInstance(Realm.java:378)  Can anybody tell me why ?,0
982,15-03-21,Issue 982 : Native crash after upgrading from 0.79.0 to 0.80.0 ， Issue #982 ， realm/realm-java ， GitHub Hi  I am experiencing a native crash after a library upgrade from 0.79.0 to 0.80.0. (the data from 0.79.0 is present in the phone) Unfortunately  I can't say at what line of my code it crashes but I can reproduce it. Everytime I start my app with the new library I get a crash. This is what I get in the logcat. 03-21 12:15:31.545: A/libc(28764): Fatal signal 11 (SIGSEGV) at 0x5d4bc000 (code=1)  thread 28764 (com.example) *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** Build fingerprint: 'samsung/m0xx/m0:4.1.2/JZO54K/I9300XXEMF6:user/release-keys' pid: 28764  tid: 28764  name: com.example  >>> com.example <<< signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 5d4bc000 03-21 12:15:31.710: W/PowerManagerService(2263): Timer 0x3->0x3|0x0 r0 bedd7474  r1 00000030  r2 0000002c  r3 bedd74a0 r4 bedd7474  r5 0008ed60  r6 bedd7620  r7 bedd7570 r8 5d42d2a0  r9 5d42d2a0  sl 5d6e5d8a  fp 00000002 ip 00000078  sp bedd7470  lr 5d63f8df  pc 5d63f8ec  cpsr 00000030 d0  43a000003f800000  d1  3ff000003f800000 d2  3ff0000000000000  d3  0000000100170000 d4  000005c041b80000  d5  000005c041b80000 d6  3ff0000000000000  d7  3f8000003f800000 d8  0000000000000000  d9  0000000000000000 d10 0000000000000000  d11 0000000000000000 d12 0000000000000000  d13 0000000000000000 d14 0000000000000000  d15 0000000000000000 d16 0000000000000000  d17 0000000000000000 d18 0000000000000000  d19 3ff0000000000000 d20 4008000000000000  d21 3fbc71c71c71c71c d22 3fcc7288e957b53b  d23 3fd24998d6307188 d24 3fd99a27ad32ddf5  d25 3fe555b0aaeac752 d26 0000000000000000  d27 0000000000000000 d28 0000000000000018  d29 0000000000000000 d30 0000000000000000  d31 0000000000000000 scr 60000011 backtrace: #00  pc 000168ec  /data/data/com.example/lib/libtightdb-jni.so #01  pc 000168db  /data/data/com.example/lib/libtightdb-jni.so stack: bedd7430  bedd7401  [stack] bedd7434  bedd7474  [stack] bedd7438  bedd7478  [stack] bedd743c  5d6e5d8a  /data/data/com.example/lib/libtightdb-jni.so bedd7440  bedd7474  [stack] bedd7444  bedd7620  [stack] bedd7448  bedd7570  [stack] bedd744c  5d42d2a0  /data/data/com.example/files/default.realm bedd7450  5d42d2a0  /data/data/com.example/files/default.realm bedd7454  5d6e5d8a  /data/data/com.example/lib/libtightdb-jni.so bedd7458  5d6f316c  /data/data/com.example/lib/libtightdb-jni.so bedd745c  bedd7474  [stack] bedd7460  0008ed60   bedd7464  bedd7620  [stack] bedd7468  df0027ad   bedd746c  00000000   #00  bedd7470  bedd7584  [stack] ........  ........ #01  bedd7470  bedd7584  [stack] bedd7474  5d6f316c  /data/data/com.example/lib/libtightdb-jni.so bedd7478  5d6f3100  /data/data/com.example/lib/libtightdb-jni.so bedd747c  5de7dff8   bedd7480  5de7dff8   bedd7484  5de7dff8   bedd7488  5dc7e014   bedd748c  5df4837e   bedd7490  5e07dff7   bedd7494  5d6f9984   bedd7498  00000010   bedd749c  5dc7e014   bedd74a0  5d6f3180  /data/data/com.example/lib/libtightdb-jni.so bedd74a4  00000006   bedd74a8  00000002   bedd74ac  00001008   memory near r0: bedd7454 5d6e5d8a 5d6f316c bedd7474 0008ed60  .]n]l1o]tt..`... bedd7464 bedd7620 df0027ad 00000000 bedd7584   v...'.......u.. bedd7474 5d6f316c 5d6f3100 5de7dff8 5de7dff8  l1o].1o]...]...] bedd7484 5de7dff8 5dc7e014 5df4837e 5e07dff7  ...]...]~..]...^ bedd7494 5d6f9984 00000010 5dc7e014 5d6f3180  ..o].......].1o] memory near r3: bedd7480 5de7dff8 5de7dff8 5dc7e014 5df4837e  ...]...]...]~..] bedd7490 5e07dff7 5d6f9984 00000010 5dc7e014  ...^..o].......] bedd74a0 5d6f3180 00000006 00000002 00001008  .1o]............ bedd74b0 00000000 00000000 00000000 00000000  ................ bedd74c0 00000000 00000000 00000000 00000000  ................ memory near r4: bedd7454 5d6e5d8a 5d6f316c bedd7474 0008ed60  .]n]l1o]tt..`... bedd7464 bedd7620 df0027ad 00000000 bedd7584   v...'.......u.. bedd7474 5d6f316c 5d6f3100 5de7dff8 5de7dff8  l1o].1o]...]...] bedd7484 5de7dff8 5dc7e014 5df4837e 5e07dff7  ...]...]~..]...^ bedd7494 5d6f9984 00000010 5dc7e014 5d6f3180  ..o].......].1o] memory near r5: 0008ed40 ffffffff ffffffff ffffffff ffffffff  ................ 0008ed50 ffffffff ffffffff ffffffff ffffffff  ................ 0008ed60 ffffffff ffffffff ffffffff ffffffff  ................ 0008ed70 ffffffff ffffffff ffffffff ffffffff  ................ 0008ed80 ffffffff ffffffff ffffffff ffffffff  ................ memory near r6: bedd7600 bedd7620 bedd7648 41318444 413f78d8   v..Hv..D.1A.x?A bedd7610 bedd765c 5d692287 00000002 00000000  \v..."i]........ bedd7620 5d42d2a0 ffffffff 5d4ce748 571051b0  ..B]....H.L].Q.W bedd7630 413f78c8 00000004 41318454 40866eb4  .x?A....T.1A.n.@ bedd7640 00000005 00000000 41318440 00000001  ........@.1A.... memory near r7: bedd7550 5d42d29f bedd7590 bedd75f0 0000001c  ..B].u...u...... bedd7560 00000003 582e61d0 c0000000 00000006  .....a.X........ bedd7570 00000000 5d525e34 5d52b1a8 4008b4ab  ....4^R]..R]...@ bedd7580 00000000 5d42d2a0 bedd7590 408d4fed  ......B].u...O.@ bedd7590 00000000 000007ff 00000005 420f2578  ............x%.B memory near r8: 5d42d280 36393038 03000000 36393038 03000000  8096....8096.... 5d42d290 31323834 03000000 36393038 03000000  4821....8096.... 5d42d2a0 00000000 08000000 00000000 08000000  ................ 5d42d2b0 00500000 20000001 40000000 030000e5  ..P.... ...@.... 5d42d2c0 00480000 20000000 00800000 20000040  ..H.... ....@..  memory near r9: 5d42d280 36393038 03000000 36393038 03000000  8096....8096.... 5d42d290 31323834 03000000 36393038 03000000  4821....8096.... 5d42d2a0 00000000 08000000 00000000 08000000  ................ 5d42d2b0 00500000 20000001 40000000 030000e5  ..P.... ...@.... 5d42d2c0 00480000 20000000 00800000 20000040  ..H.... ....@..  memory near sl: 5d6e5d68 61746144 7461642e 203d2061 72745300  Data.data = .Str 5d6e5d78 44676e69 20617461 68207361 3d207865  ingData as hex = 5d6e5d88 30200020 6e690078 6765625f 3d206e69   . 0x.in_begin = 5d6e5d98 6e690020 646e655f 00203d20 5f74756f   .in_end = .out_ 5d6e5da8 72727563 00203d20 5f74756f 20646e65  curr = .out_end  memory near sp: bedd7450 5d42d2a0 5d6e5d8a 5d6f316c bedd7474  ..B].]n]l1o]tt.. bedd7460 0008ed60 bedd7620 df0027ad 00000000  `... v...'...... bedd7470 bedd7584 5d6f316c 5d6f3100 5de7dff8  .u..l1o].1o]...] bedd7480 5de7dff8 5de7dff8 5dc7e014 5df4837e  ...]...]...]~..] bedd7490 5e07dff7 5d6f9984 00000010 5dc7e014  ...^..o].......] code around pc: 5d63f8cc 44794938 f08c6809 f04ff853 f08c0130  8IyD.h..S.O.0... 5d63f8dc 6802f9f7 f8524603 44132c0c b008f8c3  ...h.FR.. .D.... 5d63f8ec 1005f819 fc32f08c e7e23501 4479492e  ......2..5...IyD 5d63f8fc fb5ef08c 4620492d f08c4479 4641fb59  ..^.-I FyD..Y.AF 5d63f90c fb56f08c 4479492a fb52f08c 46204929  ..V.*IyD..R.)I F code around lr: 5d63f8bc 687344fa 429d4620 4651d218 fb78f08c  .Dsh F.B..QF..x. 5d63f8cc 44794938 f08c6809 f04ff853 f08c0130  8IyD.h..S.O.0... 5d63f8dc 6802f9f7 f8524603 44132c0c b008f8c3  ...h.FR.. .D.... 5d63f8ec 1005f819 fc32f08c e7e23501 4479492e  ......2..5...IyD 5d63f8fc fb5ef08c 4620492d f08c4479 4641fb59  ..^.-I FyD..Y.AF memory map around fault addr 5d4bc000: 5d4b9000-5d4bc000  (no map for address) 5d4cb000-5d4dd000  !@dumpstate -k -t -z -d -o /data/log/dumpstate_app_native -m 28764  Android 4.1.2 Samsung Galaxy S3 Eclipse Target SDK 5.0.1,0
993,15-03-27,Issue 993 : Realm.copyToRealm() should set PrimaryKey values directly ， Issue #993 ， realm/realm-java ， GitHub Hi guys  It's known that null is not supported. But it seems like it could lead to the DB corruption if you try to write something with a null @PRIMARYKEY field. The best would be to just crash before putting something into the DB. So what happened with me. I by mistake executed something like this:         Realm realm = Realm.getInstance(this);         realm.beginTransaction();         UserRealm userRealm = realm.createObject(UserRealm.class);         realm.commitTransaction();         realm.close(); UserRealm class: public class UserRealm extends RealmObject {     @PrimaryKey private String token;      // getter and setter } So the first time I executed it nothing crashed. But starting from the second execution it was throwing Caused by: io.realm.exceptions.RealmException: Primary key constraint broken. Value already exists:. And even when I tried to write something with a set primary key it still failed with the same exception:         Realm realm = Realm.getInstance(this);         realm.beginTransaction();         UserRealm userRealm = realm.createObject(UserRealm.class);         userRealm.setToken("some_token");         realm.commitTransaction();         realm.close(); And if you do realm.allObjects(UserRealm.class) it returns one user with a null token. So basically DB is corrupted after that. And you can't write anything in this "table". Looks like a great way to shoot yourself in both legs in production. Full Stacktrace: io.realm.exceptions.RealmException: Primary key constraint broken. Value already exists:             at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2184)             at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2233)             at android.app.ActivityThread.access$800(ActivityThread.java:135)             at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)             at android.os.Handler.dispatchMessage(Handler.java:102)             at android.os.Looper.loop(Looper.java:136)             at android.app.ActivityThread.main(ActivityThread.java:5001)             at java.lang.reflect.Method.invokeNative(Native Method)             at java.lang.reflect.Method.invoke(Method.java:515)             at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:785)             at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601)             at dalvik.system.NativeStart.main(Native Method)      Caused by: io.realm.exceptions.RealmException: Primary key constraint broken. Value already exists:             at io.realm.internal.Table.throwDuplicatePrimaryKeyException(Table.java:687)             at io.realm.internal.Table.addEmptyRow(Table.java:376)             at io.realm.Realm.createObject(Realm.java:1086)             at chocodile.witdot.com.playground.MainActivity.onCreate(MainActivity.java:31)             at android.app.Activity.performCreate(Activity.java:5231)             at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)             at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2148) ????????????at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2233) ????????????at android.app.ActivityThread.access$800(ActivityThread.java:135) ????????????at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196) ????????????at android.os.Handler.dispatchMessage(Handler.java:102) ????????????at android.os.Looper.loop(Looper.java:136) ????????????at android.app.ActivityThread.main(ActivityThread.java:5001) ????????????at java.lang.reflect.Method.invokeNative(Native Method) ????????????at java.lang.reflect.Method.invoke(Method.java:515) ????????????at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:785) ????????????at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601) ????????????at dalvik.system.NativeStart.main(Native Method),0
1004,15-04-01,Issue 1004 : Primary key/Index not checked in validateTable ， Issue #1004 ， realm/realm-java ， GitHub Primary keys and indexes are are not checked by RealmProxy.validateTable()  this means the following error scenario is possible: Migrate a Realm: Add a new class with a primary key configured in the class  but forgetting to call table.setPrimaryKey(field) in the migration code. Migration succeed  because validateTable doesn't check for primary key. Using Realm.copyOrUpdate() will fail with a RealmException because it can't find the primary key column. Solution: Use long columnIndex = Table.getPrimaryKey() and Table.hasIndex(columnIndex) in RealmProxy.validateTable() to verify that model class and table structures in Realm match.,0
1006,15-04-02,Issue 1006 : copyToRealm() tries to copy nested objects even if they are already in the Realm ， Issue #1006 ， realm/realm-java ， GitHub Hey guys  This piece of code leads to the exception Caused by: io.realm.exceptions.RealmException: Primary key constraint broken. Value already exists: brother         realm.beginTransaction();         UserRealm brother = realm.createObject(UserRealm.class);         brother.setToken("brother");          UserRealm user = new UserRealm();         user.setToken("token");         user.setBrother(brother);         realm.copyToRealm(user);         realm.commitTransaction();         } Changing copyToRealm to copyToRealmOrUpdate solves it. Using UserRealm user = realm.createObject(UserRealm.class) also solves it. It looks like even though brother is an object from the DB  Realm anyway treats it as a new object during the copyToRealm(). It's either a bug  or a confusing design.,0
1008,15-04-02,Issue 1008 : Lollipop WebView crash encrypted Realms  ， Issue #1008 ， realm/realm-java ， GitHub For some weird reason Realm is crashing with Lollipop (Android 5.x) using encrypted database and CookieManager. Can you check if you get any explanation for this. If I remove Realm from the scope or only remove db encryption it doesn't crash. Using Realm: compile 'io.realm:realm-android:0.80.1-SNAPSHOT' Need to have like 15-20 Realm classes with 15 string members each. Here is minimum code sample to reproduce the crash. private void makeRealmCrash() {     final String dbName = "realm_crash";     final String key = "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa";      Realm.deleteRealmFile(MainActivity.this  dbName);      for (int i = 0; i < 10; i++) {         final int ii = i;         new AsyncTask<Void  Void  Void>() {              @Override             protected Void doInBackground(Void... params) {                 Realm r = Realm.getInstance(getApplicationContext()  dbName  key.getBytes());                  try {                     Thread.currentThread().sleep(ii * 25);                 } catch (Exception e) {                     e.printStackTrace();                 }                  r.close();                  return null;             }              @Override             protected void onPostExecute(Void aVoid) {                 super.onPostExecute(aVoid);                  CookieManager.getInstance();             }         }.execute();     } }  04-07 15:38:10.339 7639-7674/com.test.testing A/libc? Fatal signal 11 (SIGSEGV)  code -6  fault addr 0x1dd7 in tid 7674 (AsyncTask #2) 04-07 15:38:10.441 29379-29379/? I/DEBUG? *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 04-07 15:38:10.441 29379-29379/? I/DEBUG? Build fingerprint: 'google/hammerhead/hammerhead:5.0.1/LRX22C/1602158:user/release-keys' 04-07 15:38:10.441 29379-29379/? I/DEBUG? Revision: '11' 04-07 15:38:10.441 29379-29379/? I/DEBUG? ABI: 'arm' 04-07 15:38:10.441 29379-29379/? I/DEBUG? pid: 7639  tid: 7674  name: AsyncTask #2 >>> com.test.testing <<< 04-07 15:38:10.441 29379-29379/? I/DEBUG? signal 11 (SIGSEGV)  code -6 (SI_TKILL)  fault addr 0xa220603c 04-07 15:38:10.447 29379-29379/? I/DEBUG? r0 a11ff2e0 r1 a11ff238 r2 afa38108 r3 00000000 04-07 15:38:10.447 29379-29379/? I/DEBUG? r4 a11ff2e0 r5 a2206038 r6 a11ff238 r7 affdde2c 04-07 15:38:10.447 29379-29379/? I/DEBUG? r8 b1217000 r9 b1217030 sl 00003038 fp b1217040 04-07 15:38:10.447 29379-29379/? I/DEBUG? ip 00000000 sp a11ff220 lr aff74213 pc aff73f2a cpsr 800b0030 04-07 15:38:10.448 29379-29379/? I/DEBUG? backtrace: 04-07 15:38:10.448 29379-29379/? I/DEBUG? #00 pc 00060f2a /data/app/com.test.testing-1/lib/arm/libtightdb-jni.so 04-07 15:38:10.448 29379-29379/? I/DEBUG? #01 pc 0006120f /data/app/com.test.testing-1/lib/arm/libtightdb-jni.so,0
1012,15-04-05,Issue 1012 : arm64-v8a library not present in the eclipse folder from the zip distribution ， Issue #1012 ， realm/realm-java ， GitHub Hi  looks like it is only present in the realm-0.xx.0.jar. ps : I was trying the apk split using gradle and your doc mention to use the eclipse folder (http://realm.io/news/reducing-apk-size-native-libraries/). Thanks,0
1017,15-04-08,Issue 1017 : Requested table is not in this Realm ， Issue #1017 ， realm/realm-java ， GitHub I have the next crash Caused by: java.lang.IllegalStateException: Requested table is not in this Realm. Creating it requires a transaction: class_Chat     at io.realm.internal.Group.getTable(SourceFile:220)     at io.realm.Realm.getTable(SourceFile:330)     at io.realm.RealmQuery.(SourceFile:75)     at io.realm.Realm.where(SourceFile:1270)     at io.chat.runner.db.a.a(SourceFile:105)     at io.chat.runner.chat.ChatListFragment.m(SourceFile:227)     at io.chat.runner.chat.ChatListFragment.onResume(SourceFile:188)     at android.support.v4.app.Fragment.performResume(SourceFile:1829)     at android.support.v4.app.FragmentManagerImpl.moveToState(SourceFile:993)     at android.support.v4.app.FragmentManagerImpl.moveToState(SourceFile:1136)     at android.support.v4.app.FragmentManagerImpl.moveToState(SourceFile:1118)     at android.support.v4.app.FragmentManagerImpl.dispatchResume(SourceFile:1937)     at android.support.v4.app.FragmentActivity.onResumeFragments(SourceFile:444)     at android.support.v4.app.FragmentActivity.onPostResume(SourceFile:433)     at android.support.v7.app.ActionBarActivity.onPostResume(SourceFile:146)     at android.app.Activity.performResume(Activity.java:6089)     at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2975)     ... 11 more  I ran ChatList screen several times and everything was okay.,0
1023,15-04-11,Issue 1023 : Crash with most recent WebView ， Issue #1023 ， realm/realm-java ， GitHub I found very unusual combination of crypted Realm and most recent WebView component from google. The crash happening almost instantly even try to open simple about:blank url insife WebUrl and having Realm crypted database opened. If try to use non crypted backend or old WebVew components the crash does not happens. Log cat shows folluwing details: E/chromium( 6573): ### WebView Version 40 (1832189-arm) (code 424501) F/libc ( 6573): Fatal signal 11 (SIGSEGV)  code -6  fault addr 0x19ad in tid 6624 (Thread-16916) I/DEBUG ( 186): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** I/DEBUG ( 186): Build fingerprint: 'google/hammerhead/hammerhead:5.1/LMY47D/1743759:user/release-keys' I/DEBUG ( 186): Revision: '11' I/DEBUG ( 186): ABI: 'arm' I/DEBUG ( 186): pid: 6573  tid: 6624  name: Thread-16916 I/DEBUG ( 186): signal 11 (SIGSEGV)  code -6 (SI_TKILL)  fault addr 0xa152e000 I/DEBUG ( 186): r0 aef1e1c0 r1 aef1e1d9 r2 a152e000 r3 00000000 I/DEBUG ( 186): r4 00000019 r5 00000000 r6 aec6511c r7 00000000 I/DEBUG ( 186): r8 aec650c0 r9 9fdbb040 sl aec65110 fp a2104904 I/DEBUG ( 186): ip b6de47dc sp a21048f8 lr a2f5dee9 pc a2f31fcc cpsr 800f0030 I/DEBUG ( 186): I/DEBUG ( 186): backtrace: I/DEBUG ( 186): #00 pc 0005dfcc lib/arm/libtightdb-jni.so I/DEBUG ( 186): #1 pc 0005e043 lib/arm/libtightdb-jni.so I/DEBUG ( 186): #2 pc 0005fb03 lib/arm/libtightdb-jni.so I/DEBUG ( 186): #3 pc 00068e93 lib/arm/libtightdb-jni.so (Java_io_realm_internal_SharedGroup_nativeCommitAndContinueAsRead+42) I/DEBUG ( 186): #4 pc 0014bb8f @base.apk@classes.dex I/DEBUG ( 186): I/DEBUG ( 186): Tombstone written to: /data/tombstones/tombstone_05 Thus i am running non rooted device it seems i can't get tombstone_05 file if it has some useful data.,0
1037,15-04-16,Issue 1037 : Encrypted Realm database causes memory violation on Samsung S6 (and other ARM64 devices) ， Issue #1037 ， realm/realm-java ， GitHub With simple code like this running on Samsung S6 Edge  the application just closes  not crashes. Edit: Samsung S6 uses Android Lollipop 5.0.2 with TouchWiz @Override protected void onCreate(Bundle savedInstanceState) {      super.onCreate(savedInstanceState);      setContentView(R.layout.activity_main);      final String dbName = "realm_crash";     final String key = "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa";      Realm.deleteRealmFile(this  dbName);     Realm r = Realm.getInstance(this  dbName  key.getBytes());     r.close(); }  4971-4971/? E/audit? type=1701 msg=audit(1429171517.861:222): auid=4294967295 uid=10192 gid=10192 ses=4294967295 subj=u:r:untrusted_app:s0 pid=16358 comm="om.test.testing" reason="memory violation" sig=11 Force removing ActivityRecord{334a375a u0 com.test.testing/.MainActivity t141}: app died  no saved state,0
1040,15-04-17,Issue 1040 : expecting absolutePath.hashCode() not to collide each other ， Issue #1040 ， realm/realm-java ， GitHub 'absolutePath.hashCode()' is used as key of some HashMaps(realmsCache  referenceCount  etc.). realm-java/realm/src/main/java/io/realm/Realm.java Line 495 in 746083d int id = absolutePath.hashCode(); If hash code of absolutePath collides with each other  wrong Realm instance is returned on Realm.getInstance().,0
1051,15-04-20,Issue 1051 : copyToRealmOrUpdate SIGSEGV ， Issue #1051 ， realm/realm-java ， GitHub Hi  Following an update in my code  I randomly found a native crash (SIGSEGV 0x00000008) when using copyToRealmOrUpdate and an object with a declared @PrimaryKey which was not set before copy. Using Realm 0.80.1 To reproduce with a testCase: public class PrimaryKeyTest extends RealmObject {      @PrimaryKey     private String key;      public String getKey() {         return key;     }      public void setKey(String key) {         this.key = key;     } } public void testPrimKeyMissing() {         testRealm.beginTransaction();         try {             testRealm.copyToRealmOrUpdate(new PrimaryKeyTest());             testRealm.commitTransaction();         } catch (Exception e) {             // OK             testRealm.cancelTransaction();         } } ==> 'Instrumentation run failed due to 'Native crash'',0
1059,15-04-21,Issue 1059 : Unable to use a realm database file created with realm 0.80.0 with 0.80.1 ， Issue #1059 ， realm/realm-java ， GitHub I have a realm database file created using realm 0.80.0 that works fine under that version. After changing gradle to pull in 0.80.1 I get an exception thrown that a migration is needed. Using the following I create a migration:     try {         realm = Realm.getInstance(context);     } catch (RealmMigrationNeededException ex) {         Log.i(TAG  "migration needed");         Realm.migrateRealmAtPath(new File(context.getFilesDir()  "default.realm").getAbsolutePath()  new Migration());         Log.i(TAG  "migration complete");     }  the next error occurred was that I need a primary key which was already defined in the models but I made the migration set the primary key using the following on all of the database tables         Table personTable = realm.getTable(Person.class);         personTable.setPrimaryKey("id");  where the id attribute for the Person class is a long; After the migration has completed and I attempt to open the realm I get an error Expected columnType 0  but got 2. jni: ThrowingException 3  ColumnType invalid.  . Exception has been throw: Illegal Argument: ColumnType invalid.  It would be helpful if the column type error would actually state what table the error was in to help with debugging. However  the real problem is that I cannot use the realm file. All of the tables "id" field are defined as longs so I am unable to determine why the ColumnType.STRING (2) factors in anywhere.,0
1063,15-04-23,Issue 1063 : Search over RealmResults is unstable (realm 0.80.1) ， Issue #1063 ， realm/realm-java ， GitHub I've got a Contact class which has fields for first name etc. I've been trying to search through contact list provided by RealmQuery: RealmQuery<ContactData> query = ContactRealmAdapter.this.realmResultsContacts.where();  switch (name.length) {     case 1:         query               .beginsWith("firstName"  name[0]).or()               .beginsWith("patronym"  name[0]).or()               .beginsWith("lastName"  name[0]);         break; .... }  ContactRealmAdapter.this.realmResultsContacts =                             query.findAllSorted("lastName"  true);  As you can see  String[] name contains person's name split by whitespaces  all names are written in cyrillic symbols (UTF-8). The problem is that RealmResults is empty when name[0] begins with some of cyrillic symbols (for example  )  for no particular reason. I am aware of the fact that case insensitive string matches in queries are only supported for certain character sets  so that's not the problem. When I tried to query contacts directly through Realm instance  search worked perfectly. It also works when I search by one criteria  for example: query.beginsWith("lastName"  name[0]),0
1069,15-04-24,Issue 1069 : [DOC] RealmQuery.CASE_INSENSITIVE is not insensitive for special character ， Issue #1069 ， realm/realm-java ， GitHub When using the query below on the following text: J┴SANG SJ┴MAT it does not get hits on js or Js   but hits on J┴S and j┴s contains("name"  searchEditText.getText().toString()  RealmQuery.CASE_INSENSITIVE) Seems that it does not support non-english characters.,0
1076,15-04-30,Issue 1076 : Proper errorhandling missing when adding standalone objects to RealmList ， Issue #1076 ， realm/realm-java ， GitHub Reproduced on versions: 0.80.0  0.80.1 I have following data objects: public class RealmString extends RealmObject {     private String value;      public RealmString() {     }     public RealmString(String value) {         this.value = value;     }     public String getValue() {         return value;     }     public void setValue(String value) {         this.value = value;     } }  public class Person extends RealmObject {     private RealmList<RealmString> emailList;      // getter and setter } I want to get Person object from realm and update emailList Realm realm = ... realm.beginTransaction(); Person person = realm.where(Person.class).findFirst(); person.getEmailList().add(new RealmString("jondoe@gmail.com")); // this line crash with NPE realm.commitTransaction(); Crash log: Caused by: java.lang.NullPointerException             at io.realm.RealmList.add(RealmList.java:120)  I think person.getEmailList() return null  so I tried person.setEmailList(newList) which cause the same crash.,0
1094,15-05-07,Issue 1094 : RealmList clear() causes SIGSEGV in LinkView.nativeClear ， Issue #1094 ， realm/realm-java ， GitHub I've been using Realm in my Android app for a couple of months now  and changed from 0.80.0 to 0.80.1 about a week ago. I've had no major issues so far  until I added the following code:         long   scanItemId   = 1;         String partialTitle = "Man";          ScanItem scanItem = realm.where(ScanItem.class).equalTo("id"  scanItemId).findFirst();          // Do the search of our local database         boolean caseSensitive = false;         RealmResults<Movie> movieList = realm.where(Movie.class).contains("title"  partialTitle  caseSensitive).findAllSorted("title");          realm.beginTransaction();          scanItem.getMovieResultList().clear();        // <--- crashes here         scanItem.getMovieResultList().addAll(movieList); // <--- or  sometimes crashes here          realm.commitTransaction(); Sometimes it crashes in the clear() (at LinkView.nativeClear)  sometimes in the addAll() (at LinkView.nativeAdd) after 5 or 6 items are added. If I use different search criteria  it will crash after 5 or 6 or maybe 7 items are added. I have similar code all through the app  but haven't had any issues until this last week  with the code above. I tried copying the code to the main activity  and invoking it from a menu item  and it worked fine. Then I made some unrelated code changes in other places  went back and tried the code in the main activity again and it crashed  in the clear() method call. I have tried building a small app to reproduce this problem  and it will crash at the same place in the code above  but only when I use the same database. So  I'm not sure if it's something I'm doing  or if maybe the database has become corrupted? Although  I am able to retrieve all Movie records without any issues - all my other code manipulates the database and works fine. Here are the database classes (with some static methods  getters  setters removed for brevity): public class Movie extends RealmObject implements Filterable {      @PrimaryKey     private long                id = -1;      private String              title;      private RealmList<Isbn>     isbns = new RealmList<>();      private int                 year;      private Series              series;     private int                 numberInSeries;      private RealmList<Person>   actors = new RealmList<>();     private RealmList<Person>   directors = new RealmList<>();      private String              imdbId; // eg "tt0796365"      private String              lentTo;     private boolean             got;     private boolean             seen;     private boolean             want;     private int                 rating;     private String              comments;      private String              description;      public Movie() {     }      public Movie(String title) {         this.title = title;     } // getters  setters  etc removed }  public class ScanItem extends RealmObject {     @PrimaryKey     private long                id = -1;      /** If we know the ISBN or movie title  fill them in here */     private String              isbn = "";     private String              title = "";      /** The movie stored in the local database */     private long                dbMovieId = -1;      /** The movie we retrieved from the web */     private DvdItem             webMovie;      /** A list of movies indicates that the user needs to choose one  as we don't know which one it is */     private RealmList<Movie>    movieResultList = new RealmList<>();      /** A list of movies indicates that the user needs to choose one  as we don't know which one it is */     private RealmList<DvdItem>  webResultList = new RealmList<>();      /** If we are in the process of doing a lookup  track the progress here */     private int                 lookupStatus = LookupStatus.NONE.ordinal();      /** If we need the user to guide us  set this to what we need to know  so the user can be asked */     private int                 askUserRequest = AskUserRequest.NONE.ordinal();      /** If we get an exception  store it here so we can inform the user what happened */     private String              exceptionMessage = "";      private boolean             locked = false;      public ScanItem() {     } // getters  setters  etc removed }  Here's a copy of the crash log from logcat: 05-06 18:45:43.319  21007-21007/? D/dalvikvm? Trying to load lib /data/app-lib/com.stevem.collection.dvd-1/librealm-jni.so 0xa4f3caa0 05-06 18:45:43.319  21007-21007/? D/dalvikvm? Added shared lib /data/app-lib/com.stevem.collection.dvd-1/librealm-jni.so 0xa4f3caa0 05-06 18:45:47.069  21007-21007/? A/libc? Fatal signal 11 (SIGSEGV) at 0x49b67510 (code=1)  thread 21007 (.collection.dvd) 05-06 18:45:47.189      936-936/? I/DEBUG? *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 05-06 18:45:47.189      936-936/? I/DEBUG? Build fingerprint: 'generic_x86/sdk_x86/generic_x86:4.4.2/KK/999428:eng/test-keys' 05-06 18:45:47.189      936-936/? I/DEBUG? Revision: '0' 05-06 18:45:47.189      936-936/? I/DEBUG? pid: 21007  tid: 21007  name: .collection.dvd  >>> com.stevem.collection.dvd <<< 05-06 18:45:47.189      936-936/? I/DEBUG? signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 49b67510 05-06 18:45:47.339      936-936/? I/DEBUG? eax b8d74d40  ebx 96714e30  ecx 000c0300  edx bff220c8 05-06 18:45:47.339      936-936/? I/DEBUG? esi b8d74d40  edi 49b6750c 05-06 18:45:47.339      936-936/? I/DEBUG? xcs 00000073  xds 0000007b  xes 0000007b  xfs 00000000  xss 0000007b 05-06 18:45:47.339      936-936/? I/DEBUG? eip 96646630  ebp bff220b8  esp bff220a0  flags 00210217 05-06 18:45:47.339      936-936/? E/Corkscrew? unrecognized dwarf lower part encoding: 0x59 05-06 18:45:47.339      936-936/? I/DEBUG? backtrace: 05-06 18:45:47.349      936-936/? I/DEBUG? #00  pc 00083630  /data/app-lib/com.stevem.collection.dvd-1/librealm-jni.so 05-06 18:45:47.349      936-936/? I/DEBUG? #01  pc 000836da  /data/app-lib/com.stevem.collection.dvd-1/librealm-jni.so 05-06 18:45:47.349      936-936/? I/DEBUG? #02  pc 0009e7d8  /data/app-lib/com.stevem.collection.dvd-1/librealm-jni.so 05-06 18:45:47.349      936-936/? I/DEBUG? stack: 05-06 18:45:47.349      936-936/? I/DEBUG? bff22060  00000088 05-06 18:45:47.349      936-936/? I/DEBUG? bff22064  00000000 05-06 18:45:47.349      936-936/? I/DEBUG? bff22068  bff22088  [stack] 05-06 18:45:47.349      936-936/? I/DEBUG? bff2206c  9662c9de  /data/app-lib/com.stevem.collection.dvd-1/librealm-jni.so 05-06 18:45:47.349      936-936/? I/DEBUG? bff22070  0000005b 05-06 18:45:47.349      936-936/? I/DEBUG? bff22074  b7624196  /system/lib/libc.so (malloc+6) 05-06 18:45:47.349      936-936/? I/DEBUG? bff22078  96714e30  /data/app-lib/com.stevem.collection.dvd-1/librealm-jni.so 05-06 18:45:47.349      936-936/? I/DEBUG? bff2207c  966911f8  /data/app-lib/com.stevem.collection.dvd-1/librealm-jni.so (operator new(unsigned int)+40) 05-06 18:45:47.349      936-936/? I/DEBUG? bff22080  00000088 05-06 18:45:47.349      936-936/? I/DEBUG? bff22084  b8c355c8  [heap] 05-06 18:45:47.349      936-936/? I/DEBUG? bff22088  b8d74c00  [heap] 05-06 18:45:47.349      936-936/? I/DEBUG? bff2208c  000c0300 05-06 18:45:47.349      936-936/? I/DEBUG? bff22090  b8d74d40  [heap] 05-06 18:45:47.349      936-936/? I/DEBUG? bff22094  e06c0c9e 05-06 18:45:47.349      936-936/? I/DEBUG? bff22098  bff220b8  [stack] 05-06 18:45:47.349      936-936/? I/DEBUG? bff2209c  96617cd6  /data/app-lib/com.stevem.collection.dvd-1/librealm-jni.so 05-06 18:45:47.349      936-936/? I/DEBUG? #00  bff220a0  b8d28614  [heap] 05-06 18:45:47.349      936-936/? I/DEBUG? bff220a4  e06c0c9e 05-06 18:45:47.349      936-936/? I/DEBUG? bff220a8  bff220c8  [stack] 05-06 18:45:47.349      936-936/? I/DEBUG? bff220ac  9664675b  /data/app-lib/com.stevem.collection.dvd-1/librealm-jni.so 05-06 18:45:47.349      936-936/? I/DEBUG? bff220b0  b8d74d40  [heap] 05-06 18:45:47.349      936-936/? I/DEBUG? bff220b4  e06c0c9e 05-06 18:45:47.349      936-936/? I/DEBUG? bff220b8  bff220d8  [stack] 05-06 18:45:47.349      936-936/? I/DEBUG? bff220bc  966466db  /data/app-lib/com.stevem.collection.dvd-1/librealm-jni.so 05-06 18:45:47.349      936-936/? I/DEBUG? #01  bff220c0  00000005 05-06 18:45:47.349      936-936/? I/DEBUG? bff220c4  b8c353b0  [heap] 05-06 18:45:47.349      936-936/? I/DEBUG? bff220c8  49b6750c 05-06 18:45:47.349      936-936/? I/DEBUG? bff220cc  e06c0c9e 05-06 18:45:47.349      936-936/? I/DEBUG? bff220d0  b8d73e30  [heap] 05-06 18:45:47.349      936-936/? I/DEBUG? bff220d4  bff22100  [stack] 05-06 18:45:47.349      936-936/? I/DEBUG? bff220d8  bff22128  [stack] 05-06 18:45:47.349      936-936/? I/DEBUG? bff220dc  966617d9  /data/app-lib/com.stevem.collection.dvd-1/librealm-jni.so 05-06 18:45:47.349      936-936/? I/DEBUG? bff220e0  bff22100  [stack] 05-06 18:45:47.349      936-936/? I/DEBUG? bff220e4  b8d28614  [heap] 05-06 18:45:47.349      936-936/? I/DEBUG? bff220e8  e06c0c9e 05-06 18:45:47.349      936-936/? I/DEBUG? bff220ec  96612696  /data/app-lib/com.stevem.collection.dvd-1/librealm-jni.so 05-06 18:45:47.349      936-936/? I/DEBUG? bff220f0  ffffffff 05-06 18:45:47.349      936-936/? I/DEBUG? bff220f4  b8d743c0  [heap] 05-06 18:45:47.349      936-936/? I/DEBUG? bff220f8  0000002e 05-06 18:45:47.349      936-936/? I/DEBUG? bff220fc  b8d73e30  [heap] 05-06 18:45:47.349      936-936/? I/DEBUG? memory map around fault addr 49b67510: 05-06 18:45:47.349      936-936/? I/DEBUG? (no map below) 05-06 18:45:47.349      936-936/? I/DEBUG? (no map for address) 05-06 18:45:47.349      936-936/? I/DEBUG? 964ff000-96500000 rw- /data/data/com.stevem.collection.dvd/files/default.realm.lock 05-06 18:45:47.409    1275-1297/system_process D/dalvikvm? GC_FOR_ALLOC freed 685K  22% free 6016K/7652K  paused 0ms  total 0ms 05-06 18:45:47.409    1275-1297/system_process I/BootReceiver? Copying /data/tombstones/tombstone_08 to DropBox (SYSTEM_TOMBSTONE) 05-06 18:45:47.429      939-939/? D/Zygote? Process 21007 terminated by signal (11)  Any ideas on what might be causing this  or any suggestions on how I might diagnose this further would be greatly appreciated ! Thanks  Steve,0
1095,15-05-07,Issue 1095 : Date field gets reset to default value on createOrUpdateAllFromJson ， Issue #1095 ， realm/realm-java ， GitHub Unlike suggested by the changelog ("0.80.1 Realm.createOrUpdateWithJson() no longer resets fields to their default value if they are not found in the JSON input") createOrUpdateAllFromJson resets Date fields to 0 (beginning of time) when the corresponding value is missing in the input JSON,0
1109,15-05-12,Issue 1109 : Possibility of a memory leak due to a combination of `RealmChangeListener` and `automaticUpdate` ， Issue #1109 ， realm/realm-java ， GitHub Reported by @zaki50 RealmChangeListener is added to Realm when automaticUpdate is true. Then the listener instance was not released until the Realm instance is released because the RealmChangeListener is never deleted. Since a listener instance is an anonymous inner class of RealmBaseAdapter  it holds a reference to the RealmBaseAdapter as an enclosing instance. RealmBaseAdapter usually holds a reference to the Activity that uses it as Context. So these instances will not be released until the Realm instance is released. If you use Realm in only one Activity  there is no problem because Realm#close() is called when the Activity is destroyed. (Strictly speaking  adapters may be accumulated if re-create a RealmBaseAdapter while the Activity is alive.) On the other hand  if you use two activities  there are main activity and another activity that has ListView  each activity uses Realm  the Realm instance is held in cache until onDestroy of main activity is called. For example if you transition between the two Activities as follows  Main -> List-> back -> List -> back -> List... I think the RealmChangeListener may be accumulated in the Realm. What do you think? @cmelchior @emanuelez,0
1112,15-05-12,Issue 1112 : Possible to call RealmList.clear() outside a write transaction ， Issue #1112 ， realm/realm-java ， GitHub It looks like it is possible to call RealmList.clear() outside a write transaction which can cause core to crash in some cases. Unit test exposing the issue is here: https://github.com/realm/realm-java/tree/cm-bug-clear. There should be unit tests for all functions that modify Realm,0
1114,15-05-12,Issue 1114 : Check if migration is needed is too loose for RealmList ， Issue #1114 ， realm/realm-java ， GitHub If a model class has a RealmList<A> field is change to a RealmList<B>  the proxy class' validateTable will not throw a MigrationIsNeeded exception. This can lead to an inconsistent Realm file as discovered in #1094.,0
1130,15-05-18,Issue 1130 : Multiple getters/setters for boolean fields should throw an error ， Issue #1130 ， realm/realm-java ， GitHub Currently it is possible to define multiple getters and setters for boolean fields as we allow multiple naming schemes. Ideally only one getter/setter should be allowed for boolean fields to avoid errors like the one described here: http://stackoverflow.com/questions/30219968/adding-items-to-realm-database-changes-some-variables Having the annotation processor throw an error is probably the cleanest solution as having two getters or setters for the same field is in all likelihood a developer error.,0
1131,15-05-18,Issue 1131 : Add a check in the annotation processor for the existence of the generic type of RealmLists ， Issue #1131 ， realm/realm-java ， GitHub The annotation processor will crash if a model is defined like this: private RealmList someField,0
1140,15-05-21,Issue 1140 : RealmList.add() throws misleading exception for standalone objects ， Issue #1140 ， realm/realm-java ， GitHub From this SO question: http://stackoverflow.com/questions/30340752/cant-add-new-object-to-realmlist-due-to-null-object-reference The following will fail with a NullPointer exception: RealmList<Bar> list = realm.where(Foo.class).findFirst().getBarList(); list.add(new Bar());  // throws NullPointerException: Attempt to invoke virtual method 'long io.realm.internal.Row.getIndex()' on a null object reference  As a minimum we should check if the object added is a managed RealmObject  but even better might be to do a copyToRealm() or copyToRealmOrUpdate inside the RealmList if it is a standalone object. The later is needed for the following corner case: RealmResult<Foo> result; RealmList<BarWithPrimaryKey> list1 = result.get(0).getBarList(); RealmList<BarWithPrimaryKey> list2 = result.get(1).getBarList();  BarWithPrimaryKey newBar = new BarWithPrimaryKey(); list1.add(newBar); list2.add(newBar);  which would fail if just using copyToRealm. What do you think @emanuelez @kneth,0
1143,15-05-21,Issue 1143 : Setting a new RealmList to an object appends to the old existing RealmList ， Issue #1143 ， realm/realm-java ， GitHub Using Realm 0.80.1 I'm a little confused with this test I made: public class Test extends RealmObject {      private int integerValue;     private RealmList<Test> tests;      public int getIntegerValue() {         return integerValue;     }      public void setIntegerValue(int integerValue) {         this.integerValue = integerValue;     }      public RealmList<Test> getTests() {         return tests;     }      public void setTests(RealmList<Test> tests) {         this.tests = tests;     } }      public void testLists() {         Test one = new Test();         one.setIntegerValue(1);         Test two = new Test();         two.setIntegerValue(2);          testRealm.beginTransaction();         try {             one = testRealm.copyToRealm(one);             two = testRealm.copyToRealm(two);              two.setTests(new RealmList<Test>(one));             two.setTests(new RealmList<Test>(one));              testRealm.commitTransaction();         } catch (Exception e) {             testRealm.cancelTransaction();             fail();         }          assertThat(two.getTests().size()  equalTo(1));     } which fails with java.lang.AssertionError: Expected: <1> but: was <2> I need to use two.getTests().clear() before setting it again to get the expected result.,0
1161,15-05-28,Issue 1161 : Native crash  signal 11 (SIGSEGV)  code 2 ， Issue #1161 ， realm/realm-java ， GitHub Finally i can reproduce the native crash in my project Here is the original native crash backtrace: 05-28 15:30:42.375 28102 28102 F libc    : Fatal signal 11 (SIGSEGV)  code 2  fault addr 0xbe1faff8 in tid 28102 (.kiwian.jiaxiao) 05-28 15:30:42.492   237   237 I DEBUG   : *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 05-28 15:30:42.492   237   237 I DEBUG   : Build fingerprint: 'oneplus/bacon/A0001:5.0.2/LRX22G/YNG1TAS17L:user/release-keys' 05-28 15:30:42.493   237   237 I DEBUG   : Revision: '0' 05-28 15:30:42.493   237   237 I DEBUG   : ABI: 'arm' 05-28 15:30:42.493   237   237 I DEBUG   : pid: 28102  tid: 28102  name: .kiwian.jiaxiao  >>> com.kiwian.jiaxiao <<< 05-28 15:30:42.494   237   237 I DEBUG   : signal 11 (SIGSEGV)  code 2 (SEGV_ACCERR)  fault addr 0xbe1faff8 05-28 15:30:42.542   237   237 I DEBUG   :     r0 afdefd30  r1 afdefd30  r2 00000006  r3 afdefd38 05-28 15:30:42.542   237   237 I DEBUG   :     r4 96a827c0  r5 96a827c0  r6 afdefd30  r7 00000006 05-28 15:30:42.542   237   237 I DEBUG   :     r8 00000000  r9 96a827c0  sl 00000006  fp afdefcc4 05-28 15:30:42.542   237   237 I DEBUG   :     ip 0000001d  sp be1fb000  lr afdb5827  pc afdcfd06  cpsr 600f0030 05-28 15:30:42.542   237   237 I DEBUG   :  05-28 15:30:42.542   237   237 I DEBUG   : backtrace: 05-28 15:30:42.542   237   237 I DEBUG   :     #00 pc 000a7d06  /data/app/com.kiwian.jiaxiao-1/lib/arm/librealm-jni.so 05-28 15:30:42.542   237   237 I DEBUG   :     #01 pc 00000d34  /data/app/com.kiwian.jiaxiao-1/lib/arm/librealm-jni.so 05-28 15:30:42.808   775  1505 W ActivityManager: getTasks: caller 10124 does not hold GET_TASKS; limiting output 05-28 15:30:43.765   237   237 I DEBUG   :   And here is the crash backtrace with my test case: 05-28 16:04:10.208   237   237 I DEBUG   : *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 05-28 16:04:10.208   237   237 I DEBUG   : Build fingerprint: 'oneplus/bacon/A0001:5.0.2/LRX22G/YNG1TAS17L:user/release-keys' 05-28 16:04:10.208   237   237 I DEBUG   : Revision: '0' 05-28 16:04:10.208   237   237 I DEBUG   : ABI: 'arm' 05-28 16:04:10.208   237   237 I DEBUG   : pid: 14514  tid: 14551  name: ationTestRunner  >>> io.realm.test <<< 05-28 16:04:10.208   237   237 I DEBUG   : signal 11 (SIGSEGV)  code 2 (SEGV_ACCERR)  fault addr 0xaccd8ff8 05-28 16:04:10.212   237   237 I DEBUG   :     r0 afdefd30  r1 afdefd30  r2 00000006  r3 afdefd38 05-28 16:04:10.212   237   237 I DEBUG   :     r4 acbd3860  r5 acbd3860  r6 afdefd30  r7 00000006 05-28 16:04:10.212   237   237 I DEBUG   :     r8 00000000  r9 acbd3860  sl 00000006  fp afdefcc4 05-28 16:04:10.212   237   237 I DEBUG   :     ip 0000001d  sp accd9000  lr afdb5827  pc afdcfd06  cpsr 600f0030 05-28 16:04:10.213   237   237 I DEBUG   :  05-28 16:04:10.213   237   237 I DEBUG   : backtrace: 05-28 16:04:10.213   237   237 I DEBUG   :     #00 pc 000a7d06  /data/app/io.realm.test-2/lib/arm/librealm-jni.so 05-28 16:04:10.213   237   237 I DEBUG   :     #01 pc 00000d34  /data/app/io.realm.test-2/lib/arm/librealm-jni.so  And the testcase to reproduce it:     private RealmResults<CatOwner> results = null;     public void testModifyRealmListD() {         //If it doesn't crash  increase this         final int count = 100;         // Enable the list for maintaining the reference will avoid crash!!!!!!!!!!!!!         //final ArrayList<RealmResults<CatOwner>> arrayList = new ArrayList<RealmResults<CatOwner>>();          results = testRealm.where(CatOwner.class).findAll();         RealmChangeListener listener = new RealmChangeListener() {             @Override             public void onChange() {                 // Enable the list for maintaining the reference will avoid crash!!!!!!!!!!!!!                 //arrayList.add(results);                 results = results.where().notEqualTo("name"  "asdfas" + count).findAll();                 assertEquals(count  results.size());                 for (int i=0; i<count; i++) {                     CatOwner catOwner = results.get(i);                     assertEquals(catOwner.getName()  "catOwner"+i);                     Log.e("testModifyRealmListD"  "loop count " + i);                 }                 System.gc();             }         };         testRealm.addChangeListener(listener);         for (int i=1; i<=count; i++) {             doTestModifyRealmList(count);         }     }      private void doTestModifyRealmList(final int count) {         final RealmResults<CatOwner> results = testRealm.where(CatOwner.class).findAll();         testRealm.beginTransaction();         for (int i=0; i<count; i++) {             CatOwner catOwner = new CatOwner();             catOwner.setName("catOwner" + i);             catOwner = testRealm.copyToRealmOrUpdate(catOwner);         }         testRealm.commitTransaction();     } I am almost 99% sure it is caused by wild native pointer which is released by the GC since if the ReleamResults's references are maitained by a ArrayList  the crash won't happen. I guess something needs to be done if a query is created from a RealmResults,0
1169,15-05-30,Issue 1169 : Unchecked cast warnings ， Issue #1169 ， realm/realm-java ， GitHub I am getting the unchecked cast warning for the proxy class that gets generated for all my realm objects. Here is an example of the warning generated when processing my simple User class: required: E found: UserRealmProxy where E is a type-variable: E extends RealmObject declared in method newInstance(Class) [[directory to my build]]/intermediates/classes/release/io/realm/DefaultRealmModuleMediator.java:186: warning: [unchecked] unchecked cast Class clazz = (Class) ((obj instanceof RealmObjectProxy) ? obj.getClass().getSuperclass() : obj.getClass()); I like to run a no warning environment  so this makes things really difficult ;),0
1174,15-06-02,Issue 1174 : The GC can't keep up with cleaning Rows during tight loops ， Issue #1174 ， realm/realm-java ， GitHub The Android Garbage Collector is not able to keep up in cleaning up all the instances (especially of Row) if they are created in a tight loop.,0
1189,15-06-06,Issue 1189 : java.lang.ClassNotFoundException: Didn't find class "io.realm.DefaultRealmModuleMediator" ， Issue #1189 ， realm/realm-java ， GitHub I'm getting this error in my current project  but I started a new one based on a Blank Activity Template and when I try to run the app I get all this info: 06-06 12:42:17.335 23811-23811/com.jgonfer.b2b E/AndroidRuntime? FATAL EXCEPTION: main Process: com.jgonfer.b2b  PID: 23811 java.lang.ExceptionInInitializerError at com.jgonfer.b2b.StationsActivity.onCreate(StationsActivity.java:18) at android.app.Activity.performCreate(Activity.java:6289) at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1119) at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646) at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2760) at android.app.ActivityThread.access$900(ActivityThread.java:177) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1448) at android.os.Handler.dispatchMessage(Handler.java:102) at android.os.Looper.loop(Looper.java:145) at android.app.ActivityThread.main(ActivityThread.java:5944) at java.lang.reflect.Method.invoke(Native Method) at java.lang.reflect.Method.invoke(Method.java:372) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1389) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1184) Caused by: io.realm.exceptions.RealmException: Could not find io.realm.DefaultRealmModuleMediator at io.realm.Realm.getDefaultMediator(Realm.java:256) at io.realm.Realm.(Realm.java:165) ????????????at com.jgonfer.b2b.StationsActivity.onCreate(StationsActivity.java:18) ????????????at android.app.Activity.performCreate(Activity.java:6289) ????????????at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1119) ????????????at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646) ????????????at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2760) ????????????at android.app.ActivityThread.access$900(ActivityThread.java:177) ????????????at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1448) ????????????at android.os.Handler.dispatchMessage(Handler.java:102) ????????????at android.os.Looper.loop(Looper.java:145) ????????????at android.app.ActivityThread.main(ActivityThread.java:5944) ????????????at java.lang.reflect.Method.invoke(Native Method) ????????????at java.lang.reflect.Method.invoke(Method.java:372) ????????????at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1389) ????????????at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1184) Caused by: java.lang.ClassNotFoundException: io.realm.DefaultRealmModuleMediator at java.lang.Class.classForName(Native Method) at java.lang.Class.forName(Class.java:308) at java.lang.Class.forName(Class.java:272) at io.realm.Realm.getDefaultMediator(Realm.java:251) ????????????at io.realm.Realm.(Realm.java:165) ????????????at com.jgonfer.b2b.StationsActivity.onCreate(StationsActivity.java:18) ????????????at android.app.Activity.performCreate(Activity.java:6289) ????????????at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1119) ????????????at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646) ????????????at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2760) ????????????at android.app.ActivityThread.access$900(ActivityThread.java:177) ????????????at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1448) ????????????at android.os.Handler.dispatchMessage(Handler.java:102) ????????????at android.os.Looper.loop(Looper.java:145) ????????????at android.app.ActivityThread.main(ActivityThread.java:5944) ????????????at java.lang.reflect.Method.invoke(Native Method) ????????????at java.lang.reflect.Method.invoke(Method.java:372) ????????????at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1389) ????????????at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1184) Caused by: java.lang.ClassNotFoundException: Didn't find class "io.realm.DefaultRealmModuleMediator" on path: DexPathList[[zip file "/data/app/com.jgonfer.b2b-1/base.apk"] nativeLibraryDirectories=[/data/app/com.jgonfer.b2b-1/lib/arm  /vendor/lib  /system/lib]] at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56) at java.lang.ClassLoader.loadClass(ClassLoader.java:511) at java.lang.ClassLoader.loadClass(ClassLoader.java:469) ????????????at java.lang.Class.classForName(Native Method) ????????????at java.lang.Class.forName(Class.java:308) ????????????at java.lang.Class.forName(Class.java:272) ????????????at io.realm.Realm.getDefaultMediator(Realm.java:251) ????????????at io.realm.Realm.(Realm.java:165) ????????????at com.jgonfer.b2b.StationsActivity.onCreate(StationsActivity.java:18) ????????????at android.app.Activity.performCreate(Activity.java:6289) ????????????at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1119) ????????????at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646) ????????????at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2760) ????????????at android.app.ActivityThread.access$900(ActivityThread.java:177) ????????????at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1448) ????????????at android.os.Handler.dispatchMessage(Handler.java:102) ????????????at android.os.Looper.loop(Looper.java:145) ????????????at android.app.ActivityThread.main(ActivityThread.java:5944) ????????????at java.lang.reflect.Method.invoke(Native Method) ????????????at java.lang.reflect.Method.invoke(Method.java:372) ????????????at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1389) ????????????at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1184) Suppressed: java.lang.ClassNotFoundException: io.realm.DefaultRealmModuleMediator at java.lang.Class.classForName(Native Method) at java.lang.BootClassLoader.findClass(ClassLoader.java:781) at java.lang.BootClassLoader.loadClass(ClassLoader.java:841) at java.lang.ClassLoader.loadClass(ClassLoader.java:504) ... 20 more Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack available In my code  I simply call an instance of Realm like that: @Override     protected void onCreate(Bundle savedInstanceState) {         super.onCreate(savedInstanceState);         setContentView(R.layout.activity_stations);          Realm realm = Realm.getInstance(this);     } My build.gradle file: apply plugin: 'com.android.application'  android {     compileSdkVersion 22     buildToolsVersion "21.1.2"      defaultConfig {         applicationId "com.jgonfer.b2b"         minSdkVersion 15         targetSdkVersion 22         versionCode 1000         versionName "1.0"     }     buildTypes {         release {             minifyEnabled false             proguardFiles getDefaultProguardFile('proguard-android.txt')  'proguard-rules.pro'         }     } } dependencies {     compile fileTree(dir: 'libs'  include: ['*.jar'])     compile 'com.android.support:appcompat-v7:22.2.0'     compile 'io.realm:realm-android:0.80.3' } And the current version of JDK that I'm using: java version "1.8.0_31" Java(TM) SE Runtime Environment (build 1.8.0_31-b13) Java HotSpot(TM) 64-Bit Server VM (build 25.31-b07  mixed mode)  I found an issue that seems like mine  but he is using Kotlin and I don't: #1179 As I said  it's an empty project and does nothing special. What could cause this problem? I'm a little lost. Thanks in advance!,0
1240,15-06-25,Issue 1240 : UncheckedRow should still detect deleted objects. ， Issue #1240 ， realm/realm-java ， GitHub Hey guys  Getting this native exception. It doesn't happen all the time. That's why I didn't narrow it down to the exact line. Will update the issue when find it. 06-24 13:52:41.668        86-86/? I/DEBUG? *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 06-24 13:52:41.668        86-86/? I/DEBUG? Build fingerprint: 'generic/vbox86p/vbox86p:5.0/LRX21M/buildbot02241201:userdebug/test-keys' 06-24 13:52:41.668        86-86/? I/DEBUG? Revision: '0' 06-24 13:52:41.668        86-86/? I/DEBUG? ABI: 'x86' 06-24 13:52:41.668        86-86/? I/DEBUG? pid: 17113  tid: 17113  name: .witdot.twinkie  >>> com.witdot.twinkie <<< 06-24 13:52:41.668        86-86/? I/DEBUG? signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x90 06-24 13:52:41.671        86-86/? I/DEBUG? eax 00000000  ebx a11cce30  ecx 00000001  edx 00000003 06-24 13:52:41.671        86-86/? I/DEBUG? esi 00000000  edi bf94f14c 06-24 13:52:41.671        86-86/? I/DEBUG? xcs 00000073  xds 0000007b  xes 0000007b  xfs 00000007  xss 0000007b 06-24 13:52:41.671        86-86/? I/DEBUG? eip a112b882  ebp bf94f128  esp bf94f100  flags 00210246 06-24 13:52:41.671        86-86/? I/DEBUG? backtrace: 06-24 13:52:41.671        86-86/? I/DEBUG? #00 pc 000b2882  /data/app/com.witdot.twinkie-1/lib/x86/librealm-jni.so 06-24 13:52:41.671        86-86/? I/DEBUG? #01 pc 000a9f1c  /data/app/com.witdot.twinkie-1/lib/x86/librealm-jni.so (Java_io_realm_internal_UncheckedRow_nativeGetLinkView+95) 06-24 13:52:41.671        86-86/? I/DEBUG? #02 pc 003ee6c3  /data/dalvik-cache/x86/data@app@com.witdot.twinkie-1@base.apk@classes.dex 06-24 13:52:41.811        86-86/? I/DEBUG? Tombstone written to: /data/tombstones/tombstone_00  P.S. Realm version is 0.81.1,0
1241,15-06-25,Issue 1241 : a NullPointerExpection came out when I call Realm.close ， Issue #1241 ， realm/realm-java ， GitHub My Realm version is 0.81.1 and the log is java.lang.NullPointerExcepiton at io.realm.Realm.close(REalm.java:243) at com.cdv.myshare.uploadservice.PreUploadService.commonCommand(PreUploadService.java:413) The I call Realm.getDefaultInstance() to get the Realm object and it worked fine.But when I closed it   a NullPointerExpection would come out occasionally.,0
1244,15-06-26,Issue 1244 : Data Base crashe. ， Issue #1244 ， realm/realm-java ， GitHub Hello! Please  help me. I have a specific problem. My app broke with this error: "E/dalvikvm? Failed adding to JNI pinned array ref table (1024 entries). " I have many appeal to db  because i'm writing my plane's track in db and geting db objects at once. Can the problem be in this part? Code example: realmDB = Realm.getInstance(getApplicationContext()); try{ realmDB.beginTransaction(); MapflyTrack mapflyTrack = realmDB.createObject(MapflyTrack.class); }catch (Exception e){ Log.e("Realm Error "  +e); } finally { realmDB.commitTransaction(); } ... realmDB.where(MapflyTrack.class).equalTo("_flightNumber"  _flightNumber).findAll().get(realmDB.where(MapflyTrack.class).equalTo("_flightNumber"  _flightNumber).findAll().size() - 1).getMapflyLat() realmDB.where(MapflyTrack.class).equalTo("_flightNumber"  _flightNumber).findAll().get(realmDB.where(MapflyTrack.class).equalTo("_flightNumber"  _flightNumber).findAll().size() - 1).getMapflyLong(); Thus  more than 60 iterations,1
1247,15-06-27,Issue 1247 : NPE in close() in Realm.java:243 on 0.81.1 ， Issue #1247 ， realm/realm-java ， GitHub hi  i haven't been able to repro this myself  but i am getting many reports in Crashlytics about this on various 4.x and 5.x devices (Samsung and others). the code at that line looks to be:             AtomicInteger counter = globalOpenInstanceCounter.get(canonicalPath);             if (counter.decrementAndGet() == 0) {                 globalOpenInstanceCounter.remove(canonicalPath);             } here's an example stack trace: java.lang.RuntimeException: An error occured while executing doInBackground()        at android.os.AsyncTask$3.done(AsyncTask.java:300)        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:355)        at java.util.concurrent.FutureTask.setException(FutureTask.java:222)        at java.util.concurrent.FutureTask.run(FutureTask.java:242)        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:231)        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)        at java.lang.Thread.run(Thread.java:818) Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'int java.util.concurrent.atomic.AtomicInteger.decrementAndGet()' on a null object reference        at io.realm.Realm.close(SourceFile:243)        at com.ayah.util.Utils.closeSilently(SourceFile:11)        at com.ayah.task.PageVersesTask.doInBackground$3a73acfa(SourceFile:37)        at com.ayah.task.PageVersesTask.doInBackground(SourceFile:14)        at android.os.AsyncTask$2.call(AsyncTask.java:288)        at java.util.concurrent.FutureTask.run(FutureTask.java:237)        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:231)        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)        at java.lang.Thread.run(Thread.java:818)  the code using this is doing nothing fancy - PageVersesTask is an AsyncTask that does a simple Realm query and then closes the database:   @Override   protected PageDAO doInBackground(Void... params) {     Realm realm = null;     PageDAO result;     try {       realm = RealmUtils.getDatabase(mContext);       final Page page = realm.where(Page.class)           .equalTo("index"  mPage - 1)           .findFirst();       result = PageDAO.from(page);     } finally {       Utils.closeSilently(realm);     }     return result;   } closeSilently in this case just takes a Closeable  checks for null  and if not null  then closes while catching IOException. note that this same stacktrace happens in some of the other places i use a similar pattern for accessing data from an AsyncTask. thanks!,0
1248,15-06-27,Issue 1248 : ArrayOutOfBoundsException while opening Realm on 0.81.1 ， Issue #1248 ， realm/realm-java ， GitHub hi  while i haven't been able to repro this myself  i am getting many crashes in Crashlytics about this for many users on 4.x and 5.x. this seems to happen from various AsyncTask and AsyncLoader classes when getting the Realm instance. java.lang.RuntimeException: An error occured while executing doInBackground()        at android.support.v4.content.ModernAsyncTask$3.done(SourceFile:137)        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:355)        at java.util.concurrent.FutureTask.setException(FutureTask.java:222)        at java.util.concurrent.FutureTask.run(FutureTask.java:242)        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)        at java.lang.Thread.run(Thread.java:841) Caused by: java.lang.ArrayIndexOutOfBoundsException: length=0; index=0        at java.util.concurrent.CopyOnWriteArrayList.get(CopyOnWriteArrayList.java:117)        at io.realm.Realm.validateAgainstExistingConfigurations(SourceFile:639)        at io.realm.Realm.createAndValidate(SourceFile:585)        at io.realm.Realm.create(SourceFile:549)        at io.realm.Realm.getInstance(SourceFile:522)        at com.ayah.util.RealmUtils.getDatabase(SourceFile:37)        at com.ayah.task.db.GetPageInfoTask.loadInBackground(SourceFile:38)        at com.ayah.task.db.GetPageInfoTask.loadInBackground(SourceFile:26)        at android.support.v4.content.AsyncTaskLoader$LoadTask.doInBackground$42af7916(SourceFile:40)        at android.support.v4.content.ModernAsyncTask$2.call(SourceFile:123)        at java.util.concurrent.FutureTask.run(FutureTask.java:237)        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)        at java.lang.Thread.run(Thread.java:841)  RealmUtils.getDatabase looks like this:   private static final String REALM_DB_NAME = "ayah.realm";    private static final Object sLock = new Object();   private static volatile boolean sIsInitialized;    public static Realm getDatabase(Context context) {     if (!sIsInitialized) {       synchronized (sLock) {         final File path = new File(context.getFilesDir()  REALM_DB_NAME);         if (path.exists()) {           sIsInitialized = true;         } else {           final InputStream inputStream =               context.getResources().openRawResource(R.raw.ayahrealm);           if (copyDatabase(inputStream  path)) {             sIsInitialized = true;           }         }       }     }      return Realm.getInstance(         new RealmConfiguration.Builder(context)             .name(REALM_DB_NAME)             .schemaVersion(1)             .build());   } thanks! -ahmed,0
1285,15-07-10,Issue 1285 : The Java part of the handling of LinkView deallocation is missing ， Issue #1285 ， realm/realm-java ， GitHub LinkView does not implement finalize() and does not have a queue in Context.,0
1328,15-07-29,Issue 1328 : Dead lock happens when calling  Runtime.getRuntime().exit(0); ， Issue #1328 ， realm/realm-java ， GitHub Issue first reported on SO http://stackoverflow.com/questions/31583359/realm-and-runtime-getruntime-exit0 . When calling Runtime.getRuntime().exit(0); with Realm opened before  finalizer won't stop running. Lock is waiting forever  process cannot exist. Below code to reproduce this error: Realm realm = Realm.getInstance(this); realm.close(); Runtime.getRuntime().exit(0);  And in the logcat  infinity logs comes as below: D/dalvikvm( 5070): GC_EXPLICIT freed 0K  6% free 6379K/6716K  paused 2ms+3ms  total 19ms D/dalvikvm( 5070): GC_EXPLICIT freed 0K  6% free 6379K/6716K  paused 2ms+2ms  total 19ms D/dalvikvm( 5070): GC_EXPLICIT freed 0K  6% free 6379K/6716K  paused 2ms+2ms  total 18ms,0
1333,15-07-31,Issue 1333 : deadlock happens on specific device when using encryption example ， Issue #1333 ， realm/realm-java ， GitHub one of Korean developer having deadlock issue when using Realm encryption example. They tried our encryption example and Realm.getInstance() function never returned. This happens only on LG G3 phone with LG G3(LG-F460S / OS: 4.4.2) They tried Realm v0.81.1 and v0.82 -> Not working They tried other LG G3 phone (LG-F460S / OS: 4.4.2) -> Not working if they comment .encryptionKey(key) line -> working fine same phone with OS 5.0.1 -> working fine other phones Galaxy Note2(SHV-E250S / OS 4.4.2) & Galaxy S5(SM-G906S / OS 4.4.2) -> working fine below is the only log that they can see when this issue happening 07-30 22:47:03.282 17838-18303/com.kakao.hello D/dalvikvm? Trying to load lib /data/app-lib/com.kakao.hello-1/librealm-jni.so 0x43029850  07-30 22:47:03.282 17838-18303/com.kakao.hello D/dalvikvm? Added shared lib /data/app-lib/com.kakao.hello-1/librealm-jni.so 0x43029850,0
1336,15-08-01,Issue 1336 : RealmAnalytics Null Pointer v0.82 ， Issue #1336 ， realm/realm-java ， GitHub Crash Exception in thread "Thread-109" java.lang.NullPointerException at java.security.MessageDigest.update(MessageDigest.java:335) at java.security.MessageDigest.digest(MessageDigest.java:410) at io.realm.processor.Utils.sha256Hash(Utils.java:153) at io.realm.processor.RealmAnalytics.getAnonymousUserId(RealmAnalytics.java:155) at io.realm.processor.RealmAnalytics.generateJson(RealmAnalytics.java:129) at io.realm.processor.RealmAnalytics.getUrl(RealmAnalytics.java:125) at io.realm.processor.RealmAnalytics.send(RealmAnalytics.java:95) at io.realm.processor.RealmAnalytics.access$000(RealmAnalytics.java:55) at io.realm.processor.RealmAnalytics$1.run(RealmAnalytics.java:109) at java.lang.Thread.run(Thread.java:745) Please give us an option to disable this auto-stats gathering. Having this enabled by default is fine  but please let us disable this as well.,1
1342,15-08-03,Issue 1342 : Timeout on Context.finalize() ， Issue #1342 ， realm/realm-java ， GitHub Hey  we started seeing following error with the update to Realm 0.82.0: java.util.concurrent.TimeoutException: io.realm.internal.Context.finalize() timed out after 10 seconds        at java.lang.Object.equals(Object.java:205)        at java.util.ArrayList.remove(ArrayList.java:418)        at io.realm.internal.Context.cleanRows(Context.java:69)        at io.realm.internal.Context.executeDelayedDisposal(Context.java:61)        at io.realm.internal.Context.finalize(Context.java:113)        at java.lang.Daemons$FinalizerDaemon.doFinalize(Daemons.java:209)        at java.lang.Daemons$FinalizerDaemon.run(Daemons.java:192)        at java.lang.Thread.run(Thread.java:818)  We also see some longer access times to the Realm after we added some "realm.clear(RealmObject.class)" calls. Is this a known issue or is there a better way to clear a whole table?,0
1344,15-08-03,Issue 1344 : update from JSON will skip null values ， Issue #1344 ， realm/realm-java ， GitHub When update from JSON which contains property with null values  the property will be ignored. To make the consistency with the create interface  corresponding field should be set to null.,0
1352,15-08-05,Issue 1352 : Cannot connect to realmdb when passed wrong encryption key for the first time ， Issue #1352 ， realm/realm-java ， GitHub Hallo. I have a problem. I use users password to encrypt databse. When opening application  I ask user for the password  generate encryption key (using SHA512) and try to use it to open database. Everything works perfect as long as user pass correct password. But it is impossible to open database  when user pass wrong password for the first time. I have ended in this test: I have default realm database encrypted by password "a". "makeSHA1Hash" is method to generate encryption key based on the password. Source code:     try {         Realm.getInstance(context  makeSHA1Hash("x"));         Log.d(this.getClass().getName()  "MV - x is ok");     } catch (Exception e) {         Log.d(this.getClass().getName()  "MV - x is wrong");     }      try {         Realm.getInstance(context  makeSHA1Hash("a"));         Log.d(this.getClass().getName()  "MV - a is ok");     } catch (Exception e) {         Log.d(this.getClass().getName()  "MV - a is wrong");     }      try {         Realm.getInstance(context  makeSHA1Hash("b"));         Log.d(this.getClass().getName()  "MV - b is ok");     } catch (Exception e) {         Log.d(this.getClass().getName()  "MV - b is wrong");     }      try {         Realm.getInstance(context  makeSHA1Hash("a"));         Log.d(this.getClass().getName()  "MV - a is ok");     } catch (Exception e) {         Log.d(this.getClass().getName()  "MV - a is wrong");     }      try {         Realm.getInstance(context  makeSHA1Hash("d"));         Log.d(this.getClass().getName()  "MV - d is ok");     } catch (Exception e) {         Log.d(this.getClass().getName()  "MV - d is wrong");     }  This sample code ends in this (wrong?) result: MV - x is wrong MV - a is wrong MV - b is wrong MV - a is wrong MV - d is wrong When I delete the first try - catch code with "X" (so the fist db open is successful - using the password "a")  the (correct?) result is : MV - a is ok MV - b is wrong MV - a is ok MV - d is wrong Could you please help me how to solve situation when user pass wrong password and cannot be than connected even the second password is correct? Thank you. M.,0
1353,15-08-05,Issue 1353 : Low Memory 1GB device and Realm Crashes ， Issue #1353 ， realm/realm-java ， GitHub We are getting lots of invalid argument bad file format crashes on various low memory devices on Android 4.x. The only thing they have in common is all the devices have only 1gb of installed ram. Device range from 2013 models to early 2015 models and cpus include both mediatek and Qualcomm. Realm encryption is enabled and we suspect that may be the culprit  for now. We are in the process of purchasing a crashing device to track the source but want to see if the realm team has seen these type of strange crashes.,0
1359,15-08-06,Issue 1359 : Re-implement phantom reference test ， Issue #1359 ， realm/realm-java ， GitHub No description provided.,0
1373,15-08-09,Issue 1373 : Validating Realm schema should only be done once ， Issue #1373 ， realm/realm-java ， GitHub Problem: Background thread opens Realm and begins a long living write transaction. UI thread calls Realm.getInstance() for the first time. Result: UI thread is locked until background thread completes because initializeRealm requires a write transaction. Reason: Our Realm cache is thread local and doesn't take into account that a Realm on another thread might have validated the schema already. Solution: We should cache the result of mediator.validateTable(modelClass  realm.sharedGroup.getTransaction());. Doing so will not only prevent unnecessary locking of the UI thread  but it will also speed up opening Realms considerable when doing so for the first time on new threads.,0
1380,15-08-12,Issue 1380 : mremap(): failed: Function not implemented in io_realm_internal_SharedGroup.cpp line 115 ， Issue #1380 ， realm/realm-java ， GitHub We get this in the Crashlytics plugin. It happens on: Android 4.3  Z10 device. Any ideas for a fix? io.realm.exceptions.RealmError: Unrecoverable error. mremap(): failed: Function not implemented in io_realm_internal_SharedGroup.cpp line 115 at io.realm.internal.SharedGroup.createNativeWithImplicitTransactions(SharedGroup.java) at io.realm.internal.SharedGroup.(SharedGroup.java:60) at io.realm.Realm.(Realm.java:199) at io.realm.Realm.createAndValidate(Realm.java:585) at io.realm.Realm.create(Realm.java:554) at io.realm.Realm.getInstance(Realm.java:401) at io.realm.Realm.getInstance(Realm.java:358) at io.realm.Realm.getInstance(Realm.java:339),0
1382,15-08-12,Issue 1382 : Remove a table from a previous Realm scheme ， Issue #1382 ， realm/realm-java ， GitHub Hi  With the introduction of Modules (Realm 0.82.0)  I have splitted a part of my scheme into another Realm. However  the old database (which is now a core Module) still contains tables that are no longer needed (and data as well). Example: Old scheme contained A  B  C into main.realm. New scheme is now splitted in two Modules A  B into main.realm C into second.realm Following the app update  main.realm still contains a table C and I'm unable to clean nor delete the table manually (error like 'this entity is not part of this module'). Is there a way I did not find? Thanks.,0
1385,15-08-13,Issue 1385 : Handle adding search index twice properly ， Issue #1385 ， realm/realm-java ， GitHub Guys please take a look on this one  we got it for some users on 2.3.3 java.lang.RuntimeException: Unable to create application.android.YaloApp: java.lang.ArrayIndexOutOfBoundsException: columnIndex is less than 0.        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:3279)        at android.app.ActivityThread.access$2200(ActivityThread.java:117)        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:973)        at android.os.Handler.dispatchMessage(Handler.java:99)        at android.os.Looper.loop(Looper.java:123)        at android.app.ActivityThread.main(ActivityThread.java:3687)        at java.lang.reflect.Method.invokeNative(Method.java)        at java.lang.reflect.Method.invoke(Method.java:507)        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:842)        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)        at dalvik.system.NativeStart.main(NativeStart.java) Caused by: java.lang.ArrayIndexOutOfBoundsException: columnIndex is less than 0.        at io.realm.internal.Table.nativeAddSearchIndex(Table.java)        at io.realm.internal.Table.addSearchIndex(Table.java:1156)        at .android.model.Migration.execute(Migration.java:69)        at io.realm.Realm.migrateRealm(Realm.java:1636)        at io.realm.Realm.create(Realm.java:569)        at io.realm.Realm.getDefaultInstance(Realm.java:521)        at .model.RealmManager.getInstance(RealmManager.java:42)        at .model.CountryDao.init(CountryDao.java:19)        at .model.CountryDao.init(CountryDao.java:15)        at .android.YaloApp.onCreate(YaloApp.java:66)        at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:969)        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:3276)        at android.app.ActivityThread.access$2200(ActivityThread.java:117)        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:973)        at android.os.Handler.dispatchMessage(Handler.java:99)        at android.os.Looper.loop(Looper.java:123)        at android.app.ActivityThread.main(ActivityThread.java:3687)        at java.lang.reflect.Method.invokeNative(Method.java)        at java.lang.reflect.Method.invoke(Method.java:507)        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:842)        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)        at dalvik.system.NativeStart.main(NativeStart.java)  It crashes on userTable.addSearchIndex(userTable.getColumnIndex("appId")); public class Migration implements RealmMigration {     @Override     public long execute(Realm realm  long version) {         .....          // in 0.82 version @PrimaryKey fields become indexed. Older schemas require a migration.         if (version == 6) {             userTable.addSearchIndex(userTable.getColumnIndex("appId"));             version++;         }          return version;     }  Thanks  Yakiv,0
1388,15-08-14,Issue 1388 : Crash Fatal signal 11 (SIGSEGV) at 0x00000004 (code=1) dlmalloc ， Issue #1388 ， realm/realm-java ， GitHub Transferred from #1357 @yamingd 's comments I got this kind of crash yesterday on ('io.realm:realm-android:0.82.1' )  and catch the log as following  hope those log will be helpful  and looking forward to the solution. 08-14 09:54:41.387 28759-28759/com.inno.funApp.debug A/libc? Fatal signal 11 (SIGSEGV) at 0x00000004 (code=1)  thread 28759 (.inno.funApp.debug) 08-14 09:54:41.489 185-185/? I/DEBUG? *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 08-14 09:54:41.489 185-185/? I/DEBUG? Build fingerprint: 'Xiaomi/pisces/pisces:4.4.4/KTU84P/V6.6.3.0.KXCCNCF:user/release-keys' 08-14 09:54:41.489 185-185/? I/DEBUG? Revision: '0' 08-14 09:54:41.489 185-185/? I/DEBUG? pid: 28759  tid: 28759  name: .inno.funApp.debug >>> com.inno.funApp.debug <<< 08-14 09:54:41.489 185-185/? I/DEBUG? signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 00000004 08-14 09:54:41.663 185-185/? I/DEBUG? r0 74ec7b00 r1 8446cf5a r2 00000000 r3 00000000 08-14 09:54:41.664 185-185/? I/DEBUG? r4 00000000 r5 00002000 r6 00000000 r7 bea60be0 08-14 09:54:41.664 185-185/? I/DEBUG? r8 75e83aa8 r9 00000020 sl 75a7314c fp 00000001 08-14 09:54:41.665 185-185/? I/DEBUG? ip 00000001 sp bea60b9c lr 759deb05 pc 759d193a cpsr 600d0030 08-14 09:54:41.665 185-185/? I/DEBUG? d0 75a7327075a73070 d1 7551657461646932 08-14 09:54:41.666 185-185/? I/DEBUG? d2 545f6c616e7265a7 d3 72657551656c6275 08-14 09:54:41.666 185-185/? I/DEBUG? d4 0000000800000000 d5 4024000000000000 08-14 09:54:41.667 185-185/? I/DEBUG? d6 40157ae147ae147b d7 3fc0000000000000 08-14 09:54:41.668 185-185/? I/DEBUG? d8 408000003c800000 d9 0000000000000000 08-14 09:54:41.668 185-185/? I/DEBUG? d10 0000000000000000 d11 0000000000000000 08-14 09:54:41.669 185-185/? I/DEBUG? d12 0000000000000000 d13 0000000000000000 08-14 09:54:41.669 185-185/? I/DEBUG? d14 0000000000000000 d15 0000000000000000 08-14 09:54:41.670 185-185/? I/DEBUG? d16 99bc28b9d5dfc93c d17 811b77e0931ea4c5 08-14 09:54:41.670 185-185/? I/DEBUG? d18 0000000000000010 d19 0000000008000008 08-14 09:54:41.671 185-185/? I/DEBUG? d20 0000000000ffffff d21 0000000000000008 08-14 09:54:41.671 185-185/? I/DEBUG? d22 0000000009000000 d23 0000000000000001 08-14 09:54:41.672 185-185/? I/DEBUG? d24 0000000000000000 d25 0000000033000007 08-14 09:54:41.672 185-185/? I/DEBUG? d26 0000000000ffffff d27 000000000000000c 08-14 09:54:41.673 185-185/? I/DEBUG? d28 000000000000000c d29 000000000000000d 08-14 09:54:41.674 4142-4142/? D/wpa_supplicant? RX ctrl_iface - hexdump(len=11): 53 49 47 4e 41 4c 5f 50 4f 4c 4c 08-14 09:54:41.674 4142-4142/? D/wpa_supplicant? wlan0: Control interface command 'SIGNAL_POLL' 08-14 09:54:41.676 185-185/? I/DEBUG? d30 012b400001288000 d31 0000000000004000 08-14 09:54:41.677 185-185/? I/DEBUG? scr 20000010 08-14 09:54:41.678 185-185/? I/DEBUG? backtrace: 08-14 09:54:41.678 185-185/? I/DEBUG? #00 pc 0003393a /data/app-lib/com.inno.funApp.debug-1/librealm-jni.so 08-14 09:54:41.681 4142-4142/? D/wpa_supplicant? nl80211: survey data missing! 08-14 09:54:41.682 4142-4142/? D/wpa_supplicant? RX ctrl_iface - hexdump(len=11): 50 4b 54 43 4e 54 5f 50 4f 4c 4c 08-14 09:54:41.682 4142-4142/? D/wpa_supplicant? wlan0: Control interface command 'PKTCNT_POLL' 08-14 09:54:41.685 185-185/? I/DEBUG? #1 pc 00040b03 /data/app-lib/com.inno.funApp.debug-1/librealm-jni.so 08-14 09:54:41.686 185-185/? I/DEBUG? stack: 08-14 09:54:41.686 185-185/? I/DEBUG? bea60b5c 00008000 08-14 09:54:41.686 185-185/? I/DEBUG? bea60b60 4004ee25 /system/lib/libc.so (dlmalloc) 08-14 09:54:41.687 185-185/? I/DEBUG? bea60b64 00000004 08-14 09:54:41.687 185-185/? I/DEBUG? bea60b68 75a730ec 08-14 09:54:41.687 185-185/? I/DEBUG? bea60b6c 75a6ae28 /data/app-lib/com.inno.funApp.debug-1/librealm-jni.so 08-14 09:54:41.688 185-185/? I/DEBUG? bea60b70 bea60b94 [stack] 08-14 09:54:41.688 185-185/? I/DEBUG? bea60b74 bea60b94 [stack] 08-14 09:54:41.688 185-185/? I/DEBUG? bea60b78 41576bd8 /system/lib/libdvm.so 08-14 09:54:41.688 185-185/? I/DEBUG? bea60b7c 41504b7b /system/lib/libdvm.so 08-14 09:54:41.689 185-185/? I/DEBUG? bea60b80 425d46f0 /dev/ashmem/dalvik-heap (deleted) 08-14 09:54:41.689 185-185/? I/DEBUG? bea60b84 b081c1ff 08-14 09:54:41.689 185-185/? I/DEBUG? bea60b88 425d46f0 /dev/ashmem/dalvik-heap (deleted) 08-14 09:54:41.690 185-185/? I/DEBUG? bea60b8c 425d4700 /dev/ashmem/dalvik-heap (deleted) 08-14 09:54:41.690 185-185/? I/DEBUG? bea60b90 df0027ad 08-14 09:54:41.690 185-185/? I/DEBUG? bea60b94 00000000 08-14 09:54:41.690 185-185/? I/DEBUG? bea60b98 1140001d 08-14 09:54:41.691 185-185/? I/DEBUG? #00 bea60b9c 00000000 08-14 09:54:41.691 185-185/? I/DEBUG? ........ ........ 08-14 09:54:41.691 185-185/? I/DEBUG? #1 bea60b9c 00000000 08-14 09:54:41.691 185-185/? I/DEBUG? bea60ba0 bea60be0 [stack] 08-14 09:54:41.692 185-185/? I/DEBUG? bea60ba4 00000001 08-14 09:54:41.692 185-185/? I/DEBUG? bea60ba8 bea60be0 [stack] 08-14 09:54:41.692 185-185/? I/DEBUG? bea60bac 759deb05 /data/app-lib/com.inno.funApp.debug-1/librealm-jni.so 08-14 09:54:41.693 185-185/? I/DEBUG? bea60bb0 ffffffff 08-14 09:54:41.693 185-185/? I/DEBUG? bea60bb4 759deeab /data/app-lib/com.inno.funApp.debug-1/librealm-jni.so 08-14 09:54:41.693 185-185/? I/DEBUG? bea60bb8 ffffffff 08-14 09:54:41.694 185-185/? I/DEBUG? bea60bbc 00000001 08-14 09:54:41.694 185-185/? I/DEBUG? bea60bc0 bea60be0 [stack] 08-14 09:54:41.694 185-185/? I/DEBUG? bea60bc4 bea60c14 [stack] 08-14 09:54:41.695 185-185/? I/DEBUG? bea60bc8 75e90188 08-14 09:54:41.695 185-185/? I/DEBUG? bea60bcc 75e83aa8 08-14 09:54:41.696 185-185/? I/DEBUG? bea60bd0 00000020 08-14 09:54:41.696 185-185/? I/DEBUG? bea60bd4 759df049 /data/app-lib/com.inno.funApp.debug-1/librealm-jni.so 08-14 09:54:41.697 185-185/? I/DEBUG? bea60bd8 00000001 08-14 09:54:41.697 185-185/? I/DEBUG? memory near r0: 08-14 09:54:41.698 185-185/? I/DEBUG? 74ec7ae0 a8e1b2de 289c4164 f523b30f 57478f39 08-14 09:54:41.698 185-185/? I/DEBUG? 74ec7af0 00000000 00000413 75a68d90 00000000 08-14 09:54:41.698 185-185/? I/DEBUG? 74ec7b00 75a694d8 00002000 719d9a40 00000000 08-14 09:54:41.699 185-185/? I/DEBUG? 74ec7b10 00000001 00000000 0000003b 74ec7f78 08-14 09:54:41.699 185-185/? I/DEBUG? 74ec7b20 75e83000 00000003 00000000 00000000 08-14 09:54:41.700 185-185/? I/DEBUG? 74ec7b30 00000000 00000000 00000000 00000000 08-14 09:54:41.700 185-185/? I/DEBUG? 74ec7b40 00000000 00000000 00000000 00000000 08-14 09:54:41.700 185-185/? I/DEBUG? 74ec7b50 00000000 00000000 75a685b8 75e84418 08-14 09:54:41.701 185-185/? I/DEBUG? 74ec7b60 00001410 00000007 00000007 00000010 08-14 09:54:41.701 185-185/? I/DEBUG? 74ec7b70 00000100 00000000 00000000 74ec7b00 08-14 09:54:41.702 185-185/? I/DEBUG? 74ec7b80 759db88f 00000000 759db82b 00000000 08-14 09:54:41.702 185-185/? I/DEBUG? 74ec7b90 759db823 00000000 759f873d 00000000 08-14 09:54:41.703 185-185/? I/DEBUG? 74ec7ba0 75a23df9 00000000 75a17375 00000000 08-14 09:54:41.703 185-185/? I/DEBUG? 74ec7bb0 00000000 00000000 759f2f27 00000000 08-14 09:54:41.703 185-185/? I/DEBUG? 74ec7bc0 00000000 00000000 00000000 00000000 08-14 09:54:41.704 185-185/? I/DEBUG? 74ec7bd0 ffff8000 ffffffff 00007fff 00000000 08-14 09:54:41.704 185-185/? I/DEBUG? memory near r1: 08-14 09:54:41.704 185-185/? I/DEBUG? 8446cf38 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.705 185-185/? I/DEBUG? 8446cf48 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.705 185-185/? I/DEBUG? 8446cf58 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.705 185-185/? I/DEBUG? 8446cf68 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.705 185-185/? I/DEBUG? 8446cf78 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.705 185-185/? I/DEBUG? 8446cf88 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.706 185-185/? I/DEBUG? 8446cf98 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.706 185-185/? I/DEBUG? 8446cfa8 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.707 185-185/? I/DEBUG? 8446cfb8 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.707 185-185/? I/DEBUG? 8446cfc8 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.707 185-185/? I/DEBUG? 8446cfd8 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.707 185-185/? I/DEBUG? 8446cfe8 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.707 185-185/? I/DEBUG? 8446cff8 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.708 185-185/? I/DEBUG? 8446d008 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.708 185-185/? I/DEBUG? 8446d018 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.708 185-185/? I/DEBUG? 8446d028 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.709 185-185/? I/DEBUG? memory near r5: 08-14 09:54:41.709 185-185/? I/DEBUG? 00001fe0 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.709 185-185/? I/DEBUG? 00001ff0 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.709 185-185/? I/DEBUG? 00002000 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.710 185-185/? I/DEBUG? 00002010 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.710 185-185/? I/DEBUG? 00002020 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.710 185-185/? I/DEBUG? 00002030 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.711 185-185/? I/DEBUG? 00002040 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.711 185-185/? I/DEBUG? 00002050 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.711 185-185/? I/DEBUG? 00002060 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.711 185-185/? I/DEBUG? 00002070 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.711 185-185/? I/DEBUG? 00002080 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.712 185-185/? I/DEBUG? 00002090 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.712 185-185/? I/DEBUG? 000020a0 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.712 185-185/? I/DEBUG? 000020b0 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.713 185-185/? I/DEBUG? 000020c0 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.713 185-185/? I/DEBUG? 000020d0 ffffffff ffffffff ffffffff ffffffff 08-14 09:54:41.713 185-185/? I/DEBUG? memory near r7: 08-14 09:54:41.713 185-185/? I/DEBUG? bea60bc0 bea60be0 bea60c14 75e90188 75e83aa8 08-14 09:54:41.713 185-185/? I/DEBUG? bea60bd0 00000020 759df049 00000001 74ec7b00 08-14 09:54:41.714 185-185/? I/DEBUG? bea60be0 40089000 414f67b5 00000001 bea60c14 08-14 09:54:41.714 185-185/? I/DEBUG? bea60bf0 bea60c50 75a73140 74ec7b00 75e90170 08-14 09:54:41.714 185-185/? I/DEBUG? bea60c00 00000001 759df217 00000001 00000000 08-14 09:54:41.714 185-185/? I/DEBUG? bea60c10 00000002 00000000 00000000 00000000 08-14 09:54:41.714 185-185/? I/DEBUG? bea60c20 00000001 bea60c50 75e90170 75a73140 08-14 09:54:41.714 185-185/? I/DEBUG? bea60c30 75a730e8 00000002 75a7314c 759e3de9 08-14 09:54:41.715 185-185/? I/DEBUG? bea60c40 00000000 00000000 00000000 00000000 08-14 09:54:41.715 185-185/? I/DEBUG? bea60c50 00000000 00000000 00000000 75a73270 08-14 09:54:41.716 185-185/? I/DEBUG? bea60c60 bea61360 00000001 00000001 00000001 08-14 09:54:41.716 185-185/? I/DEBUG? bea60c70 00000002 bea611e4 00000001 759d9613 08-14 09:54:41.716 185-185/? I/DEBUG? bea60c80 00000000 75a73270 00000000 75e84218 08-14 09:54:41.716 185-185/? I/DEBUG? bea60c90 bea611b4 bea611d8 0000003b 759e7651 08-14 09:54:41.716 185-185/? I/DEBUG? bea60ca0 00000000 75a732c0 00000000 75a1ec51 08-14 09:54:41.717 185-185/? I/DEBUG? bea60cb0 00000000 00000000 00000000 00000000 08-14 09:54:41.717 185-185/? I/DEBUG? memory near r8: 08-14 09:54:41.717 185-185/? I/DEBUG? 75e83a88 0061005f 00650063 00690067 006d006b 08-14 09:54:41.717 185-185/? I/DEBUG? 75e83a98 0071006f 00750073 6136e27a 9371b7f6 08-14 09:54:41.717 185-185/? I/DEBUG? 75e83aa8 8446cf5a 175f4f8f 00657057 04000000 08-14 09:54:41.717 185-185/? I/DEBUG? 75e83ab8 6f686364 745f6c6f 00657079 04000000 08-14 09:54:41.718 185-185/? I/DEBUG? 75e83ac8 6f686373 745f6c6f 00657079 04000000 08-14 09:54:41.718 185-185/? I/DEBUG? 75e83ad8 6f686373 745f6c6f 00657079 04000000 08-14 09:54:41.718 185-185/? I/DEBUG? 75e83ae8 6f686373 745f6c6f 00657079 04000000 08-14 09:54:41.718 185-185/? I/DEBUG? 75e83af8 6f686373 745f6c6f 00657079 04000000 08-14 09:54:41.718 185-185/? I/DEBUG? 75e83b08 6f686373 745f6c6f 00657079 04000000 08-14 09:54:41.718 185-185/? I/DEBUG? 75e83b18 6f686373 6c5f6c6f 6c657665 03000000 08-14 09:54:41.718 185-185/? I/DEBUG? 75e83b28 6f686373 6c5f6c6f 6c657665 03000000 08-14 09:54:41.719 185-185/? I/DEBUG? 75e83b38 6f686373 6c5f6c6f 6c657665 03000000 08-14 09:54:41.719 185-185/? I/DEBUG? 75e83b48 6f686373 6c5f6c6f 6c657665 03000000 08-14 09:54:41.719 185-185/? I/DEBUG? 75e83b58 6f686373 6c5f6c6f 6c657665 03000000 08-14 09:54:41.719 185-185/? I/DEBUG? 75e83b68 6f686373 6c5f6c6f 6c657665 03000000 08-14 09:54:41.720 185-185/? I/DEBUG? 75e83b78 6f686373 6c5f6c6f 6c657665 03000000 08-14 09:54:41.720 185-185/? I/DEBUG? memory near sl: 08-14 09:54:41.720 185-185/? I/DEBUG? 75a7312c 75a717d0 75a73220 00000009 75e90170 08-14 09:54:41.720 185-185/? I/DEBUG? 75a7313c 00000002 00000000 006e0072 00000000 08-14 09:54:41.721 185-185/? I/DEBUG? 75a7314c 00000000 00000000 ffffffff 00750051 08-14 09:54:41.721 185-185/? I/DEBUG? 75a7315c 00720065 75a69478 0061006e 00690074 08-14 09:54:41.721 185-185/? I/DEBUG? 75a7316c 00650076 00710045 00610075 75a68ff8 08-14 09:54:41.721 185-185/? I/DEBUG? 75a7317c 0000003a 6176614a 5f6f695f 6c616572 08-14 09:54:41.721 185-185/? I/DEBUG? 75a7318c 6e695f6d 6e726574 545f6c61 656c6261 08-14 09:54:41.721 185-185/? I/DEBUG? 75a7319c 00000000 616e5f79 65766974 61757145 08-14 09:54:41.722 185-185/? I/DEBUG? 75a731ac 0000006c 000000d0 00000052 6176614a 08-14 09:54:41.722 185-185/? I/DEBUG? 75a731bc 5f6f695f 6c616572 6e695f6d 6e726574 08-14 09:54:41.722 185-185/? I/DEBUG? 75a731cc 545f6c61 656c6261 72657551 616e5f79 08-14 09:54:41.722 185-185/? I/DEBUG? 75a731dc 65766974 61757145 4a5f5f6c 4c4a335f 08-14 09:54:41.722 185-185/? I/DEBUG? 75a731ec 6176616a 6e616c5f 74535f67 676e6972 08-14 09:54:41.722 185-185/? I/DEBUG? 75a731fc 005a325f 00000000 00000900 00000000 08-14 09:54:41.722 185-185/? I/DEBUG? 75a7320c 00000000 00000000 00000000 00000000 08-14 09:54:41.723 185-185/? I/DEBUG? 75a7321c 00000043 6b63696e 6d616e5f 00000065 08-14 09:54:41.723 185-185/? I/DEBUG? memory near sp: 08-14 09:54:41.723 185-185/? I/DEBUG? bea60b7c 41504b7b 425d46f0 b081c1ff 425d46f0 08-14 09:54:41.723 185-185/? I/DEBUG? bea60b8c 425d4700 df0027ad 00000000 1140001d 08-14 09:54:41.724 185-185/? I/DEBUG? bea60b9c 00000000 bea60be0 00000001 bea60be0 08-14 09:54:41.724 185-185/? I/DEBUG? bea60bac 759deb05 ffffffff 759deeab ffffffff 08-14 09:54:41.724 185-185/? I/DEBUG? bea60bbc 00000001 bea60be0 bea60c14 75e90188 08-14 09:54:41.724 185-185/? I/DEBUG? bea60bcc 75e83aa8 00000020 759df049 00000001 08-14 09:54:41.726 185-185/? I/DEBUG? bea60bdc 74ec7b00 40089000 414f67b5 00000001 08-14 09:54:41.726 185-185/? I/DEBUG? bea60bec bea60c14 bea60c50 75a73140 74ec7b00 08-14 09:54:41.726 185-185/? I/DEBUG? bea60bfc 75e90170 00000001 759df217 00000001 08-14 09:54:41.727 185-185/? I/DEBUG? bea60c0c 00000000 00000002 00000000 00000000 08-14 09:54:41.727 185-185/? I/DEBUG? bea60c1c 00000000 00000001 bea60c50 75e90170 08-14 09:54:41.727 185-185/? I/DEBUG? bea60c2c 75a73140 75a730e8 00000002 75a7314c 08-14 09:54:41.727 185-185/? I/DEBUG? bea60c3c 759e3de9 00000000 00000000 00000000 08-14 09:54:41.728 185-185/? I/DEBUG? bea60c4c 00000000 00000000 00000000 00000000 08-14 09:54:41.728 185-185/? I/DEBUG? bea60c5c 75a73270 bea61360 00000001 00000001 08-14 09:54:41.728 185-185/? I/DEBUG? bea60c6c 00000001 00000002 bea611e4 00000001 08-14 09:54:41.728 185-185/? I/DEBUG? code around pc: 08-14 09:54:41.729 185-185/? I/DEBUG? 759d1918 1054dd0e 0034f853 07c4eb03 bf254281 08-14 09:54:41.729 185-185/? I/DEBUG? 759d1928 0202ebc4 0308f107 f1024622 e7ee32ff 08-14 09:54:41.730 185-185/? I/DEBUG? 759d1938 685842b3 f853bf18 1b495c08 bdf04408 08-14 09:54:41.730 185-185/? I/DEBUG? 759d1948 698369c2 1ad3b570 6903089b bf0c4604 08-14 09:54:41.731 185-185/? I/DEBUG? 759d1958 69426882 2448f8d2 5023f852 b93368c3 08-14 09:54:41.731 185-185/? I/DEBUG? 759d1968 f05a20a0 4606fc03 fe2af00b 68e360e6 08-14 09:54:41.731 185-185/? I/DEBUG? 759d1978 60dd2200 bd70609a 698369c2 1ad3b570 08-14 09:54:41.732 185-185/? I/DEBUG? 759d1988 6903089b bf0c4604 69426882 2448f8d2 08-14 09:54:41.732 185-185/? I/DEBUG? 759d1998 5023f852 b93368c3 f05a20a0 4606fbe7 08-14 09:54:41.733 185-185/? I/DEBUG? 759d19a8 fe1ef00b 68e360e6 60dd2200 bd70609a 08-14 09:54:41.733 185-185/? I/DEBUG? 759d19b8 698369c2 1ad3b570 6903089b bf0c4604 08-14 09:54:41.734 185-185/? I/DEBUG? 759d19c8 69426882 2448f8d2 5023f852 b93368c3 08-14 09:54:41.734 185-185/? I/DEBUG? 759d19d8 f05a20a0 4606fbcb ff90f00c 68e360e6 08-14 09:54:41.734 185-185/? I/DEBUG? 759d19e8 60dd2200 bd70609a f1004b0a 447b011c 08-14 09:54:41.735 185-185/? I/DEBUG? 759d19f8 0208f103 6002333c 60c32200 71022308 08-14 09:54:41.736 185-185/? I/DEBUG? 759d1a08 f1006083 61030314 d002428b 2b01f803 08-14 09:54:41.736 185-185/? I/DEBUG? code around lr: 08-14 09:54:41.736 185-185/? I/DEBUG? 759deae4 6883bfc6 b113685b f7ff3004 4618bff3 08-14 09:54:41.736 185-185/? I/DEBUG? 759deaf4 30044770 bfeef7ff 6803b508 4798695b 08-14 09:54:41.737 185-185/? I/DEBUG? 759deb04 b508bd08 691b6803 bd084798 44196843 08-14 09:54:41.737 185-185/? I/DEBUG? 759deb14 29006803 bfb8460a 021ff101 eb031152 08-14 09:54:41.737 185-185/? I/DEBUG? 759deb24 4b070282 2b00400b 3b01da03 031ff063 08-14 09:54:41.738 185-185/? I/DEBUG? 759deb34 2b003301 3320bfbc e8803a04 4770000c 08-14 09:54:41.739 185-185/? I/DEBUG? 759deb44 8000001f 4605b537 e88dc903 46680003 08-14 09:54:41.739 185-185/? I/DEBUG? 759deb54 f7ff4611 e89dffdb e8850003 46280003 08-14 09:54:41.739 185-185/? I/DEBUG? 759deb64 bd30b003 f101b573 4604051f 096d460e 08-14 09:54:41.740 185-185/? I/DEBUG? 759deb74 462800ad fafcf04d 46212300 46326063 08-14 09:54:41.740 185-185/? I/DEBUG? 759deb84 f8443408 44050c08 60a54668 ffdaf7ff 08-14 09:54:41.741 185-185/? I/DEBUG? 759deb94 0003e89d 0003e884 bd70b002 b1136843 08-14 09:54:41.741 185-185/? I/DEBUG? 759deba4 60433b01 231f4770 68036043 60033b04 08-14 09:54:41.742 185-185/? I/DEBUG? 759debb4 68434770 d0022b1f 60433301 23004770 08-14 09:54:41.742 185-185/? I/DEBUG? 759debc4 68036043 60033304 68034770 6843681a 08-14 09:54:41.742 185-185/? I/DEBUG? 759debd4 bf0c421a 20012000 b5084770 6803b110 08-14 09:54:41.844 4429-4578/? I/WhetstoneService? Receive am_crash event for pid: 1504 08-14 09:54:41.844 4429-4578/? W/KloServer? Aborted broadcast does not supprt for: android 08-14 09:54:41.844 4920-5324/? I/KLO_Stability? [am_crash][1439517281]:[1504 0 com.inno.funApp.debug 8961606 Native crash Segmentation fault unknown 0] 08-14 09:54:41.844 1504-28794/? W/ActivityManager? Force finishing activity com.inno.funApp.debug/com.inno.funApp.ui.main.view.HomeActivity 08-14 09:54:41.845 4920-5323/? I/libmc? received event[index:0 mask:0x8 name:tombstone_02] 08-14 09:54:41.847 1504-1568/? I/BootReceiver? Copying /data/tombstones/tombstone_02 to DropBox (SYSTEM_TOMBSTONE) 08-14 09:54:41.851 1504-1568/? I/dalvikvm-heap? Grow heap (frag case) to 24.847MB for 131088-byte allocation 08-14 09:54:41.881 4920-5324/? I/libmc? received event[index:0 mask:0x80 name:data_app_native_crash@1439517281881.txt] 08-14 09:54:41.893 4920-5324/? I/libmc? received event[index:0 mask:0x80 name:SYSTEM_TOMBSTONE@1439517281893.txt.gz] 08-14 09:54:41.893 187-187/? D/Zygote? Process 28759 terminated by signal (11) 08-14 09:54:41.896 1504-4483/? I/ActivityManager? Process com.inno.funApp.debug (pid 28759) has died. 08-14 09:54:41.899 4122-4122/? D/PhoneStatusBar? disable: 0x00000080 -> 0x00000000 (diff: 0x00000080) 08-14 09:54:41.899 4122-4122/? D/PhoneStatusBar? disable: < expand icons alerts ticker system_info back home recent clock full hide > 08-14 09:54:41.906 4429-4578/? I/libmc? task pid 4468 have been add to group sys_app_fg. 08-14 09:54:41.906 4429-4578/? I/libmc? [sys_app_fg]cgroup_add_tasks max single write time: 0ms 08-14 09:54:41.906 4429-4578/? I/libmc? [sys_app_fg]cgroup_add_tasks total time consume: 0ms 08-14 09:54:41.926 4468-4997/? I/RenderThread? RenderThread resumed 08-14 09:54:41.926 4468-4997/? I/RenderThread? Sleep for long time:9223372036854775807 ms 08-14 09:54:41.950 4468-4997/? I/RenderThread? Sleep for long time:9223372036854775807 ms 08-14 09:54:41.952 4468-4997/? I/RenderThread? Sleep for long time:9223372036854775807 ms 08-14 09:54:42.676 4142-4142/? D/wpa_supplicant? RX ctrl_iface - hexdump(len=11): 53 49 47 4e 41 4c 5f 50 4f 4c 4c 08-14 09:54:42.676 4142-4142/? D/wpa_supplicant? wlan0: Control interface command 'SIGNAL_POLL' 08-14 09:54:42.682 4142-4142/? D/wpa_supplicant? nl80211: survey data missing! 08-14 09:54:42.685 4142-4142/? D/wpa_supplicant? RX ctrl_iface - hexdump(len=11): 50 4b 54 43 4e 54 5f 50 4f 4c 4c 08-14 09:54:42.685 4142-4142/? D/wpa_supplicant? wlan0: Control interface command 'PKTCNT_POLL' 08-14 09:54:42.694 4142-4142/? D/wpa_supplicant? RX ctrl_iface - hexdump(len=11): 53 49 47 4e 41 4c 5f 50 4f 4c 4c 08-14 09:54:42.694 4142-4142/? D/wpa_supplicant? wlan0: Control interface command 'SIGNAL_POLL' 08-14 09:54:42.698 4142-4142/? D/wpa_supplicant? nl80211: survey data missing! 08-14 09:54:43.677 4142-4142/? D/wpa_supplicant? RX ctrl_iface - hexdump(len=11): 53 49 47 4e 41 4c 5f 50 4f 4c 4c 08-14 09:54:43.677 4142-4142/? D/wpa_supplicant? wlan0: Control interface command 'SIGNAL_POLL' 08-14 09:54:43.684 4142-4142/? D/wpa_supplicant? nl80211: survey data missing! 08-14 09:54:43.685 4142-4142/? D/wpa_supplicant? RX ctrl_iface - hexdump(len=11): 50 4b 54 43 4e 54 5f 50 4f 4c 4c 08-14 09:54:43.685 4142-4142/? D/wpa_supplicant? wlan0: Control interface command 'PKTCNT_POLL' 08-14 09:54:44.678 4142-4142/? D/wpa_supplicant? RX ctrl_iface - hexdump(len=11): 53 49 47 4e 41 4c 5f 50 4f 4c 4c 08-14 09:54:44.678 4142-4142/? D/wpa_supplicant? wlan0: Control interface command 'SIGNAL_POLL' 08-14 09:54:44.685 4142-4142/? D/wpa_supplicant? nl80211: survey data missing! 08-14 09:54:44.686 4142-4142/? D/wpa_supplicant? RX ctrl_iface - hexdump(len=11): 50 4b 54 43 4e 54 5f 50 4f 4c 4c 08-14 09:54:44.686 4142-4142/? D/wpa_supplicant? wlan0: Control interface command 'PKTCNT_POLL' 08-14 09:54:44.907 4429-4429/? D/WhetstoneService? deal background too Frequently  ingore,0
1392,15-08-16,Issue 1392 : Snapshot releases have stopped updating ， Issue #1392 ， realm/realm-java ， GitHub http://oss.jfrog.org/oss-snapshot-local/io/realm/realm-android/0.83.0-SNAPSHOT/ Last snapshot is on 8/11.,0
1393,15-08-16,Issue 1393 : isValid() doesn't behave as expected ， Issue #1393 ， realm/realm-java ， GitHub I'm using realm-android:0.83.0-SNAPSHOT. When I run this simple code: Realm realm = Realm.getInstance(this); realm.beginTransaction(); Dog myDog = realm.createObject(Dog.class); myDog.setDogName("myDog"); realm.commitTransaction();  realm.beginTransaction(); myDog.removeFromRealm(); realm.commitTransaction();  Timber.e("myDog still valid: " + myDog.isValid()); myDog.isValid() throws an IllegalStateException      Caused by: java.lang.IllegalStateException: Object is no longer managed by Realm. Has it been deleted?             at io.realm.internal.InvalidRow.getStubException(InvalidRow.java:180)             at io.realm.internal.InvalidRow.isAttached(InvalidRow.java:171)             at io.realm.RealmObject.isValid(RealmObject.java:107) How can I check if an object was removed from realm? Or does my little example not work because I'm calling this function from the same thread? However  I don't think that isValid() should ever throw such an exception.,0
1398,15-08-19,Issue 1398 : Realm Encryption armv7a.so has compat issues with libhoudini (arm to x86 translator) ， Issue #1398 ， realm/realm-java ， GitHub I wouldn't consider this a bug in Realm encryption but it may reveal something inside realm encryption that is leading to bugs. We are testing not packaging x86.so and instead relying on libhoudini which boundled with almost all x86 android devices to dynamically translate armv7a.so's arm code to x86 code at runtime. This works great except with loading/using an encrypted db which causes an infinite loop situation causing test app's UI thread to stall and entire app is unresponsive. This is easily reproduce-able on any x86 android. we are using an Asus Zenfone2 devices and Chuwi VI8.,0
1401,15-08-19,Issue 1401 : Realm.addChangeListener doesn't work on background threads ， Issue #1401 ， realm/realm-java ， GitHub If you do new Thread(new Runnable() {   public void run() {     Realm realm = Realm.getDefaultInstance();     realm.addChangeListener(listener)     // ...   }  }).start();  on a non-looper thread. That change listener will never be called unless you execute a transaction on that thread. That behaviour seems a bit strange. The problem is that we are triggering onChange after updating the the Realm on looper-threads. That isn't possible on non-looper threads as there is no point in time updating the Realm behind users back would make sense. We should consider doing one of the following: Prevent people from adding change listeners on a non-looper thread (throw exception). People would have to notify these threads in some other way. Document the behaviour better. Call onChange on non-looper threads  but without updating the Realm on that thread first. Something else.... ?,0
1403,15-08-19,Issue 1403 : Memory violation on Samsung Galaxy S6 with encrypted Realm 0.82.1 ， Issue #1403 ， realm/realm-java ， GitHub I have an issue which could be related to #1037 and #1357. Each time I write data in a encrypted Realm using realm.commitTransaction(); on a Samsung Galaxy S6 (Android 5.1.1) I get the following error: 08-19 15:42:40.651    4018-4018/? E/audit? type=1701 msg=audit(1439991760.651:232): auid=4294967295 uid=10208 gid=10208 ses=4294967295 subj=u:r:untrusted_app:s0 pid=8542 comm="roid.<app_name>" reason="memory violation" sig=11  I traced down the crash to nativeCommitAndContinueAsRead(nativePtr); in class SharedGroup. On execution of this method the error occurs and our app crashes. We are using 0.82.1 and getting the same error on 0.83.0-SNAPSHOT as well. The problem is  I was trying to reproduce this error in a Hello World project  but I could not. Writing and reading data works fine. It just does not function in context with our app. I cannot even find a big difference to the Hello World project though. The error happens in the very beginning where things are not that complex. Do you have any suggestions on how this memory violation error might be reproduced? I have an S6 here to test anything that is needed to sort out this issue. Your help is much appreciated Thanks Ben Hello World project that does some things randomly to try to crash the app: public class ExampleActivity extends AppCompatActivity {      @Override     protected void onCreate(Bundle savedInstanceState) {         super.onCreate(savedInstanceState);         setContentView(R.layout.activity_main);          Realm newRealm = Realm.getInstance(this  "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa".getBytes());          TestObject TestObject2 = newRealm.where(TestObject.class).findFirst();          TestObject testObject = new TestObject();         testObject.setId(23);         testObject.setName("Example");          newRealm.beginTransaction();         newRealm.copyToRealm(testObject);         newRealm.commitTransaction();         newRealm.refresh();          TestObject testObject2 = newRealm.where(TestObject.class).findFirst();         newRealm.beginTransaction();         if (testObject2 != null) {             testObject2.setName("yo yo");             testObject2.setId(42);         }         newRealm.commitTransaction();     } },0
1406,15-08-20,Issue 1406 : Main looper not getting all change events ， Issue #1406 ， realm/realm-java ， GitHub It seems it is possible to cause a race condition in Realm which will cause the Main Looper to miss updates from background threads: public class MainActivity extends AppCompatActivity {      private RealmConfiguration config;     private Realm realm;     private RealmResults<OperationalOutputMessage> objects;      @Override     protected void onCreate(Bundle savedInstanceState) {         super.onCreate(savedInstanceState);         setContentView(R.layout.activity_main);         config = new RealmConfiguration.Builder(this).build();         Realm.deleteRealm(config);         realm = Realm.getInstance(config);         realm.addChangeListener(new RealmChangeListener() {             @Override             public void onChange() {                 printSize();              }         });         objects = realm.allObjects(OperationalOutputMessage.class);         printSize();          // Execute lots of small commits on a background thread         new Thread(new Runnable() {             @Override             public void run() {                 for (int i = 0; i < 1000; i++) {                     OperationalOutputMessage msg = new OperationalOutputMessage();                     msg.setmTimeStamp(i + 1);                     try(Realm realm = Realm.getInstance(MainActivity.this)) {                         realm.beginTransaction();                         realm.copyToRealm(msg);                         realm.commitTransaction();                     }                 }             }         }).start();     }      private void printSize() {         ((TextView)findViewById(R.id.text_size)).setText("Size: " + objects.size());     }      @Override     protected void onDestroy() {         super.onDestroy();         realm.close();     } }  Expected output on the screen would be 1000 after the background thread is done. However that is not the case (usually around 600 on GenyMotion). This indicate that messages are not properly sent to the UI thread.,0
1417,15-08-24,Issue 1417 : Calling commitTransaction twice should throw an exception ， Issue #1417 ， realm/realm-java ， GitHub realm.beginTransaction() realm.commitTransaction() realm.commitTransaction() Above code should generate an exception. In the latest core  a native exception will be triggered,0
1421,15-08-25,Issue 1421 : couldn't find "librealm-jni.so" ， Issue #1421 ， realm/realm-java ， GitHub After the last android updates i found this error in every project i use realm this is the stacktrace: 08-25 16:03:40.457 16017-16017/it.fortech.fortechmobilepayment E/AndroidRuntime? FATAL EXCEPTION: main Process: it.fortech.fortechmobilepayment  PID: 16017 java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file "/data/app/it.fortech.fortechmobilepayment-2/base.apk"] nativeLibraryDirectories=[/vendor/lib  /system/lib]]] couldn't find "librealm-jni.so" at java.lang.Runtime.loadLibrary(Runtime.java:366) at java.lang.System.loadLibrary(System.java:988) at io.realm.internal.RealmCore.loadLibrary(RealmCore.java:114) at io.realm.internal.SharedGroup.(SharedGroup.java:35) at io.realm.Realm.(Realm.java:205) at io.realm.Realm.createAndValidate(Realm.java:594) at io.realm.Realm.create(Realm.java:564) at io.realm.Realm.getInstance(Realm.java:411) at io.realm.Realm.getInstance(Realm.java:368) at io.realm.Realm.getInstance(Realm.java:349) at it.fortech.fortechmobilepayment.account.LoginActivity.onCreate(LoginActivity.java:55) at android.app.Activity.performCreate(Activity.java:5990) at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106) at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278) at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387) at android.app.ActivityThread.access$800(ActivityThread.java:151) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303) at android.os.Handler.dispatchMessage(Handler.java:102) at android.os.Looper.loop(Looper.java:135) at android.app.ActivityThread.main(ActivityThread.java:5254) at java.lang.reflect.Method.invoke(Native Method) at java.lang.reflect.Method.invoke(Method.java:372) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698) Tested on Nexus 5 device Android Studio 1.3 OS X 10.10.5,0
1437,15-08-29,Issue 1437 : RealmGridViewExample: Demo crash by java.lang.IllegalStateException. ， Issue #1437 ， realm/realm-java ， GitHub When I click the item on GridView and exit the demo app  if you open app again  below crash error throw: ** Caused by: java.lang.IllegalStateException: It's not allowed to delete the file associated with an open Realm. Remember to close() all the instances of the Realm before deleting its file. at io.realm.Realm.deleteRealm(Realm.java:1722) at io.realm.examples.realmgridview.GridViewExampleActivity.onCreate(GridViewExampleActivity.java:60) at android.app.Activity.performCreate(Activity.java:5283) at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1088) at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2307) ** And when item click  below code execute: // Update the realm object affected by the user Realm realm = Realm.getInstance(this);  // Acquire the list of realm cities matching the name of the clicked City. City city = realm.where(City.class).equalTo("name"  modifiedCity.getName()).findFirst();  // Create a transaction to increment the vote count for the selected City in the realm realm.beginTransaction(); city.setVotes(city.getVotes() + 1); realm.commitTransaction(); Do we need to call close() when done using the Realm instance? Realm version: 0.82.1,0
1442,15-09-01,Issue 1442 : Native crash "Failure when converting short string to UTF-16 error_code = 1"  ， Issue #1442 ， realm/realm-java ， GitHub Realm version: 0.82.0 Encryption: no Android version: 5.0.2 We got native crash: F/libc    (18165): Fatal signal 11 (SIGSEGV)  code 1  fault addr 0x0 in tid 14454 (Retrofit-Idle) F/art     (18165): art/runtime/check_jni.cc:65] JNI DETECTED ERROR IN APPLICATION: input is not valid Modified  UTF-8: illegal continuation byte 0x3b F/art     (18165): art/runtime/check_jni.cc:65]     string: 'Unrecoverable error. Failure when converting short     string to UTF-16 error_code = 1; retcode = 0; StringData.size = 15; StringData.data = ?; StringData as hex =      0xe1 0x00 0xee 0x00 0x12 0x02 0xb8 0x03 0x09 0x06 0xed 0x07 0xe1 0x00 0xee; in_begin = ?; in_end = ; out_curr =   0x96cff2c0; out_end = 0x96cff320; in io_realm_internal_UncheckedRow.cpp line 137' F/art     (18165): art/runtime/check_jni.cc:65]     in call to ThrowNew F/art     (18165): art/runtime/check_jni.cc:65]     from java.lang.String io.realm.internal.UncheckedRow.   nativeGetString(long  long) F/art     (18165): art/runtime/check_jni.cc:65] "realm_thread" prio=5 tid=51 Runnable F/art     (18165): art/runtime/check_jni.cc:65]   | group="main" sCount=0 dsCount=0 obj=0x12c0b400  self=0xa1675000 F/art     (18165): art/runtime/check_jni.cc:65]   | sysTid=18276 nice=0 cgrp=apps sched=0/0 handle=0xb3bd1000 F/art     (18165): art/runtime/check_jni.cc:65]   | state=R schedstat=( 7189801941 1409708139 5564 ) utm=700    stm=18 core=2 HZ=100 F/art     (18165): art/runtime/check_jni.cc:65]   | stack=0x96bfe000-0x96c00000 stackSize=1036KB F/art     (18165): art/runtime/check_jni.cc:65]   | held mutexes= "mutator lock"(shared held) F/art     (18165): art/runtime/check_jni.cc:65]   native: #00 pc 00004640  /system/lib/libbacktrace_libc++.so ( UnwindCurrent::Unwind(unsigned int  ucontext*)+23) F/art     (18165): art/runtime/check_jni.cc:65]   native: #01 pc 00002e8d  /system/lib/libbacktrace_libc++.so ( Backtrace::Unwind(unsigned int  ucontext*)+8) F/art     (18165): art/runtime/check_jni.cc:65]   native: #02 pc 0023f09d  /system/lib/libart.so (  art::DumpNativeStack(std::__1::basic_ostream<char  std::__1::char_traits<char> >&  int  char const*     art::mirror::ArtMethod*)+68) F/art     (18165): art/runtime/check_jni.cc:65]   native: #03 pc 002245eb  /system/lib/libart.so (  art::Thread::Dump(std::__1::basic_ostream<char  std::__1::char_traits<char> >&) const+146) F/art     (18165): art/runtime/check_jni.cc:65]   native: #04 pc 000afafb  /system/lib/libart.so (art::JniAbort(    char const*  char const*)+582) F/art     (18165): art/runtime/check_jni.cc:65]   native: #05 pc 000b0235  /system/lib/libart.so (art::JniAbortF(   char const*  char const*  ...)+60) F/art     (18165): art/runtime/check_jni.cc:65]   native: #06 pc 000b268f  /system/lib/libart.so (  art::ScopedCheck::Check(bool  char const*  ...) (.constprop.128)+882) F/art     (18165): art/runtime/check_jni.cc:65]   native: #07 pc 000b435d  /system/lib/libart.so (  art::CheckJNI::ThrowNew(_JNIEnv*  _jclass*  char const*)+40) F/art     (18165): art/runtime/check_jni.cc:65]   native: #08 pc 0008a18f  /data/app/com.hive.chat.debug-2/lib/ arm/librealm-jni.so (???) F/art     (18165): art/runtime/check_jni.cc:65]   native: #09 pc 00021fa7  /data/app/com.hive.chat.debug-2/lib/ arm/librealm-jni.so (???) F/art     (18165): art/runtime/check_jni.cc:65]   native: #10 pc 0005c68f  /data/app/com.hive.chat.debug-2/lib/ arm/librealm-jni.so (Java_io_realm_internal_UncheckedRow_nativeGetString+90) F/art     (18165): art/runtime/check_jni.cc:65]   native: #11 pc 0068145f  /data/dalvik-cache/arm/data@app@com. hive.chat.debug-2@base.apk@classes.dex (Java_io_realm_internal_UncheckedRow_nativeGetString__JJ+110) F/art     (18165): art/runtime/check_jni.cc:65]   at io.realm.internal.UncheckedRow.nativeGetString(Native  method) F/art     (18165): art/runtime/check_jni.cc:65]   at io.realm.internal.UncheckedRow.getString(UncheckedRow. java:134) F/art     (18165): art/runtime/check_jni.cc:65]   at io.realm.ServerChatRealmProxy.getType(ServerChatRealmProxy.    java:74) F/art     (18165): art/runtime/check_jni.cc:65]   at com.playdayteam.data.mapper.ChatContainerDataMapper.   getAuthor(ChatContainerDataMapper.java:119) F/art     (18165): art/runtime/check_jni.cc:65]   at com.playdayteam.data.mapper.ChatContainerDataMapper.   transform(ChatContainerDataMapper.java:79) F/art     (18165): art/runtime/check_jni.cc:65]   at com.playdayteam.data.mapper.ChatContainerDataMapper.   transform(ChatContainerDataMapper.java:30) F/art     (18165): art/runtime/check_jni.cc:65]   at com.playdayteam.data.mapper.BaseDataMapper.lambda$null$2(  BaseDataMapper.java:42) F/art     (18165): art/runtime/check_jni.cc:65]   at com.playdayteam.data.mapper.BaseDataMapper.access$lambda$3(    BaseDataMapper.java:-1) F/art     (18165): art/runtime/check_jni.cc:65]   at com.playdayteam.data.mapper.BaseDataMapper$$Lambda$4.call( unavailable:-1) F/art     (18165): art/runtime/check_jni.cc:65]   at rx.internal.operators.OperatorMap$1.onNext(OperatorMap.    java:55) F/art     (18165): art/runtime/check_jni.cc:65]   at rx.internal.operators.OperatorDoOnEach$1.onNext(   OperatorDoOnEach.java:84) F/art     (18165): art/runtime/check_jni.cc:65]   at rx.internal.operators.OperatorMerge$MergeSubscriber.   emitScalar(OperatorMerge.java:363) F/art     (18165): art/runtime/check_jni.cc:65]   at rx.internal.operators.OperatorMerge$MergeSubscriber.tryEmit(   OperatorMerge.java:325) F/art     (18165): art/runtime/check_jni.cc:65]   at rx.internal.operators.OperatorMerge$InnerSubscriber.onNext(    OperatorMerge.java:800) F/art     (18165): art/runtime/check_jni.cc:65]   at rx.internal.operators. OnSubscribeFromIterable$IterableProducer.request(OnSubscribeFromIterable.java:106) F/art     (18165): art/runtime/check_jni.cc:65]   at rx.Subscriber.setProducer(Subscriber.java:211) F/art     (18165): art/runtime/check_jni.cc:65]   at rx.internal.operators.OnSubscribeFromIterable.call(    OnSubscribeFromIterable.java:50) F/art     (18165): art/runtime/check_jni.cc:65]   at rx.internal.operators.OnSubscribeFromIterable.call(    OnSubscribeFromIterable.java:33) F/art     (18165): art/runtime/check_jni.cc:65]   at rx.Observable.unsafeSubscribe(Observable.java:7713) F/art     (18165): art/runtime/check_jni.cc:65]   at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(    OperatorMerge.java:231) F/art     (18165): art/runtime/check_jni.cc:65]   at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(    OperatorMerge.java:140) F/art     (18165): art/runtime/check_jni.cc:65]   at rx.internal.operators.OperatorMap$1.onNext(OperatorMap.    java:55) F/art     (18165): art/runtime/check_jni.cc:65]   at rx.internal.operators.OperatorDoOnEach$1.onNext(   OperatorDoOnEach.java:84) F/art     (18165): art/runtime/check_jni.cc:65]   at rx.internal.operators.OperatorSubscribeOn$1$1$1.onNext(    OperatorSubscribeOn.java:76) F/art     (18165): art/runtime/check_jni.cc:65]   at rx.internal.operators.OperatorObserveOn$ObserveOnSubscriber.   pollQueue(OperatorObserveOn.java:208) F/art     (18165): art/runtime/check_jni.cc:65]   at rx.internal.operators. OperatorObserveOn$ObserveOnSubscriber$2.call(OperatorObserveOn.java:170) F/art     (18165): art/runtime/check_jni.cc:65]   at rx.internal.schedulers.ScheduledAction.run(ScheduledAction.    java:55) F/art     (18165): art/runtime/check_jni.cc:65]   at android.os.Handler.handleCallback(Handler.java:739) F/art     (18165): art/runtime/check_jni.cc:65]   at android.os.Handler.dispatchMessage(Handler.java:95) F/art     (18165): art/runtime/check_jni.cc:65]   at android.os.Looper.loop(Looper.java:211) F/art     (18165): art/runtime/check_jni.cc:65]   at android.os.HandlerThread.run(HandlerThread.java:61) F/art     (18165): art/runtime/check_jni.cc:65]  After that crash app didn't start and fails with: I/DEBUG   (  343): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** I/DEBUG   (  343): UUID: e14309d8-5ebe-48f7-85a5-9478375a6220 I/DEBUG   (  343): Build fingerprint: 'Sony/D5503/D5503:5.0.2/14.5.A.0.270/3750474323:user/release-keys' I/DEBUG   (  343): Revision: '0' I/DEBUG   (  343): ABI: 'arm' I/DEBUG   (  343): pid: 14815  tid: 14943  name: RxNewThreadSche  >>> com.hive.chat.debug <<< I/DEBUG   (  343): signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0xc I/DEBUG   (  343):     r0 af658e00  r1 00000003  r2 af658900  r3 00000000 I/DEBUG   (  343):     r4 af658e00  r5 9c4fc014  r6 0000000e  r7 00000003 I/DEBUG   (  343):     r8 af658e00  r9 9ddb0db0  sl a0255e10  fp af66d480 I/DEBUG   (  343):     ip a17d4e60  sp a0255d90  lr a17560e1  pc a17820be  cpsr 40070030 I/DEBUG   (  343): I/DEBUG   (  343): backtrace: I/DEBUG   (  343):     #00 pc 0007a0be  /data/app/com.hive.chat.debug-2/lib/arm/librealm-jni.so I/DEBUG   (  343):     #01 pc 0004e0dd  /data/app/com.hive.chat.debug-2/lib/arm/librealm-jni.so I/DEBUG   (  343):     #02 pc 0007a017  /data/app/com.hive.chat.debug-2/lib/arm/librealm-jni.so I/DEBUG   (  343):     #03 pc 0004b723  /data/app/com.hive.chat.debug-2/lib/arm/librealm-jni.so I/DEBUG   (  343):     #04 pc 00079f49  /data/app/com.hive.chat.debug-2/lib/arm/librealm-jni.so I/DEBUG   (  343):     #05 pc 0004b723  /data/app/com.hive.chat.debug-2/lib/arm/librealm-jni.so I/DEBUG   (  343):     #06 pc 00079f0b  /data/app/com.hive.chat.debug-2/lib/arm/librealm-jni.so I/DEBUG   (  343):     #07 pc 0004b723  /data/app/com.hive.chat.debug-2/lib/arm/librealm-jni.so I/DEBUG   (  343):     #08 pc 00079f0b  /data/app/com.hive.chat.debug-2/lib/arm/librealm-jni.so I/DEBUG   (  343):     #09 pc 0004b723  /data/app/com.hive.chat.debug-2/lib/arm/librealm-jni.so I/DEBUG   (  343):     #10 pc 00079f0b  /data/app/com.hive.chat.debug-2/lib/arm/librealm-jni.so I/DEBUG   (  343):     #11 pc 0004b723  /data/app/com.hive.chat.debug-2/lib/arm/librealm-jni.so I/DEBUG   (  343):     #12 pc 00079f49  /data/app/com.hive.chat.debug-2/lib/arm/librealm-jni.so I/DEBUG   (  343):     #13 pc 0004b723  /data/app/com.hive.chat.debug-2/lib/arm/librealm-jni.so I/DEBUG   (  343):     #14 pc 000597b5  /data/app/com.hive.chat.debug-2/lib/arm/librealm-jni.so (   Java_io_realm_internal_Group_nativeGetTableNativePtr+252) I/DEBUG   (  343):     #15 pc 006815c9  /data/dalvik-cache/arm/data@app@com.hive.chat.debug-2@base.apk@classes.dex,0
1451,15-09-04,Issue 1451 : DynamicRealmObject setObject() does not check types properly ， Issue #1451 ， realm/realm-java ， GitHub In DynamicRealmObject's setObject(String fieldName  DynamicRealmObject value)  the type of the parameter should be compared against the field's defined type. Instead  it is being compared against the type of the object itself. The offending lines are in DynamicRealmObject.java lines 404-409.,0
1462,15-09-10,Issue 1462 : Long deleting records ， Issue #1462 ， realm/realm-java ， GitHub Hi! There is a basis Realm Java 0.82.2. Table Author - 1 record Table Books - 46 entries associated with one entry Author Code: RealmResults author = realm.where(Authors.class).equalTo("url_base"  url_base).findAll(); RealmResults books = realm.where(Books.class).equalTo("author.url_base"  url_base).findAll(); realm.beginTransaction(); books.clear(); author.clear(); realm.commitTransaction(); Deleting records time is from 2 to 8 minutes. With what it can be connected? Thank you!,0
1466,15-09-11,Issue 1466 : columnIndices are not populated causing NPE ， Issue #1466 ， realm/realm-java ， GitHub #1434 introduced an optimisation to avoid validating a Realm more than once (if opened with the same configuration from another thread for example). this cause createAndValidate to be called once  still this is problematic as the second Realm will not populate columnIndices attribute which is used to lookup columns  causing a NPE,0
1467,15-09-11,Issue 1467 : Different instances with same configuration & different thread return same handler ， Issue #1467 ， realm/realm-java ， GitHub Different instances of Realm sharing the same configuration living in different threads should have different handlers,0
1477,15-09-18,Issue 1477 : Encrypted interprocess sharing is currently unsupported in io_realm_internal_SharedGroup.cpp ， Issue #1477 ， realm/realm-java ， GitHub Realm version is 0.8.2  Android version is 4.4.2 Encrypted interprocess sharing is currently unsupported in io_realm_internal_SharedGroup.cpp line 115 at io.realm.internal.SharedGroup.createNativeWithImplicitTransactions(SharedGroup.java) at io.realm.internal.SharedGroup.(SharedGroup.java:60) at io.realm.Realm.(Realm.java:207) at io.realm.Realm.createAndValidate(Realm.java:597) at io.realm.Realm.create(Realm.java:567) at io.realm.Realm.getInstance(Realm.java:540) Anyone know what it is?,0
1481,15-09-19,Issue 1481 : object files in realm-jni remain when invoking clean task ， Issue #1481 ， realm/realm-java ， GitHub There are two problems. One is that clean task in realm-jni is not called from root project. Other is that clean task in realm-jni uses file globbing but it does not work. I sent two PRs that fixes these problems. #1479  #1480,0
1490,15-09-23,Issue 1490 : Two configurations with different schemas are trying to open the same Realm file. ， Issue #1490 ， realm/realm-java ， GitHub Hi! I'm running into a random issue with captioned error when I use two Realms with different configurations (without overlapping modules for each configuration). Any idea for the cause of the error? This error is not always reproducible and it has appeared under some random occasions on Android 4.3 and 5.1 with 0.82.2. Thanks for your help!,0
1534,15-10-06,Issue 1534 : Couldn't load realm-jni (io.realm.internal.RealmCore.loadLibrary) 0.82.2 ， Issue #1534 ， realm/realm-java ， GitHub Hi! Our crash analytic tool reported problems with loading realm-jni for version 0.82.2 (and previous also). Unfortunetly most of our crashes comes from realm.io library. We don't have any more accurate data for this bug. RealmCore.java line 114 io.realm.internal.RealmCore.loadLibrary java.lang.ExceptionInInitializerError at io.realm.Realm.(Realm.java:205) at io.realm.Realm.createAndValidate(Realm.java:594) at io.realm.Realm.create(Realm.java:564) at io.realm.Realm.getInstance(Realm.java:537)... Caused by: java.lang.UnsatisfiedLinkError: Couldn't load realm-jni: findLibrary returned null at java.lang.Runtime.loadLibrary(Runtime.java:365) at java.lang.System.loadLibrary(System.java:535) at io.realm.internal.RealmCore.loadLibrary(RealmCore.java:114) at io.realm.internal.SharedGroup.(SharedGroup.java:35) at io.realm.Realm.(Realm.java:205) at io.realm.Realm.createAndValidate(Realm.java:594) at io.realm.Realm.create(Realm.java:564) at io.realm.Realm.getInstance(Realm.java:537),0
1535,15-10-06,Issue 1535 : UnsatisfiedLinkError: Native method not found: nativeBeginImplicit ， Issue #1535 ， realm/realm-java ， GitHub Hi! Next "popular" crash reported from our crash analytics tools for version 82.2(and previous) is: Fatal Exception: java.lang.UnsatisfiedLinkError Native method not found: io.realm.internal.SharedGroup.nativeBeginImplicit:(J)J java.lang.UnsatisfiedLinkError: Native method not found: io.realm.internal.SharedGroup.nativeBeginImplicit:(J)J at io.realm.internal.SharedGroup.nativeBeginImplicit(SharedGroup.java) at io.realm.internal.SharedGroup.beginImplicitTransaction(SharedGroup.java:117) at io.realm.Realm.(Realm.java:207) at io.realm.Realm.createAndValidate(Realm.java:594) at io.realm.Realm.create(Realm.java:564) at io.realm.Realm.getInstance(Realm.java:537) System versions: 4.4.3  4.4.4 Devices: Motorola XT1033  XT1040  XT1069 We using Dagger2  but this should'nt imply any problems.,0
1547,15-10-08,Issue 1547 : "Application Not Responding" (ANR) issue ， Issue #1547 ， realm/realm-java ， GitHub This is from Korean app called Kakao Hello Galaxy S6  Galaxy S6 Edge  Galaxy S6 Edge+  Galaxy Note5 (OS 5.1.1) Reproduceable sometimes when contact tab scrolled or touching the screen call log last call stack stopped at nativeGetString()  nativeIsNull() They this function is not returned but blocked? ANR LOG 1 (Main thread)  DALVIK THREADS (59): "main" prio=5 tid=1 Native | group="main" sCount=1 dsCount=0 obj=0x88024000 self=0x7f82ca6000 | sysTid=27763 nice=-6 cgrp=default sched=0/0 handle=0x7f86a95e30 | state=R schedstat=( 0 0 0 ) utm=7487 stm=24231 core=6 HZ=100 | stack=0x7fe93a0000-0x7fe93a2000 stackSize=8MB | held mutexes= kernel: (couldn't read /proc/self/task/27763/stack) native: #00 pc 000cf200 /data/app/com.kakao.hello-1/lib/arm64/librealm-jni.so (AES_decrypt+764) native: #01 pc 000cfa90 /data/app/com.kakao.hello-1/lib/arm64/librealm-jni.so (CRYPTO_cbc128_decrypt+980) at io.realm.internal.UncheckedRow.nativeGetString(Native method) at io.realm.internal.UncheckedRow.getString(SourceFile:134) at io.realm.RealmBizPlaceRealmProxy.getExtra(SourceFile:131) at com.kakao.hello.data.api.model.BizPlace.valueOf(SourceFile:84) at com.kakao.hello.data.api.model.Contact$Ui.valueOf(SourceFile:473) at com.kakao.hello.ui.main.contact.ContactListAdapter.a(SourceFile:170) at com.kakao.hello.ui.main.contact.ContactListAdapter.onBindViewHolder(SourceFile:145) at android.support.v7.widget.RecyclerView$Adapter.onBindViewHolder(SourceFile:5277) at android.support.v7.widget.RecyclerView$Adapter.bindViewHolder(SourceFile:5310) at android.support.v7.widget.RecyclerView$Recycler.a(SourceFile:4568)  at android.support.v7.widget.RecyclerView$Recycler.getViewForPosition(SourceFile:4461) at ahc.a(SourceFile:1962) at android.support.v7.widget.LinearLayoutManager.a(SourceFile:1371) at android.support.v7.widget.LinearLayoutManager.a(SourceFile:1334) at android.support.v7.widget.LinearLayoutManager.onLayoutChildren(SourceFile:538) at android.support.v7.widget.RecyclerView.i(SourceFile:2847) at android.support.v7.widget.RecyclerView.onLayout(SourceFile:3145)  ANR LOG 2 (Main thread) DALVIK THREADS (34): "main" prio=5 tid=1 Native | group="main" sCount=1 dsCount=0 obj=0x891c6e00 self=0x7f928a6000 | sysTid=28252 nice=0 cgrp=default sched=0/0 handle=0x7f967f9e30 | state=R schedstat=( 0 0 0 ) utm=1435 stm=7021 core=7 HZ=100 | stack=0x7ff24a0000-0x7ff24a2000 stackSize=8MB | held mutexes= kernel: (couldn't read /proc/self/task/28252/stack) native: #00 pc 000cf200 /data/app/com.kakao.hello-1/lib/arm64/librealm-jni.so (AES_decrypt+764) native: #01 pc 000cfa90 /data/app/com.kakao.hello-1/lib/arm64/librealm-jni.so (CRYPTO_cbc128_decrypt+980) at io.realm.internal.TableQuery.nativeIsNull(Native method) at io.realm.internal.TableQuery.isNull(SourceFile:682) at io.realm.RealmQuery.isNull(SourceFile:186) at io.realm.RealmQuery.isNotNull(SourceFile:198) at com.kakao.hello.presenter.main.at.AtPresenterImpl.getMyBizPlaceList(SourceFile:195) at com.kakao.hello.ui.main.at.AtFragment.onCreateView(SourceFile:125) at android.support.v4.app.Fragment.a(SourceFile:1962) at fb.a(SourceFile:1026) at fb.a(SourceFile:1207) at android.support.v4.app.BackStackRecord.run(SourceFile:738) at fb.execPendingActions(SourceFile:1572) at fb.executePendingTransactions(SourceFile:545) at android.support.v4.app.FragmentPagerAdapter.finishUpdate(SourceFile:141) at android.support.v4.view.ViewPager.a(SourceFile:1106) at android.support.v4.view.ViewPager.c(SourceFile:952) at android.support.v4.view.ViewPager.onMeasure(SourceFile:1474),0
1554,15-10-09,Issue 1554 : Realm is null (SIGSEGV) after updating to 0.83.0 ， Issue #1554 ， realm/realm-java ， GitHub After removing a RealmObject using .removeFromRealm()  on the next(?) query of the Realm I'm getting a crash: java.lang.NullPointerException: Attempt to invoke virtual method 'io.realm.RealmQuery io.realm.Realm.where(java.lang.Class)' on a null object reference  This is also sometimes accompanied with the following message: Fatal signal 11 (SIGSEGV)  so it looks like there is a crash in Realm's internals after performing the delete  that causes the Realm to be nulled. I'm not doing anything especially fancy - just deleting the object. I do have a fair number of Realm change listeners going while this is happening  but I'm checking if objects are valid in those before using them. I'm using a single realm per activity  so at the point of the crash I'll have at most 2 open. Not certain if this is related to 0.83.0 - with the upgrade I am now using isValid() in more places as it now behaves as expected.,0
1561,15-10-09,Issue 1561 : Accessing RealmList after container deleting container object triggers native crash ， Issue #1561 ， realm/realm-java ， GitHub dogs.add(dog); in code below triggers native crash. Owner owner = testRealm.where(Owner.class).findFirst(); RealmList<Dog> dogs = owner.getDogs(); testRealm.beginTransaction(); {     owner.removeFromRealm(); } testRealm.commitTransaction();  testRealm.beginTransaction(); {     Dog dog = testRealm.createObject(Dog.class);     dog.setName("Dog");     dogs.add(dog); } testRealm.commitTransaction();,0
1581,15-10-12,Issue 1581 : Illegal Argument Exception encountered when compressing a Realm file created by version 0.83.0 ， Issue #1581 ， realm/realm-java ， GitHub Hi peeps  I am currently running into an IllegalArgumentException indicating that the format of the Realm file is invalid when I am trying to call Realm.compactRealm(realmConfiguration...) before I use the realm file. I have a sample project to demonstrate the crash here: https://github.com/creativepsyco/sample-realm-crash/ Essentially I am trying to compact the realm file before it is ever used in the app. Steps to reproduce: Clone the project from https://github.com/creativepsyco/sample-realm-crash/ Compile and run. It will not crash because realm version is 0.82.2 Now in build.gradle edit the version to 0.83.0 Compile and run the app. It crashes with the stack trace:  FATAL EXCEPTION: main  Process: mohitkanwal.com.examplerealm  PID: 28687  java.lang.RuntimeException: Unable to start activity ComponentInfo{mohitkanwal.com.examplerealm/mohitkanwal.com.examplerealm.MainActivity}:\ java.lang.IllegalArgumentException: Illegal Argument: Invalid format of Realm file.      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3119)      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3218)      at android.app.ActivityThread.access$1000(ActivityThread.java:198)      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1676)      at android.os.Handler.dispatchMessage(Handler.java:102)      at android.os.Looper.loop(Looper.java:145)      at android.app.ActivityThread.main(ActivityThread.java:6837)      at java.lang.reflect.Method.invoke(Native Method)      at java.lang.reflect.Method.invoke(Method.java:372)      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1404)      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1199)   Caused by: java.lang.IllegalArgumentException: Illegal Argument: Invalid format of Realm file.      at io.realm.internal.SharedGroup.createNativeWithImplicitTransactions(Native Method)      at io.realm.internal.SharedGroup.<init>(SharedGroup.java:68)      at io.realm.internal.SharedGroupManager.<init>(SharedGroupManager.java:49)      at io.realm.BaseRealm.<init>(BaseRealm.java:87)      at io.realm.Realm.<init>(Realm.java:151)      at io.realm.Realm.createAndValidate(Realm.java:279)      at io.realm.Realm.create(Realm.java:247)      at io.realm.Realm.getInstance(Realm.java:219)      at mohitkanwal.com.examplerealm.ContactHelper.getMeARealmFile(ContactHelper.java:53)      at mohitkanwal.com.examplerealm.ContactHelper.getAllContacts(ContactHelper.java:64)      at mohitkanwal.com.examplerealm.MainActivity.onCreate(MainActivity.java:25)      at android.app.Activity.performCreate(Activity.java:6500)      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1120)      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3072)      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3218)?  Is the SharedGroupManager.compact() implementation compatible with the new format of the Realm File? Right now it seems to be unusable with any Realm created by v0.83 or v0.82.2 Regards Mohit,0
1599,15-10-15,Issue 1599 : io.realm.internal.Table.finalize() timed out after 10 seconds ， Issue #1599 ， realm/realm-java ， GitHub Issur for Kakao Hello io.realm.internal.Table.finalize() timed out after 10 seconds Number 1 frequent issue on crash report No route to reproduce Galaxy S6  Galaxy S6 Edge  Galaxy S6 Edge+ OS version 5.1.1 reported by @jungilhan java.util.concurrent.TimeoutException: io.realm.internal.Table.finalize() timed out after 10 seconds     at io.realm.internal.Table.finalize(SourceFile:121)     at java.lang.Daemons$FinalizerDaemon.doFinalize(Daemons.java:206)     at java.lang.Daemons$FinalizerDaemon.run(Daemons.java:189)     at java.lang.Thread.run(Thread.java:818),0
1601,15-10-15,Issue 1601 : RealmQuery.isEmpty() ， Issue #1601 ， realm/realm-java ， GitHub After introducing Null support  we redefined the semantics of isNull. This unfortunately meant removing the option of doing isNull("list") to check for 0 items. This means that people no longer can check for the empty list. A proposed fix for this is adding isEmpty() which also has uses for other datatypes. realm.where(Foo.class).isEmpty("list").findAll(); // Find all lists with 0 items realm.where(Foo.class).isEmpty("str").findAll(); // Find all empty but non-null strings "" realm.where(Foo.class).isEmpty("byteArray").findAll(); // Find all non-null  0-length blobs realm.where(Foo.class).isEmpty("integer").findAll(); // Throw IllegalArgumentException,0
1604,15-10-16,Issue 1604 : Crash: Unrecoverable error. basic_string::_S_create in io_realm_internal_table.cpp line 1433 ， Issue #1604 ， realm/realm-java ， GitHub Getting a few crash reports of the following. io.realm.exceptions.RealmError: Unrecoverable error. basic_string::_S_create in io_realm_internal_table.cpp line 1433 at io.realm.internal.Table.nativeGetName(Table.java) at io.realm.internal.Table.getName(Table.java:1470) at io.realm.internal.Table.getPrimaryKey(Table.java:627) at io.realm.internal.Table.hasPrimaryKey(Table.java:653) at io.realm.Realm.checkHasPrimaryKey(Realm.java:1009) at io.realm.Realm.copyToRealmOrUpdate(Realm.java:760) Using snapshot realm-android-0.83.1-20151012.100616-17 No encryption Using only Armv7a librealm-jni.so Realm Table/Object def     @PrimaryKey     private long a;      @Index     private int b;      @Index     private int c;      @Required     private String d;      @Index     private int e; Due to the very low crash rate of this bug  not possible to reproduce on our devices.,0
1608,15-10-17,Issue 1608 : NPE at BaseRealm.java:591 ， Issue #1608 ， realm/realm-java ， GitHub Today I upgraded our app to Realm 0.83.1 from my previous patched build of 0.83.0 Unfortunately I've seen the "Cannot send message to Handler on a dead thread" error @cmelchior and I were battling a couple of weeks ago  although I don't have much data to help track that down yet. Also  there's a new NPE bug in BaseRealm.java which should be reasonably easy to figure out - here's the stack trace: java.lang.NullPointerException: Attempt to invoke virtual method 'void io.realm.internal.SharedGroupManager.advanceRead()' on a null object reference at io.realm.BaseRealm$RealmCallback.handleMessage(BaseRealm.java:591) at android.os.Handler.dispatchMessage(Handler.java:98) at android.os.Looper.loop(Looper.java:135) at android.app.ActivityThread.main(ActivityThread.java:5430) at java.lang.reflect.Method.invoke(Native Method) at java.lang.reflect.Method.invoke(Method.java:372) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:913) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:706)  I'm happy to help debug this with a custom build of realm-java with additional debug code next week  so let me know if there's anything in particular I should do to help. Obviously trying to narrow it down to a simple test case would be ideal but I won't be able to spend significant time doing anything like that until later next week. Cheers  Andrew,0
1610,15-10-18,Issue 1610 : Field 'xxx': type mismatch. Was INTEGER  expected STRING ， Issue #1610 ， realm/realm-java ， GitHub Related to #1319 We are still seeing this issue with 10-12 snapshot. java.lang.IllegalArgumentException: Field 'status': type mismatch. Was INTEGER  expected STRING.        at io.realm.RealmQuery.getColumnIndices(RealmQuery.java:167)        at io.realm.RealmQuery.equalTo(RealmQuery.java:305)  Crashed point with query realm.where(MyRealm.class).equalTo("status"  new Integer(1)).findAll()  The column in question  'status' is an "int".     @PrimaryKey     private long a;      @Index     private int b;      @Index     private int c;      @Required     private String d;      @Index     private int status;  Can a db corruption cause column def corruption? If so  it may be time to move db def to a separate file to ensure such things cannot happen.,0
1611,15-10-18,Issue 1611 : setter/getter of Proxy class uses wrong field index if field index differs in multiple Realms ， Issue #1611 ， realm/realm-java ， GitHub No description provided.,1
1628,15-10-21,Issue 1628 : Fatal signal 11 (SIGSEGV) after upgrading to 0.83.1 ， Issue #1628 ， realm/realm-java ， GitHub Hi team  I upgraded from 0.82.2 to 0.83.1  and bumped the scheme version number in Application.onCreate() where I set the default Realm config:         RealmConfiguration config = new RealmConfiguration.Builder(this)                 .deleteRealmIfMigrationNeeded()                 .schemaVersion(RealmConfig.REALM_SCHEME_VERSION)                 .build();         Realm.setDefaultConfiguration(config); Now I get this native exception each time I start the app on one of our testing devices (Nexus 5). I deployed the new version on top of the old one which had an old Realm file created by 0.82.0. I don't get the crash after I deploy a new apk on other devices  which also have an old Realm file. Apparently  it has something to do with a certain DB state. 10-20 14:01:08.824 197-197/? I/SELinux: SELinux: Loaded file_contexts contexts from /file_contexts. 10-20 14:01:08.826 197-197/? A/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 10-20 14:01:08.826 197-197/? A/DEBUG: Build fingerprint: 'google/hammerhead/hammerhead:6.0/MPA44I/2172151:user/release-keys' 10-20 14:01:08.826 197-197/? A/DEBUG: Revision: '0' 10-20 14:01:08.826 197-197/? A/DEBUG: ABI: 'arm' 10-20 14:01:08.826 197-197/? A/DEBUG: pid: 24013  tid: 24013  name: .witdot.twinkie  >>> com.witdot.twinkie <<< 10-20 14:01:08.826 197-197/? A/DEBUG: signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x0 10-20 14:01:08.840 197-197/? A/DEBUG:     r0 00000000  r1 00000028  r2 98852730  r3 9fdee6ed 10-20 14:01:08.840 197-197/? A/DEBUG:     r4 988534b0  r5 00000028  r6 00000029  r7 00000001 10-20 14:01:08.840 197-197/? A/DEBUG:     r8 00000002  r9 00000000  sl 0000002b  fp beebff48 10-20 14:01:08.840 197-197/? A/DEBUG:     ip b4d02018  sp beebfed0  lr b6ca61eb  pc 9fe01520  cpsr 800f0030 10-20 14:01:08.863 197-197/? A/DEBUG:     #00 pc 0004b520  /data/app/com.witdot.twinkie-2/lib/arm/librealm-jni.so 10-20 14:01:08.863 197-197/? A/DEBUG:     #01 pc 0005086f  /data/app/com.witdot.twinkie-2/lib/arm/librealm-jni.so 10-20 14:01:08.863 197-197/? A/DEBUG:     #02 pc 0007fb7b  /data/app/com.witdot.twinkie-2/lib/arm/librealm-jni.so 10-20 14:01:08.864 197-197/? A/DEBUG:     #03 pc 0007fc8d  /data/app/com.witdot.twinkie-2/lib/arm/librealm-jni.so 10-20 14:01:08.864 197-197/? A/DEBUG:     #04 pc 0009b947  /data/app/com.witdot.twinkie-2/lib/arm/librealm-jni.so (Java_io_realm_internal_TableQuery_nativeFindAll+142) 10-20 14:01:08.864 197-197/? A/DEBUG:     #05 pc 00a0a63b  /data/app/com.witdot.twinkie-2/oat/arm/base.odex (long io.realm.internal.TableQuery.nativeFindAll(long  long  long  long)+142) 10-20 14:01:08.864 197-197/? A/DEBUG:     #06 pc 00a06dc9  /data/app/com.witdot.twinkie-2/oat/arm/base.odex (io.realm.internal.TableView io.realm.internal.TableQuery.findAll()+236) 10-20 14:01:08.864 197-197/? A/DEBUG:     #07 pc 009f6b9b  /data/app/com.witdot.twinkie-2/oat/arm/base.odex (io.realm.RealmResults io.realm.RealmQuery.findAllSorted(java.lang.String  boolean)+62) 10-20 14:01:08.864 197-197/? A/DEBUG:     #08 pc 00cb4f53  /data/app/com.witdot.twinkie-2/oat/arm/base.odex (com.witdot.chocodile.realm.PinRealm com.witdot.chocodile.realm.Pins$RealmQueries.findNextUnreadPin(io.realm.Realm  com.witdot.chocodile.realm.Pins$Badge  boolean  boolean)+854) 10-20 14:01:08.864 197-197/? A/DEBUG:     #09 pc 00cb4bc7  /data/app/com.witdot.twinkie-2/oat/arm/base.odex (com.witdot.chocodile.realm.PinRealm com.witdot.chocodile.realm.Pins$RealmQueries.findNextUnreadPin(io.realm.Realm  com.witdot.chocodile.realm.Pins$Badge)+82) 10-20 14:01:08.864 197-197/? A/DEBUG:     #10 pc 00caffed  /data/app/com.witdot.twinkie-2/oat/arm/base.odex (boolean com.witdot.chocodile.realm.Pins$RealmQueries.checkNextPinHasVideo(io.realm.Realm  com.witdot.chocodile.realm.Pins$Badge)+56) 10-20 14:01:08.864 197-197/? A/DEBUG:     #11 pc 00d3c6ab  /data/app/com.witdot.twinkie-2/oat/arm/base.odex (void com.witdot.chocodile.ui.view.CountersContainer$Counter.refreshViews()+126) 10-20 14:01:08.864 197-197/? A/DEBUG:     #12 pc 00d3cc71  /data/app/com.witdot.twinkie-2/oat/arm/base.odex (void com.witdot.chocodile.ui.view.CountersContainer$Counter.onChange()+60) 10-20 14:01:08.864 197-197/? A/DEBUG:     #13 pc 009d9fed  /data/app/com.witdot.twinkie-2/oat/arm/base.odex (void io.realm.BaseRealm.sendNotifications()+456) 10-20 14:01:08.864 197-197/? A/DEBUG:     #14 pc 009d8899  /data/app/com.witdot.twinkie-2/oat/arm/base.odex (void io.realm.BaseRealm.access$100(io.realm.BaseRealm)+60) 10-20 14:01:08.864 197-197/? A/DEBUG:     #15 pc 009cb785  /data/app/com.witdot.twinkie-2/oat/arm/base.odex (boolean io.realm.BaseRealm$RealmCallback.handleMessage(android.os.Message)+184) 10-20 14:01:08.864 197-197/? A/DEBUG:     #16 pc 720e5d4d  /data/dalvik-cache/arm/system@framework@boot.oat,0
1634,15-10-21,Issue 1634 : Cannot load `.so` file ， Issue #1634 ， realm/realm-java ， GitHub We have seen a number of issues regarding failure to load the .so file. This issue collects those separate issues reported: Connects to #1527 Connects to #1534 Connects to #1421 (solved) Connects to #1640 (ARM64 bug in AOSP) TODO: Document workaround for ARM64 bug in AOSP (#1640) Document workaround for Google Analytics (#1421) Understand the root cause of #1527 (update to latest Gradle plugin) Understand the root cause of #1534,0
1644,15-10-23,Issue 1644 : Add @SuppressWarnings("cast") to generated getters ， Issue #1644 ， realm/realm-java ， GitHub I'm currently working on a project which used the following in the project wide build.gradle: allprojects {     gradle.projectsEvaluated {         tasks.withType(JavaCompile) {             options.compilerArgs << '-Xlint:all'             options.compilerArgs << '-Werror'         }     } }  This caused errors when compiling the generated generated proxy classes. After a little research I believe adding the @SuppressWarnings('cast') annotation for the getters and setters ( realm-java/realm-annotations-processor/src/main/java/io/realm/processor/RealmProxyClassGenerator.java Line 217 in f7147ee writer.emitAnnotation("Override"); and realm-java/realm-annotations-processor/src/main/java/io/realm/processor/RealmProxyClassGenerator.java Line 243 in f7147ee writer.emitAnnotation("Override"); ) would eliminate almost all of the linting errors.,0
1646,15-10-23,Issue 1646 : NPE: ColumnIndices.getColumnInfo(java.lang.Class) after upgrading to 0.84.0 ， Issue #1646 ， realm/realm-java ， GitHub Hi team  After upgrading from 0.82.2 to 0.84.0 got this exception during the first app start: java.lang.NullPointerException: Attempt to invoke virtual method 'io.realm.internal.ColumnInfo io.realm.internal.ColumnIndices.getColumnInfo(java.lang.Class)' on a null object reference  Didn't happen during the next starts. Same happened when I deployed the app on another device with the same 0.82.2 realm version. Here is the piece of code which triggered the crash on the first device (called on the worker thread): realm.where(PinRealm.class)                     .equalTo("token"  pinToken)                     .findFirst(); And here is the piece of code which triggered the crash on another device (called on the main thread): realm.where(PinRealm.class)                     .equalTo("deleted"  false)                     .equalTo("inboxState"  NEW.ordinal())                     .findAll();,0
1676,15-10-27,Issue 1676 : Change listener not being triggered on realm updates ， Issue #1676 ， realm/realm-java ， GitHub According to the documentation: "If you want to be notified when the query completes and the RealmResults is updated  you can register a RealmChangeListener. This listener will be called every time the RealmResults is updated to reflect the latest changes in the Realm (usually after a commit)" I add a change listener to either a RealmObject or RealmResult  but that only gets triggered once (after the data is loaded). The documentation states that this listener should also be triggered when the real result is updated. That does not seem to be the case. Is the documentation incorrect or do I need to do something special besides commiting a transaction so that the listener gets triggered?,0
1703,15-10-30,Issue 1703 : realm file incompatible if model has PrimaryKey ， Issue #1703 ， realm/realm-java ， GitHub from slack. Realm Swift reports an error when opening the realm file generated on Android. model definition in Java: public class DataItem extends RealmObject {     @PrimaryKey     private int id;      // seter and getter here }  model definition in Swift: class DataItem: Object {     dynamic var id = 0      override static func primaryKey() -> String? {         return "id"     } }  reported error: fatal error: 'try!' expression unexpectedly raised an error: Error Domain=io.realm Code=0 "Migration is required for object type 'DataItem' due to the following errors: - Property 'id' has been made a primary key." UserInfo={NSLocalizedDescription=Migration is required for object type 'DataItem' due to the following errors: - Property 'id' has been made a primary key.}: file /Library/Caches/com.apple.xbs/Sources/swiftlang_PONDEROSA/swiftlang_PONDEROSA-700.1.101.6/src/swift/stdlib/public/core/ErrorType.swift  line 50,0
1711,15-11-02,Issue 1711 : Task clean cannot be run if realm-java is already clean. ， Issue #1711 ， realm/realm-java ， GitHub ?  realm-java git:(master) ? ./gradlew clean [buildinfo] Not using buildInfo properties file for this build. :cleanExamples :examples:adapterExample:clean :examples:encryptionExample:clean :examples:gridViewExample:clean :examples:introExample:clean :examples:jsonExample:clean :examples:kotlinExample:clean :examples:migrationExample:clean :examples:threadExample:clean :examples:moduleExample:app:clean :examples:moduleExample:library:clean :cleanGradlePlugin :gradle-plugin:clean :cleanLocalMavenRepos :cleanRealm :realm:realm-annotations:clean :realm:realm-annotations-processor:clean :realm:realm-jni:clean rm -f *.d *.o *.gcno *.gcda librealm-jni-arm.a librealm-jni-arm-dbg.a librealm-jni-arm-cov.a librealm-jni-arm.so librealm-jni-arm-dbg.so librealm-jni-arm-cov.so librealm-jni.libdeps rm -f *.d *.o *.gcno *.gcda librealm-jni-arm-v7a.a librealm-jni-arm-v7a-dbg.a librealm-jni-arm-v7a-cov.a librealm-jni-arm-v7a.so librealm-jni-arm-v7a-dbg.so librealm-jni-arm-v7a-cov.so librealm-jni.libdeps rm -f *.d *.o *.gcno *.gcda librealm-jni-arm64.a librealm-jni-arm64-dbg.a librealm-jni-arm64-cov.a librealm-jni-arm64.so librealm-jni-arm64-dbg.so librealm-jni-arm64-cov.so librealm-jni.libdeps rm -f *.d *.o *.gcno *.gcda librealm-jni-mips.a librealm-jni-mips-dbg.a librealm-jni-mips-cov.a librealm-jni-mips.so librealm-jni-mips-dbg.so librealm-jni-mips-cov.so librealm-jni.libdeps rm -f *.d *.o *.gcno *.gcda librealm-jni-x86.a librealm-jni-x86-dbg.a librealm-jni-x86-cov.a librealm-jni-x86.so librealm-jni-x86-dbg.so librealm-jni-x86-cov.so librealm-jni.libdeps rm -f *.d *.o *.gcno *.gcda librealm-jni-x86_64.a librealm-jni-x86_64-dbg.a librealm-jni-x86_64-cov.a librealm-jni-x86_64.so librealm-jni-x86_64-dbg.so librealm-jni-x86_64-cov.so librealm-jni.libdeps :realm:realm-library:clean :clean  BUILD SUCCESSFUL  Total time: 12.667 secs  This build could be faster  please consider using the Gradle Daemon: https://docs.gradle.org/2.7/userguide/gradle_daemon.html ?  realm-java git:(master) ? ./gradlew clean [buildinfo] Not using buildInfo properties file for this build. :cleanExamples FAILED  FAILURE: Build failed with an exception.  * What went wrong: A problem occurred configuring project ':adapterExample'. > Could not resolve all dependencies for configuration ':adapterExample:classpath'.    > Could not find io.realm:gradle-plugin:0.84.2-SNAPSHOT.      Searched in the following locations:          file:/Users/dalinaum/Library/Android/sdk/extras/android/m2repository/io/realm/gradle-plugin/0.84.2-SNAPSHOT/maven-metadata.xml          file:/Users/dalinaum/Library/Android/sdk/extras/android/m2repository/io/realm/gradle-plugin/0.84.2-SNAPSHOT/gradle-plugin-0.84.2-SNAPSHOT.pom          file:/Users/dalinaum/Library/Android/sdk/extras/android/m2repository/io/realm/gradle-plugin/0.84.2-SNAPSHOT/gradle-plugin-0.84.2-SNAPSHOT.jar          https://jcenter.bintray.com/io/realm/gradle-plugin/0.84.2-SNAPSHOT/maven-metadata.xml          https://jcenter.bintray.com/io/realm/gradle-plugin/0.84.2-SNAPSHOT/gradle-plugin-0.84.2-SNAPSHOT.pom          https://jcenter.bintray.com/io/realm/gradle-plugin/0.84.2-SNAPSHOT/gradle-plugin-0.84.2-SNAPSHOT.jar      Required by:          io.realm:adapterExample:0.84.2-SNAPSHOT  * Try: Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.  BUILD FAILED  Total time: 9.917 secs  Even example projects require io/realm/gradle-plugin/0.84.2-SNAPSHOT. So if realm-java is already clean  task clean cannot be run anymore.,0
1717,15-11-03,Issue 1717 : Async queries don't update when using link ， Issue #1717 ， realm/realm-java ， GitHub as mentioned here updating an async query containing a link will not bring latest result. UT to reproduce public void testQueryingLink () throws Throwable {         final CountDownLatch signalCallbackFinished = new CountDownLatch(1);         final CountDownLatch signalClosedRealm = new CountDownLatch(1);         final AtomicInteger numberOfInvocations = new AtomicInteger(0);         final Realm[] realm = new Realm[1];         final Throwable[] threadAssertionError = new Throwable[1];         final Looper[] backgroundLooper = new Looper[1];         ExecutorService executorService = Executors.newSingleThreadExecutor();         executorService.submit(new Runnable() {             @Override             public void run() {                 Looper.prepare();                 backgroundLooper[0] = Looper.myLooper();                  try {                     realm[0] = openRealmInstance("testQueryingLink");                       final RealmResults<Dog> allAsync = realm[0].where(Dog.class).equalTo("owner.name"  "kiba").findAllAsync();                     allAsync.addChangeListener(new RealmChangeListener() {                         @Override                         public void onChange() {                             switch (numberOfInvocations.incrementAndGet()) {                                 case 1: {                                     assertEquals(0  allAsync.size());                                     assertTrue(allAsync.isLoaded());                                     assertTrue(allAsync.isValid());                                     assertTrue(allAsync.isEmpty());                                     final CountDownLatch wait = new CountDownLatch(1);                                     final RealmConfiguration configuration = realm[0].getConfiguration();                                     new AsyncTask() {                                         @Override                                         protected Object doInBackground(Object[] objects) {                                             Realm instance = Realm.getInstance(configuration);                                             instance.beginTransaction();                                             Dog dog = instance.createObject(Dog.class);                                             dog.setAge(10);                                             dog.setName("Akamaru");                                             Owner kiba = instance.createObject(Owner.class);                                             kiba.setName("kiba");                                             dog.setOwner(kiba);                                             instance.commitTransaction();                                             wait.countDown();                                             return null;                                         }                                     }.execute();                                      try {                                         wait.await();                                     } catch (InterruptedException e) {                                         e.printStackTrace();                                     }                                     break;                                 }                                 case 2: {                                     assertEquals(1  realm[0].allObjects(Dog.class).size());                                     assertEquals(1  realm[0].allObjects(Owner.class).size());                                     assertEquals(1  allAsync.size());                                     assertTrue(allAsync.isLoaded());                                     assertTrue(allAsync.isValid());                                     assertTrue(allAsync.isEmpty());                                     signalCallbackFinished.countDown();                                     break;                                 }                                 default:                                     throw new IllegalStateException("invalid number of invocation");                             }                         }                     });                      Looper.loop();                  } catch (Throwable e) {                     e.printStackTrace();                     threadAssertionError[0] = e;                  } finally {                     if (signalCallbackFinished.getCount() > 0) {                         signalCallbackFinished.countDown();                     }                     if (realm.length > 0 && realm[0] != null) {                         realm[0].close();                     }                     signalClosedRealm.countDown();                 }             }         });          exitOrThrow(executorService  signalCallbackFinished  signalClosedRealm  backgroundLooper  threadAssertionError);     },0
1728,15-11-05,Issue 1728 : Trying to catch a dead lock ， Issue #1728 ， realm/realm-java ， GitHub Hi there  I'm trying to locate a dead-lock which is happening somewhere inside Realm. By logging I found that I get an infinite ANR in onCreate() of the MainActivity on the line Realm.getDefaultInstance(). Another place where it hangs is a worker thread on the line Realm.close(). Here is how the worker thread body looks like (without the domain details): Realm realm = null; try {     realm = Realm.getDefaultInstance();     RealmResults<A> results = realm.where(A.class).findAll();     realm.beginTransaction();     for (int i = results.size() - 1; i >= 0; i--) {         final A item = results.get(i);         String value = item.getSomeStringValue();         callSomeMethod(value); // this method throws an exception not related to realm when i == 1     }     realm.commitTransaction(); } finally {     if (realm != null) {         realm.close(); // hangs on this line based on the logs     } } I was able to narrow down where exactly Realm.close() hangs. It is the line synchronized (BaseRealm.class): protected void lastLocalInstanceClosed() {         // validatedRealmFiles must not modified while other thread is executing createAndValidate()         synchronized (BaseRealm.class) {             validatedRealmFiles.remove(configuration.getPath());         }         realmsCache.get().remove(configuration);     } } Here is the sequence of actions accordingly to logs: Application.onCreate() called and starts the worker thread Worker thread is going through the items MainActivity.onCreate() called and it hangs on Realm.getDefaultInstance() Exception thrown in the worker thread  and it hangs on realm.close() Infinite ANR in MainActivity It's very hard to locate the problem because it's not 100% reproducible and time-dependent. If I remove transaction  or there is no exception then the dead-lock doesn't happen (could be just due to timing). Also  I have another running worker thread in background which uses realm. But it successfully finishes and doesn't hang on realm.close(). I tried to reproduce it in a small project  but it didn't work out. I hope this description could lead you to some ideas what could go wrong  or what I can check to locate the exact problem.,0
1766,15-11-13,Issue 1766 : Align @PrimaryKey nullability with Cocoa ， Issue #1766 ， realm/realm-java ， GitHub Right now Realm Java disallow null as primary key values. Cocoa allow this. They need to agree on this behaviour otherwise. Also the Javadoc for @PRIMARYKEY should be updated to reflect any decision being made.,0
1773,15-11-14,Issue 1773 : lessThan with negative id's not working as expected ， Issue #1773 ， realm/realm-java ， GitHub I am working with RealmObjects where i use negative id's (as long as they are not synced to the server). So  when i synchronize with the server  i can get all negative id's  synchronize those objects and when synchronized  update the id. But  when i perform a lessThan query on a RealmResult  there are less objects returned than expected. When i use between (with f.e. values -10000  0)  it is working and i am getting all the objects returned that i expect. So it looks like the behaviour of lessThan with negative number is not working the way i would expect it to be  Is this a bug or is there a good explanation for this? I created a small android studio project  with a TestApplication where this test is setup  which fails (only 2 of the 10 objects are retreived). Project is on github: https://github.com/Sein-IT/RealmLessThan. I am testing with a Samsung Galaxy S6  Android version 5.1.1,0
1775,15-11-14,Issue 1775 : Primary key not defined for field '_id' in existing Realm file. Add @PrimaryKey. ， Issue #1775 ， realm/realm-java ， GitHub This is my RealmConfiguration stableCongifuration = new RealmConfiguration.Builder(context).deleteRealmIfMigrationNeeded().name("stable.realm").build(); when id call Realm.getInstance(stableCongifuration); I got this exception: 11-14 06:27:18.829 24386-24386/? E/AndroidRuntime: Caused by: io.realm.exceptions.RealmMigrationNeededException: Primary key not defined for field '_id' in existing Realm file. Add @PRIMARYKEY. 11-14 06:27:18.829 24386-24386/? E/AndroidRuntime: at io.realm.JokeRealmProxy.validateTable(JokeRealmProxy.java:443) 11-14 06:27:18.829 24386-24386/? E/AndroidRuntime: at io.realm.DefaultRealmModuleMediator.validateTable(DefaultRealmModuleMediator.java:78) 11-14 06:27:18.829 24386-24386/? E/AndroidRuntime: at io.realm.Realm.initializeRealm(Realm.java:342) 11-14 06:27:18.829 24386-24386/? E/AndroidRuntime: at io.realm.Realm.createAndValidate(Realm.java:310) 11-14 06:27:18.829 24386-24386/? E/AndroidRuntime: at io.realm.Realm.create(Realm.java:253) 11-14 06:27:18.829 24386-24386/? E/AndroidRuntime: at io.realm.Realm.getInstance(Realm.java:217) 11-14 06:27:18.829 24386-24386/? E/AndroidRuntime: at com.qiuduanribao.joke.utils.RealmUtils.getStableRealm(RealmUtils.java:32) and the "_id" field have add @PRIMARYKEY public class User extends RealmObject {     @PrimaryKey     private Long _id;     private RealmList<Auth> auths;     private String token;     private String name;     private boolean isMan;     private String avatar; }  Why ? How can i fix this ?,1
1777,15-11-15,Issue 1777 : createOrUpdateObjectFromJson bugs with default value for primary key ， Issue #1777 ， realm/realm-java ， GitHub example code: JSONObject object = new JSONObject("{\"id\":1 \"bar1\":{\"id\":0 \"value\":3} \"bar2\":{\"id\":1 \"value\":2}}");         realm.beginTransaction();         realm.createOrUpdateObjectFromJson(Foo.class  object);         realm.commitTransaction(); //class Foo public class Foo extends RealmObject {     @PrimaryKey     private long id;      private Bar bar1;     private Bar bar2;      public long getId() {         return id;     }      public void setId(long id) {         this.id = id;     }      public Bar getBar1() {         return bar1;     }      public void setBar1(Bar bar1) {         this.bar1 = bar1;     }      public Bar getBar2() {         return bar2;     }      public void setBar2(Bar bar2) {         this.bar2 = bar2;     }  } //class Bar public class Bar extends RealmObject {     @PrimaryKey     private int id;     private int value;      public int getValue() {         return value;     }      public void setValue(int value) {         this.value = value;     }      public int getId() {         return id;     }      public void setId(int id) {         this.id = id;     } } The problem is that when it begins to create bar2  it finds that no bar with id=2 exists  so it will create a default bar  but that will conflict with bar1  since bar1 has id 0 and default bar has id 0 too.,0
1795,15-11-18,Issue 1795 : Crash with signal 11 (SIGSEGV) ， Issue #1795 ， realm/realm-java ， GitHub Hi Realm team! We're using Realm 0.84.1  it works very well for us. But we've got some complaints from user about app crash on realm. Below exception is most frequently occurred one (collected from GooglePlayDeveloper Console) The 99.8% of this exception came from Android 4.4 device and one forth came from LG G3. (FYI. We do not encrypt the Realm.) *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** Build fingerprint: 'samsung/ks01lteskt/ks01lteskt:4.4.2/KOT49H/E330SKSUCNJ1:user/release-keys' Revision: '13' pid: 14636  tid: 14756  name: db_thead  >>> kr.co.vcnc.android.couple <<< signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr fffffffc     r0 7b7395e0  r1 ffffffff  r2 7b7395e0  r3 00000000     r4 7b7395e0  r5 7caf9708  r6 73a03f80  r7 ffffffff     r8 7b739148  r9 00020590  sl 7c91cad8  fp 798fe960     ip 00000001  sp 7c91be98  lr 7ca6f31d  pc 7ca72c6e  cpsr 60070030     d0  0000000000000000  d1  0000000000000000     d2  0000000000000000  d3  0000000000000000     d4  0037003a00220066  d5  007d0030002e0034     d6  006500770022002c  d7  0065006800740061     d8  0000000000000000  d9  0000000000000000     d10 0000000000000000  d11 0000000000000000     d12 0000000000000000  d13 0000000000000000     d14 0000000000000000  d15 0000000000000000     d16 6d9dc0b86d9dc080  d17 6d9dc1286d9dc0f0     d18 6d9dc1986d9dc160  d19 6d9dc2086d9dc1d0     d20 6d9dc2786d9dc240  d21 6de4c5806d9dc2b0     d22 6de4c3486de4c5b8  d23 6de4c3b86de4c380     d24 4008000000000000  d25 3ff0000000000000     d26 3c4baf4e740749c8  d27 3fa7b80000000000     d28 bf5224a5191957e0  d29 3f6293aba995d593     d30 be63c064abe8bbf2  d31 3f11562ac78a4541     scr 60000012  backtrace:     #00  pc 00057c6e  /data/app-lib/kr.co.vcnc.android.couple-2/librealm-jni.so     #01  pc 00054319  /data/app-lib/kr.co.vcnc.android.couple-2/librealm-jni.so  code around pc:     7ca72c4c 46022300 f0324630 e7eefef5 6089f504       7ca72c5c f7f74629 4620fc4f f7ff2100 f8d4fc8f       7ca72c6c f8533448 e8bd0027 e92d87f0 b0954ff0       7ca72c7c 46064691 451ee9dd f7ff468b 4649ffbf       7ca72c8c 4622462b f9baf01e f8d36af3 f1b88008       7ca72c9c d03a0f00 0a04f108 af0a4631 f7f34650       7ca72cac f8d6f9d9 e9cde000 ae04450c e028f8cd       7ca72cbc f8cdcf0f c60fb028 0003e897 0003e886       7ca72ccc 4506e9cd f8cdad02 ac0c9008 c40fcd0f       7ca72cdc 000fe895 000fe884 46502129 fba9f007       7ca72cec 1c43a914 3d4cf841 7003230f 9102980a       7ca72cfc fda7f7f3 9902980c fda3f7f3 a902a80e       7ca72d0c fda8f7f3 f8c89b01 b0153008 8ff0e8bd       7ca72d1c 43f7e92d 460f4604 46162101 f7ef4698       7ca72d2c 4639fafb f7ff4620 f8d8ff69 46312000       7ca72d3c f7e617d3 6ae3f967 b1f5689d 0904f105    code around lr:     7ca6f2fc f7f341f0 e92db811 461741f3 4680461c       7ca6f30c fc7cf003 ac014621 46384606 fc76f003       7ca6f31c 46054639 f0194620 4621fdbf 0010f106       7ca6f32c fa1df024 f0224620 4620fff4 61754641       7ca6f33c fdb2f019 f1054621 f0240014 4620fa10       7ca6f34c ffe7f022 b00261ae 81f0e8bd 4615b5f0       7ca6f35c e000f8d0 6846460f cd0fb087 c40f466c       7ca6f36c e8954632 466b0003 0003e884 46394670       7ca6f37c f976f7fd bdf0b007 41f0e92d 8b02ed2d       7ca6f38c 8b40eeb0 4604b084 2101460f f7f24616       7ca6f39c 4639ffc3 f0034620 4631fc31 0b48eeb0       7ca6f3ac fd12f029 689d6ae3 f105b315 46210804       7ca6f3bc 4640ac04 fe4ef7f6 4640211f f839f00b       7ca6f3cc f8441c43 23083d0c 70034621 f7f74638       7ca6f3dc 4630fa38 f7f74621 ab04fa34 ed239a01       7ca6f3ec cb038b02 f8423208 f8420c08 60aa1c04,0
1797,15-11-19,Issue 1797 : RealmConfiguration.getSchemaMediator is public  ， Issue #1797 ， realm/realm-java ， GitHub It seems we by mistake left RealmConfiguration.getSchemaMediator public. We should revert that to package private. That said  there might still be use-cases where people want to know the classes part of the RealmConfiguration  so we should expose something like // Not sure what is best? RealmConfiguration.getClasses() RealmConfiguration.getSchemaClasses() RealmConfiguration.getRealmClasses()  One example of use case here: #1796,0
1803,15-11-20,Issue 1803 : average returns wrong value for nullable field ， Issue #1803 ， realm/realm-java ， GitHub Reported by @dev75py on twitter. https://twitter.com/dev75py/status/667469537986527232 On 0.85.0  RealmQuery.average() returns wrong value for nullable field.     public void testAverage() {         final NullTypes obj1 = new NullTypes();         obj1.setId(1);         obj1.setFieldIntegerNotNull(3);         obj1.setFieldIntegerNull(3);          final NullTypes obj2 = new NullTypes();         obj2.setId(2);         obj2.setFieldIntegerNotNull(4);         obj2.setFieldIntegerNull(4);          testRealm.beginTransaction();         testRealm.where(NullTypes.class).findAll().clear();         testRealm.copyToRealm(obj1);         testRealm.copyToRealm(obj2);         testRealm.commitTransaction();          assertEquals(3.5  testRealm.where(NullTypes.class).average(NullTypes.FIELD_INTEGER_NOT_NULL));         assertEquals(3.5  testRealm.where(NullTypes.class).average(NullTypes.FIELD_INTEGER_NULL));     }  The last assertion fails with actual value 9.0.,0
1811,15-11-23,Issue 1811 : UTF16 cpp read from realm  crash ， Issue #1811 ， realm/realm-java ， GitHub Fatal Exception: io.realm.exceptions.RealmError: Unrecoverable error. Failure when converting long string to UTF-16 error_code The actual string value and crash info is sent to help@realm.io. Expectation: If set/save string to realm is valid  then retrieve should be valid in reverse direction. Maybe related to #1756,0
1822,15-11-25,Issue 1822 : realm-0.85.1.jar is missing ， Issue #1822 ， realm/realm-java ， GitHub Jar file for eclipse installation is missing from 0.85.1 release. https://static.realm.io/downloads/java/realm-java-0.85.1.zip,0
1829,15-11-25,Issue 1829 : Re-enable migration unit test ， Issue #1829 ， realm/realm-java ， GitHub Re-enable this unit test once realm/realm-core#1267 has been resolved. https://github.com/realm/realm-java/pull/1496/files#diff-a1183a67c2d3874da2a022a68ada7088R136,0
1851,15-11-28,Issue 1851 : Native crash in TableQuery.cpp line 1543 ， Issue #1851 ， realm/realm-java ， GitHub im currently using latest snapshot version. i also used latest release version but same error. D/REALM? REALM_CHANGED realm:io.realm.HandlerController@41f9e5a0 no async queries  advance_read D/REALM? REALM_CHANGED realm:io.realm.HandlerController@41bc2690 updating async queries  total: 3 D/REALM? REALM_UPDATE_ASYNC_QUERIES realm:io.realm.HandlerController@41bc2690 caller is behind  advance_read D/REALM? REALM_UPDATE_ASYNC_QUERIES realm:io.realm.HandlerController@41bc2690 updating RealmResults java.lang.ref.WeakReference@41bc9e88 D/REALM? jni: ThrowingException 11  std::exception in io_realm_internal_TableQuery.cpp line 1543  . D/REALM? Exception has been throw: Unrecoverable error. std::exception in io_realm_internal_TableQuery.cpp line 1543 D/AndroidRuntime? Shutting down VM W/dalvikvm? threadid=1: thread exiting with uncaught exception (group=0x4168ace0) W/System.err? io.realm.exceptions.RealmError: Unrecoverable error. std::exception in io_realm_internal_TableQuery.cpp line 1543 W/System.err? at io.realm.internal.TableQuery.nativeImportHandoverTableViewIntoSharedGroup(Native Method) W/System.err? at io.realm.internal.TableQuery.importHandoverTableView(TableQuery.java:508) W/System.err? at io.realm.RealmResults.swapTableViewPointer(RealmResults.java:708) W/System.err? at io.realm.HandlerController.completedAsyncQueriesUpdate(HandlerController.java:222) W/System.err? at io.realm.HandlerController.handleMessage(HandlerController.java:312) W/System.err? at android.os.Handler.dispatchMessage(Handler.java:98) W/System.err? at android.os.Looper.loop(Looper.java:136) W/System.err? at android.app.ActivityThread.main(ActivityThread.java:5158) W/System.err? at java.lang.reflect.Method.invokeNative(Native Method) W/System.err? at java.lang.reflect.Method.invoke(Method.java:515) W/System.err? at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:732) W/System.err? at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:566) W/System.err? at dalvik.system.NativeStart.main(Native Method)  all 3 asyncQueries are active and listening for changes and i also call results.removeChangeListeners() properly when closing fragments,0
1854,15-11-30,Issue 1854 : Null values are wrongly counted in RealmQuery.average() method ， Issue #1854 ， realm/realm-java ， GitHub average of 3  4  null should be (3 + 4) / 2 = 3.5  but RealmQuery.average() returns (3 + 4) / 3 = 2.3333.....,0
1875,15-12-03,Issue 1875 : UnsupportedOperationException in RealmBaseAdapter ， Issue #1875 ， realm/realm-java ， GitHub I get such exception after I guess last change regarding notifications (0.86.0-SNAPSHOT): Caused by: java.lang.UnsupportedOperationException at java.util.concurrent.CopyOnWriteArrayList$CowIterator.remove(CopyOnWriteArrayList.java:744) at io.realm.HandlerController.addChangeListenerAsWeakReference(HandlerController.java:145) at io.realm.RealmBaseAdapter.<init>(RealmBaseAdapter.java:56) at com.borg.forza.adapters.RealmModelAdapter.<init>(RealmModelAdapter.java:0) Seems like CopyOnWriteArrayList iterator does not support remove operation.,1
1880,15-12-03,Issue 1880 : Fix flaky unit tests ， Issue #1880 ， realm/realm-java ， GitHub io.realm.RealmAsyncQueryTests > testFindFirstAsync[Nexus 9 - 5.0.1] ?[31mFAILED ?[0m     junit.framework.AssertionFailedError     at io.realm.TestHelper.awaitOrFail(TestHelper.java:646)  io.realm.RealmTest > testInternalRealmChangedHandlersRemoved[Nexus 9 - 5.0.1] ?[31mFAILED ?[0m     junit.framework.AssertionFailedError: expected:<1> but was:<2>     at io.realm.RealmTest.testInternalRealmChangedHandlersRemoved(RealmTest.java:190),0
1881,15-12-04,Issue 1881 : Small issue in Readme: Wrong url for SNAPSHOT releases ， Issue #1881 ， realm/realm-java ， GitHub Ahoy! The URL for SNAPSHOT releases in the readme file is stale. It points to: classpath "io.realm:gradle-plugin:<version>-SNAPSHOT"  But the actual URL is: classpath "io.realm:realm-android:<version>-SNAPSHOT",0
1882,15-12-04,Issue 1882 : signal 11 (SIGSEGV) on Realm 0.86.0 ， Issue #1882 ， realm/realm-java ， GitHub Getting SIGSEGV on emulators (VS Emulator) and devices repeatedly at the same place. We clear out pretty much all our tables when logging out in one big cozy transaction  all other parts of the app and realm usage seems fine after updating to 0.86.0 and the api changes. VS Emulator: 12-04 01:38:36.042 9370-9370/our.package.name.here A/libc: Fatal signal 11 (SIGSEGV) at 0x0000024c (code=1)  thread 9370 (ll.package.name) 12-04 01:38:36.146 136-136/? I/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 12-04 01:38:36.146 136-136/? I/DEBUG: Build fingerprint: 'Android/full_donatello/donatello:4.4.4/KTU84P/eng.vsemu.20151113.122923:userdebug/test-keys' 12-04 01:38:36.146 136-136/? I/DEBUG: Revision: '0' 12-04 01:38:36.146 136-136/? I/DEBUG: pid: 9370  tid: 9370  name: ll.package.name  >>> our.package.name.here <<< 12-04 01:38:36.146 136-136/? I/DEBUG: signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0000024c 12-04 01:38:36.274 136-136/? I/DEBUG:     eax 00000000  ebx 9af28e34  ecx 00000006  edx 00000006 12-04 01:38:36.274 136-136/? I/DEBUG:     esi b86d6e40  edi b86d6e40 12-04 01:38:36.274 136-136/? I/DEBUG:     xcs 00000073  xds 0000007b  xes 0000007b  xfs 00000000  xss 0000007b 12-04 01:38:36.274 136-136/? I/DEBUG:     eip 9ade1780  ebp bf84f6d8  esp bf84f6d0  flags 00210282 12-04 01:38:36.274 136-136/? E/Corkscrew: unrecognized dwarf higher part encoding: 0x73 12-04 01:38:36.274 136-136/? I/DEBUG:     #00  pc 00068780  /data/app-lib/our.package.name.here-2/librealm-jni.so 12-04 01:38:36.274 136-136/? I/DEBUG:     #01  pc 000687a5  /data/app-lib/our.package.name.here-2/librealm-jni.so 12-04 01:38:36.274 136-136/? I/DEBUG:          bf84f690  00000000   12-04 01:38:36.274 136-136/? I/DEBUG:          bf84f694  00000000   12-04 01:38:36.274 136-136/? I/DEBUG:          bf84f698  b848b3d0  [heap] 12-04 01:38:36.274 136-136/? I/DEBUG:          bf84f69c  b86ed880  [heap] 12-04 01:38:36.274 136-136/? I/DEBUG:          bf84f6a0  00000006   12-04 01:38:36.274 136-136/? I/DEBUG:          bf84f6a4  00000000   12-04 01:38:36.274 136-136/? I/DEBUG:          bf84f6a8  00000006   12-04 01:38:36.274 136-136/? I/DEBUG:          bf84f6ac  00000010   12-04 01:38:36.274 136-136/? I/DEBUG:          bf84f6b0  b86d6e40  [heap] 12-04 01:38:36.274 136-136/? I/DEBUG:          bf84f6b4  b86d6e40  [heap] 12-04 01:38:36.274 136-136/? I/DEBUG:          bf84f6b8  bf84f6d8  [stack] 12-04 01:38:36.274 136-136/? I/DEBUG:          bf84f6bc  9ade176a  /data/app-lib/our.package.name.here-2/librealm-jni.so 12-04 01:38:36.274 136-136/? I/DEBUG:          bf84f6c0  b86ed880  [heap] 12-04 01:38:36.274 136-136/? I/DEBUG:          bf84f6c4  9af2740c  /data/app-lib/our.package.name.here-2/librealm-jni.so 12-04 01:38:36.278 136-136/? I/DEBUG:          bf84f6c8  9af27400  /data/app-lib/our.package.name.here-2/librealm-jni.so 12-04 01:38:36.278 136-136/? I/DEBUG:          bf84f6cc  00000000   12-04 01:38:36.278 136-136/? I/DEBUG:     #00  bf84f6d0  9af28e34  /data/app-lib/our.package.name.here-2/librealm-jni.so 12-04 01:38:36.278 136-136/? I/DEBUG:          bf84f6d4  b86d6e40  [heap] 12-04 01:38:36.278 136-136/? I/DEBUG:          bf84f6d8  bf84f6f8  [stack] 12-04 01:38:36.278 136-136/? I/DEBUG:          bf84f6dc  9ade17a6  /data/app-lib/our.package.name.here-2/librealm-jni.so 12-04 01:38:36.278 136-136/? I/DEBUG:          bf84f6e0  00000000   12-04 01:38:36.278 136-136/? I/DEBUG:          bf84f6e4  00000023   12-04 01:38:36.278 136-136/? I/DEBUG:          bf84f6e8  9ae73b65  /data/app-lib/our.package.name.here-2/librealm-jni.so 12-04 01:38:36.278 136-136/? I/DEBUG:          bf84f6ec  9af28e34  /data/app-lib/our.package.name.here-2/librealm-jni.so 12-04 01:38:36.278 136-136/? I/DEBUG:          bf84f6f0  a44d6b44   12-04 01:38:36.278 136-136/? I/DEBUG:          bf84f6f4  a44d6b44   12-04 01:38:36.278 136-136/? I/DEBUG:          bf84f6f8  bf84f758  [stack] 12-04 01:38:36.278 136-136/? I/DEBUG:          bf84f6fc  9ae3e38e  /data/app-lib/our.package.name.here-2/librealm-jni.so 12-04 01:38:36.278 136-136/? I/DEBUG:          bf84f700  b86d6e40  [heap] 12-04 01:38:36.278 136-136/? I/DEBUG:          bf84f704  a44d6b44   12-04 01:38:36.278 136-136/? I/DEBUG:          bf84f708  bf84f758  [stack] 12-04 01:38:36.278 136-136/? I/DEBUG:          bf84f70c  b4d46909  /system/lib/libdvm.so (mspace_malloc+25)  Physical device (Samsung Note 3)  first run after updating to Realm 0.86.0 in our login procedure  when creating a new Realm (or opening existing in this case) we open it directly in the background just to trigger migration. 12-04 01:44:05.134 21499-21499/our.package.name.here W/RealmFactory: Checking if realm session-3e7cc37f-a93a-46c6-8bc0-f23a9ae6b207.realm needs migration! 12-04 01:44:05.322 21499-21499/our.package.name.here A/libc: Fatal signal 11 (SIGSEGV)  code 1  fault addr 0x290 in tid 21499 (ll.package.name) 12-04 01:44:05.323 299-299/? I/DEBUG: property debug.db.uid not set; NOT waiting for gdb. 12-04 01:44:05.323 299-299/? I/DEBUG: HINT: adb shell setprop debug.db.uid 100000 12-04 01:44:05.323 299-299/? I/DEBUG: HINT: adb forward tcp:5039 tcp:5039 12-04 01:44:05.445 299-299/? I/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 12-04 01:44:05.445 299-299/? I/DEBUG: Build fingerprint: 'samsung/hltexx/hlte:4.4.2/KOT49H/N9005XXUENC2:user/release-keys' 12-04 01:44:05.445 299-299/? I/DEBUG: Revision: '8' 12-04 01:44:05.445 299-299/? I/DEBUG: ABI: 'arm' 12-04 01:44:05.445 299-299/? I/DEBUG: pid: 21499  tid: 21499  name: ll.package.name  >>> our.package.name.here <<< 12-04 01:44:05.445 299-299/? I/DEBUG: signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x290 12-04 01:44:05.461 299-299/? I/DEBUG:     r0 67a5bbe0  r1 77f18c74  r2 00000006  r3 00000290 12-04 01:44:05.461 299-299/? I/DEBUG:     r4 68e54580  r5 00000000  r6 68e54580  r7 12d4e700 12-04 01:44:05.461 299-299/? I/DEBUG:     r8 74f40f28  r9 b5184400  sl 00000001  fp 133e7740 12-04 01:44:05.461 299-299/? I/DEBUG:     ip bed5ecd4  sp bed5ed08  lr 77ed5ae1  pc 77e558f8  cpsr 60000030 12-04 01:44:05.462 299-299/? I/DEBUG:     #00 pc 000498f8  /data/app/our.package.name.here-1/lib/arm/librealm-jni.so  Similar / same crash when logging out (Samsung Note 3); 12-04 01:44:57.081 22335-22335/our.package.name.here A/libc: Fatal signal 11 (SIGSEGV)  code 1  fault addr 0x290 in tid 22335 (ll.package.name) 12-04 01:44:57.081 299-299/? I/DEBUG: property debug.db.uid not set; NOT waiting for gdb. 12-04 01:44:57.081 299-299/? I/DEBUG: HINT: adb shell setprop debug.db.uid 100000 12-04 01:44:57.081 299-299/? I/DEBUG: HINT: adb forward tcp:5039 tcp:5039 12-04 01:44:57.163 299-299/? I/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 12-04 01:44:57.163 299-299/? I/DEBUG: Build fingerprint: 'samsung/hltexx/hlte:4.4.2/KOT49H/N9005XXUENC2:user/release-keys' 12-04 01:44:57.163 299-299/? I/DEBUG: Revision: '8' 12-04 01:44:57.163 299-299/? I/DEBUG: ABI: 'arm' 12-04 01:44:57.163 299-299/? I/DEBUG: pid: 22335  tid: 22335  name: ll.package.name  >>> our.package.name.here <<< 12-04 01:44:57.163 299-299/? I/DEBUG: signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x290 12-04 01:44:57.175 299-299/? I/DEBUG:     r0 63f67800  r1 68e75c74  r2 00000006  r3 00000290 12-04 01:44:57.176 299-299/? I/DEBUG:     r4 668481c0  r5 00000000  r6 668481c0  r7 133d5f80 12-04 01:44:57.176 299-299/? I/DEBUG:     r8 74f16e98  r9 b5184400  sl 00000001  fp 12c71740 12-04 01:44:57.176 299-299/? I/DEBUG:     ip bed5eb14  sp bed5eb48  lr 68e32ae1  pc 68db28f8  cpsr 600f0030 12-04 01:44:57.176 299-299/? I/DEBUG:     #00 pc 000498f8  /data/app/our.package.name.here-1/lib/arm/librealm-jni.so,0
1884,15-12-04,Issue 1884 : ChangeListener not triggered on newly created RealmObject ， Issue #1884 ， realm/realm-java ， GitHub realm.beginTransaction(); Person p = realm.createObject(Person.class); realm.commitTransaction();  p.addChangeListener(() -> { Log.i("Debug"  "Hello") });  realm.beginTransaction(); p.setAge(50); realm.commitTransaction(); // Doesn't trigger change listener.  ChangeListeners are correctly triggered on objects created using RealmQuery.findFirst() but not when using Realm.createObject() RealmQuery has the following code: if (realm.handlerController != null) { // non Looper Thread doesn't have a handlerController     WeakReference<RealmObject> realmObjectWeakReference             = new WeakReference<RealmObject>(realmObject  realm.handlerController.referenceQueueRealmObject);     realm.handlerController.realmObjects.put(realmObjectWeakReference  this); }  Which is not present in addChangeListener for RealmObject,0
1886,15-12-04,Issue 1886 : Realm 0.86.0 crashes when call clear() ， Issue #1886 ， realm/realm-java ， GitHub I have updated Realm on my application from 0.85 to 0.86 and a crash occured at librealm_jni whenever I call clear. Below is my code which is working on 0.85.         // remove the row if there is no downloaded document         RealmResults<IngListDesc> lessonsToBeRemoved = expired.where()                 .equalTo("doc_downloaded"  false)                 .findAll();          // remove children         mRealm.beginTransaction();         for (int i=0; i < lessonsToBeRemoved.size(); i++) {             RealmResults<IngDetailDesc> detailDescs =                     lessonsToBeRemoved.get(i).getLessons().where().findAll();             for (int j=0; j < detailDescs.size(); j++) {                 detailDescs.get(j).getObjects().where().findAll().clear();             }             detailDescs.clear();         }         lessonsToBeRemoved.clear();         mRealm.commitTransaction();,0
1887,15-12-04,Issue 1887 : Crash: Fatal Signal 11 after running same query on a large database ， Issue #1887 ， realm/realm-java ， GitHub I started getting sporadic crashes at times in realm when i changed from small test database to large production database. I could narrow it down to calling same async query 2-3 times. My scenario is I have a ViewPager with different fragments showing data from same table with different conditions(sorting order). So to reproduce it I did following Realm defaultRealm = Realm.getDefaultInstance(); RealmResults<Content> realmResults = defaultRealm .where(Content.class).equalTo("contentParts.active"  true).greaterThan("bestOf"  0).findAllSortedAsync("bestOf"  false); realmResults.addChangeListener(iistenerA);  Realm duplicateRealm= Realm.getDefaultInstance(); RealmResults<Content> realmResults2 = duplicateRealm.where(Content.class).equalTo("contentParts.active"  true).greaterThan("bestOf"  0).findAllSortedAsync("bestOf"  false); realmResults2.addChangeListener(iistenerB);  My realm file is around 2.5MB  tested on v 0.84.1 and 0.85.1 device for logs: Nexus 5 running M Preview 3(tested on other devices as well) crash log 1.txt crash log 2.txt This issue might be realted to these two issues #1851 and #1645,1
1893,15-12-04,Issue 1893 : onSuccess might not be called with the right Realm version for async transaction ， Issue #1893 ， realm/realm-java ， GitHub Now the onSuccess relies on the REALM_CHANGED triggers the advance_read first. If it is running with a unfinished async query  the REALM_CHANGED might be swallowed by updateAsyncQueries and the Realm doesn't make a andvance_read. In above case  the next message in the handler queue is to run onSuccess  but it the function will be called in a wrong earlier Realm version which the changes in the async transaction is not in. --------------------- Update Jan. 25th 2016 ------------------------- http://stackoverflow.com/questions/34938152/callback-never-be-invoked-when-i-excute-a-asynchronous-transaction-with-realm See above question on SO. We need to discuss of the user case of onSuccess. Currently if the Realm instance is closed  then the onSuccess won't be called depends on the timing. But it might not be what user expect. Shall we just let onSuccess be delivered whenever the transaction is done  and document it clearly that in the onSuccess  the Realm might not be the latest version?,0
1894,15-12-05,Issue 1894 : RealmChangeListener never called inside RealmResults ， Issue #1894 ， realm/realm-java ， GitHub Hi  i use realm for a lot of time but today i want to try use new feature called "Async query". I would be grateful for tell me what I'm doing wrong. realm version: compile 'io.realm:realm-android:0.86.0' empty main activity snippet:  @Override protected void onCreate(Bundle savedInstanceState) {     super.onCreate(savedInstanceState);     setContentView(R.layout.main_activity);     RealmResults< MyRealmObject> realmResults = Realm.getInstance(this).where(MyRealmObject.class).findAllAsync();     realmResults.addChangeListener(new RealmChangeListener() {         @Override         public void onChange() {             System.out.println("Never called...");         }     });  } If i attached debbuger it stay on notifyChangeListeners and listener is not called because "this.currentTableViewVersion != version". RealmQuery is loaded because after few moment i have acces to data inside list.,0
1905,15-12-08,Issue 1905 : findFirst() of RealmQuery which is created from RealmResults returns wrong result ， Issue #1905 ， realm/realm-java ， GitHub RealmQuery created from RealmResult must targets only objects in the RealmResults. But in current implementation  findFirst() of that RealmQuery targets all objects of target Class. reported by @ytRino,0
1912,15-12-09,Issue 1912 : setObject and getObject not working as expected in Migration ， Issue #1912 ， realm/realm-java ， GitHub In my migration I create a new field (which has the same field as an old field  therefore with the "_tmp" field) and I want to put in set on the new object a field that was before on the old object. I think some example code is clearer: schema.get("Test")     .addRealmObjectField("field_tmp"  newSchema)     .transform(new RealmObjectSchema.Function() {         @Override         public void apply(DynamicRealmObject object) {             DynamicRealmObject newInstance = realm.createObject("NewObject");             newInstance.setObject("user"  object.getObject("user"));             object.setObject("field_tmp"  newInstance);         }     })     .removeField("user")     .removeField("field")     .renameField("field_tmp"  "field");  When I try to execute that in my migration I get the following error: java.lang.IllegalArgumentException: Type of object is wrong. Was class_Test  expected class_NewObject  Can you help me with that?,0
1925,15-12-10,Issue 1925 : Realm is probably triggering off a lot of blocking GCs ， Issue #1925 ， realm/realm-java ， GitHub I am seeing a lot of explicitly triggered blocking GCs in Logcat in my app when inserting new items to the database. 12-10 11:33:25.874 7555-7555/com.tattva.app I/art: Starting a blocking GC Explicit 12-10 11:33:25.955 7555-7561/com.tattva.app W/art: Suspending all threads took: 47.502ms 12-10 11:33:25.961 7555-7555/com.tattva.app I/art: Explicit concurrent mark sweep GC freed 54692(2MB) AllocSpace objects  30(1512KB) LOS objects  40% free  18MB/30MB  paused 1.205ms total 79.991ms  Is this normal? I can clearly see my app stuttering whenever they're triggered. Blocking GCs are incredibly bad. What's the reason for triggering them?,0
1945,15-12-16,Issue 1945 : Detect invalid RealmResults ， Issue #1945 ， realm/realm-java ， GitHub The following code might lead to a native crash: realm.beginTransaction(); RealmResults<Owner> owners = realm.allObjects(Owner.class); RealmResults<Dog> dogs = owners.first().where().equalTo("dogs.name"  "Fido").findAll(); owners.clear(); long nDogs = dogs.size(); // crash here realm.commitTransaction();  The reason is that Realm's storage engine doesn't invalidate dogs after owners.clear(). Once it does  an exception should be thrown at dogs.size(). See also realm/realm-core#1413,0
1964,15-12-18,Issue 1964 : Async subqueries returns the wrong results ， Issue #1964 ， realm/realm-java ， GitHub It looks like an async subquery uses the original Table instead of the TableView to filter queries  which result in the async query returning the wrong result. Unit test exposing it: 20293bc // Subquery will search all Foo objects  not just those in `foos` RealmResults<Foo> foos = realm.where(Foo.class).findAll(); RealmResults<Foo> subQueryFoos = foos.where().equalTo("field"  value).findAllAsync();  /cc @nhachicha,0
1966,15-12-18,Issue 1966 : [0.87.0] Realm should detect latest version ， Issue #1966 ， realm/realm-java ， GitHub It's not a major bug  but ... I'm using Realm 0.87.0 and every each compilation I got this message: (since 0.86.1) Note: Version 0.86.0 of Realm is now available: http://static.realm.io/downloads/java/latest,0
1970,15-12-19,Issue 1970 : ConcurrentModificationException while making notification ， Issue #1970 ， realm/realm-java ， GitHub Hi  i'm geting exception when running below code: public static void makeMutableWorkoutCopy(Realm realm  final long workoutId) {         realm.beginTransaction();             Workout workout = realm.where(Workout.class).equalTo("id"  workoutId).findFirst();              Workout copyWorkout = realm.copyFromRealm(workout);             copyWorkout.setId(IdentifierGenerator.getInstance().generateUniqueId(realm  Workout.class));             copyWorkout.setName(copyWorkout.getName() + "*");             copyWorkout.setSections(new RealmList());             copyWorkout.setImmutableWorkout(workout);              workout.setMutableWorkout(realm.copyToRealmOrUpdate(copyWorkout));         realm.commitTransaction();     } Exception: java.util.ConcurrentModificationException at java.util.IdentityHashMap$IdentityHashMapIterator.checkConcurrentMod(IdentityHashMap.java:164) at java.util.IdentityHashMap$IdentityHashMapIterator.next(IdentityHashMap.java:169) at io.realm.HandlerController.notifyRealmObjectCallbacks(HandlerController.java:254) at io.realm.HandlerController.notifyTypeBasedListeners(HandlerController.java:207) at io.realm.BaseRealm.commitTransaction(BaseRealm.java:294) at io.realm.Realm.commitTransaction(Realm.java:108) at com.borg.forza.model.RealmUtils.makeMutableWorkoutCopy(RealmUtils.java:289)  The model of Workout.class looks like below: public class Workout extends RealmObject {      @Index      private long                    id;                 private long                    backendId;                 private int                     sync;      @PrimaryKey private String                  name;                 private String                  description;     @Index      private String                  type;                 private long                    duration;                 private RealmList      sections;                 private int                     access;                 private Workout                 mutableWorkout;                 private Workout                 immutableWorkout;     } I am using 0.87.0-SNAPSHOT. Thanks!,0
1971,15-12-20,Issue 1971 : Snapshots: Source Packaging ， Issue #1971 ， realm/realm-java ， GitHub Since Oct 29 v0.84.2 snapshot release  the source package is no longer part of the snapshot release process. It would be great if this condition can be reverted if not actually intended.,0
1982,15-12-22,Issue 1982 : A/libc: Fatal signal 11 (SIGSEGV)  code 1  fault addr 0x290... while deleting object from Realm. ， Issue #1982 ， realm/realm-java ， GitHub I have A/libc: Fatal signal 11 (SIGSEGV)  code 1  fault addr 0x290 in tid 18295 (app) while deleting object from RealmList in RecyclerView. It doesn't matter if I do this async or not.,0
1983,15-12-22,Issue 1983 : native crash while deleting obj from realm. ， Issue #1983 ， realm/realm-java ， GitHub Possible duplicate of #1982 While committing an transaction that deletes an Obj1 from realm i get a native crash. A/libc: Fatal signal 11 (SIGSEGV)  code 1  fault addr 0x288 in tid 26921 (app) I'm using 'io.realm:realm-android:0.87.0' from "http://dl.bintray.com/realm/maven" while deleting the obj1 there is an active subscription to a subquery of obj1. Something like this: guithread; obj1.getObj2List().where().equalTo("someField"  "asd").findAll().asObservable().subscribe(/code that only calls size on RealmResults/) later in other thread: r.beginTransaction(); obj1.getObj2List().where().equalTo("someField"  "asd").findAll().clear(); r.commitTransaction(); if(obj1.getObj2List().size() == 0) { r.beginTransaction(); obj1.removeFromRealm(); r.commitTransaction(); // crash } not subscribing in guithread prevents the problem from happening I'm using Android Studio 2.0 built on nov 21 and i think i'm on latest LTS release of ubuntu If this is not enough to pinpoint the problem i'll probably be able to create isolated example.,0
1990,15-12-22,Issue 1990 : Info message from art: Rejecting re-init ， Issue #1990 ， realm/realm-java ， GitHub Just as an information  when I start the app with the most current version of Realm I get the following log messages:         I/art: Rejecting re-init on previously-failed class java.lang.Class<io.realm.rx.RealmObservableFactory$4>         I/art: Rejecting re-init on previously-failed class java.lang.Class<io.realm.rx.RealmObservableFactory$4>         I/art: Rejecting re-init on previously-failed class java.lang.Class<io.realm.rx.RealmObservableFactory$3>         I/art: Rejecting re-init on previously-failed class java.lang.Class<io.realm.rx.RealmObservableFactory$3>         I/art: Rejecting re-init on previously-failed class java.lang.Class<io.realm.rx.RealmObservableFactory$2>         I/art: Rejecting re-init on previously-failed class java.lang.Class<io.realm.rx.RealmObservableFactory$2>         I/art: Rejecting re-init on previously-failed class java.lang.Class<io.realm.rx.RealmObservableFactory$1>         I/art: Rejecting re-init on previously-failed class java.lang.Class<io.realm.rx.RealmObservableFactory$1>  We are currently not using the new rxfeature  but just wanted to see if this is something to be concerned about. The device was a Nexus 5 running Android 6.,0
2001,15-12-24,Issue 2001 : `addFiled` with `PRIMARY_KEY` doesn't apply `REQUIRED` modifier implicitly  (Original title - How to migrate a field's type the right way?) ， Issue #2001 ， realm/realm-java ， GitHub Hey guys. I'm receiving an exception while trying to change a field's type. Stacktrace: https://gist.github.com/Saketme/4b8f6274a0103165c79d RealmObject: https://gist.github.com/Saketme/37894ccc5a1051cd8111 Migration: https://gist.github.com/Saketme/9ff0591dfdc45018e90b In brief  I wanted to change a field's type from long to String. Retaining old values was not an option so the whole table had to be dropped. I however could not find a way to clear all items while migrating. Am I supposed to use Realm.clear() here?,0
2021,16-01-04,Issue 2021 : BadVersionException ， Issue #2021 ， realm/realm-java ， GitHub Hey  guys. I keep getting this exception. I am using 0.87.1 version of Realm(and I use Realm as a singleton). My situation looks like this: there is navigation button which starts a fragment  which makes an async query for objects in onStart() method. This exception rises when user spams this navigation button or just makes fast transactions between fragments. java.lang.Error: io.realm.internal.async.BadVersionException: std::exception in io_realm_internal_TableQuery.cpp line 1262 E/AndroidRuntime: at io.realm.RealmQuery$3.call(RealmQuery.java:1491) E/AndroidRuntime: at io.realm.RealmQuery$3.call(RealmQuery.java:1467) E/AndroidRuntime: at io.realm.internal.async.BgPriorityCallable.call(BgPriorityCallable.java:36) E/AndroidRuntime: at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305) E/AndroidRuntime: at java.util.concurrent.FutureTask.run(FutureTask.java:137) E/AndroidRuntime: at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076) E/AndroidRuntime: at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569) E/AndroidRuntime: at java.lang.Thread.run(Thread.java:856) E/AndroidRuntime: Caused by: io.realm.internal.async.BadVersionException: std::exception in io_realm_internal_TableQuery.cpp line 1262 E/AndroidRuntime: at io.realm.internal.TableQuery.nativeFindAllSortedWithHandover(Native Method) E/AndroidRuntime: at io.realm.internal.TableQuery.findAllSortedWithHandover(TableQuery.java:490) E/AndroidRuntime: at io.realm.RealmQuery$3.call(RealmQuery.java:1480) E/AndroidRuntime: at io.realm.RealmQuery$3.call(RealmQuery.java:1467)? E/AndroidRuntime: at io.realm.internal.async.BgPriorityCallable.call(BgPriorityCallable.java:36)? E/AndroidRuntime: at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)? E/AndroidRuntime: at java.util.concurrent.FutureTask.run(FutureTask.java:137)? E/AndroidRuntime: at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)? E/AndroidRuntime: at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)? E/AndroidRuntime: at java.lang.Thread.run(Thread.java:856) By the way  sometimes my during fast transactions between fragments my app crashes with SIGSEV or just completely freezes without throwing ANR  dunno if it's connected to the BadVersion  but just in case.,0
2044,16-01-08,Issue 2044 : RealmList.set(int location  E object) returns current object instead of previous. ， Issue #2044 ， realm/realm-java ， GitHub Implementation of List interface requires from set(int location  E object) operation to return object that was previously set at given index. https://docs.oracle.com/javase/7/docs/api/java/util/List.html#set(int %20E) The implementation of RealmList.set(int location  E object) has a bug - it returns current object  instead of the previous one. It can be easily observed by runing Collections.swap(list  index1  index2); (it uses set operation internally). Instead of objects being swapped  the same object is at index1 and index2 .,0
2057,16-01-11,Issue 2057 : DynamicRealmObject.setObject should thrown meaningfull exception when columnIndex = -1 ， Issue #2057 ， realm/realm-java ， GitHub Currently it will just crash in native code.,0
2058,16-01-11,Issue 2058 : Calling copyFromRealm with a list of DynamicRealmObject should throw ， Issue #2058 ， realm/realm-java ， GitHub Throw a meaningful exception when calling realm.copyFromRealm(List<DynamicRealmObject),0
2089,16-01-15,Issue 2089 : Handling Fatal signal 11 ， Issue #2089 ， realm/realm-java ， GitHub Hi  I had the same issues as described here #1388 Let's say by updating to 0.85.0  it will fix this issue  but for other unknown reason we get a Fatal signal. Would be nice if it could be possible to create a handler for case like this and allow us to do a backup of the current data or event to show a message to the user. Because when it happens  the user are losing his data. Any advices?,0
2092,16-01-15,Issue 2092 : jsonExample uses the wrong key ， Issue #2092 ， realm/realm-java ， GitHub See http://stackoverflow.com/questions/34802908/realm-loadjsonfromstring-fails-to-put-string,0
2112,16-01-19,Issue 2112 : RealmResults.removeLast JavaDoc is wrong ， Issue #2112 ， realm/realm-java ， GitHub Removes and returns the last object in the list. This also deletes the object from the underlying Realm. It does not return any value  nor can it since the element has been deleted.,0
2115,16-01-20,Issue 2115 : [0.88.0-SNAPSHOT] IllegalStateException: Caller thread behind the worker thread ， Issue #2115 ， realm/realm-java ， GitHub http://crashes.to/s/d9d24a52572 This exception is thrown after I migrated my codebase from synchronous to asynchronous realm calls using observables. The stacktrace doesn't show where it went wrong from my code. messagesSubscription = realm.where(Message.class)         .equalTo("conversationId"  conversationId)         .findAllSortedAsync("updated")         .asObservable()         .filter(RealmResults::isLoaded)         .subscribe((messages) -> {           if (adapter != null) {             adapter.call(messages);           }         });  The above is the only asynchronous call in that problematic activity. Any ideas why the exception is thrown?,1
2116,16-01-20,Issue 2116 : ReLinker NoClassDefFoundError exception ， Issue #2116 ， realm/realm-java ， GitHub Using 8.8.0-SNAPSHOT: java.lang.NoClassDefFoundError: Failed resolution of: Lcom/getkeepsafe/relinker/ReLinker; at io.realm.internal.RealmCore.loadLibrary(RealmCore.java:90) at io.realm.RealmConfiguration$Builder.(RealmConfiguration.java:307) at com.borg.forza.activities.Forza.setupRealm(Forza.java:75) at com.borg.forza.activities.Forza.onCreate(Forza.java:63) at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1034) at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4605) at android.app.ActivityThread.access$1500(ActivityThread.java:148) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1353) at android.os.Handler.dispatchMessage(Handler.java:102) at android.os.Looper.loop(Looper.java:135) at android.app.ActivityThread.main(ActivityThread.java:5312) at java.lang.reflect.Method.invoke(Native Method) at java.lang.reflect.Method.invoke(Method.java:372) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:901) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:696) Caused by: java.lang.ClassNotFoundException: Didn't find class "com.getkeepsafe.relinker.ReLinker" on path: DexPathList[[zip file "/mnt/asec/com.borg.forza-1/base.apk"] nativeLibraryDirectories=[/mnt/asec/com.borg.forza-1/lib/arm  /vendor/lib  /system/lib]] at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56) at java.lang.ClassLoader.loadClass(ClassLoader.java:511) at java.lang.ClassLoader.loadClass(ClassLoader.java:469) at io.realm.internal.RealmCore.loadLibrary(RealmCore.java:90)? at io.realm.RealmConfiguration$Builder.(RealmConfiguration.java:307)? at com.borg.forza.activities.Forza.setupRealm(Forza.java:75)? at com.borg.forza.activities.Forza.onCreate(Forza.java:63)? at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1034)?`,0
2129,16-01-21,Issue 2129 : RealmResults.size() returns invalid result for large sizes() ， Issue #2129 ， realm/realm-java ， GitHub Current implementation is this:     @Override     public int size() {         if (!isLoaded()) {             return 0;         } else {             return ((Long)getTable().size()).intValue();         }     }  It should be the below as the current implementation will overflow for large sizes  which does not honor the contract in the Collection interface : https://docs.oracle.com/javase/7/docs/api/java/util/Collection.html#size()     @Override     public int size() {         if (!isLoaded()) {             return 0;         } else {             long size = getTable().size();             return (size > Integer.MAX_VALUE) ? Integer.MAX_VALUE : (int) size;         }     }  Will be fun writing a unit test for that :/,0
2130,16-01-21,Issue 2130 : Exceptions during async transactions are failing silently ， Issue #2130 ， realm/realm-java ， GitHub So I've ran into a very frustrating error. Exceptions during asynchronous transactions aren't getting reported. No signs of stacktrace. This made me spend a couple of hours trying to figure out why my logic isn't working only to realize that Realm has stopped printing Error stacktraces. Steps to reproduce Simply throw an Error inside a transaction. Example code private void testRealm() {      final Realm.Transaction.Callback callback = new Realm.Transaction.Callback() {          @Override         public void onSuccess() {             super.onSuccess();         }          @Override         public void onError(Exception e) {             super.onError(e);             e.printStackTrace();         }      };      getRealm().executeTransaction(realm -> {         throw new IllegalAccessError("Poop");     }  callback);  } The stacktrace never gets printed. Realm version: 0.87.2 Any ideas how do i fix this?,0
2139,16-01-23,Issue 2139 : java.lang.IllegalAccessError ， Issue #2139 ， realm/realm-java ， GitHub java.lang.IllegalAccessError: Illegal class access ('io.realm.UserRealmProxy' attempting to access 'io.realm.BaseRealm') in attempt to invoke virtual method void io.realm.BaseRealm.checkIfValid() (declaration of 'io.realm.UserRealmProxy' appears in /data/data/com.qiuduanribao.joke/files/studio-fd/dex/slice_9_e1a298d6ec3d810f745aca6360a4b217f65d0196-classes.dex) at io.realm.UserRealmProxy.get_id(UserRealmProxy.java:107),0
2141,16-01-24,Issue 2141 : DynamicRealmObject / Reusing String incorrectly ， Issue #2141 ， realm/realm-java ， GitHub @Test     public void dynamicRealmObject() {         testRealm.beginTransaction();         RealmDemoData obj = testRealm.createObject(RealmDemoData.class);         for (int i = 0; i < 10; i++) {             RealmFloat object = testRealm.createObject(RealmFloat.class);             object.setFloatValue((float) i);             obj.getStackValues().add(object);         }         testRealm.commitTransaction();          DynamicRealmObject o = new DynamicRealmObject(obj);         RealmList<DynamicRealmObject> list = o.getList("stackValues");          float[] values = new float[list.size()];         for (int i = 0; i < list.size(); i++) {             values[i] = o.getFloat("floatValue"); // Note that "o" is not a RealmFloat object so this should throw.         }     }  It throws with this: java.lang.IllegalArgumentException: Illegal Argument: Field not found: floatValuealm_internal_LinkView_nativeSize__J at io.realm.internal.CheckedRow.nativeGetColumnIndex(Native Method) at io.realm.internal.UncheckedRow.getColumnIndex(UncheckedRow.java:122) at io.realm.DynamicRealmObject.getFloat(DynamicRealmObject.java:184) at io.realm.RealmListTests.dynamicRealmObject(RealmListTests.java:1041) at java.lang.reflect.Method.invoke(Native Method) at java.lang.reflect.Method.invoke(Method.java:372) at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) at io.realm.rule.TestRealmConfigurationFactory$1.evaluate(TestRealmConfigurationFactory.java:49) at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:239) at org.junit.rules.RunRules.evaluate(RunRules.java:20) at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) at org.junit.runners.ParentRunner.run(ParentRunner.java:363) at org.junit.runners.Suite.runChild(Suite.java:128) at org.junit.runners.Suite.runChild(Suite.java:27) at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) at org.junit.runners.ParentRunner.run(ParentRunner.java:363) at org.junit.runner.JUnitCore.run(JUnitCore.java:137) at org.junit.runner.JUnitCore.run(JUnitCore.java:115) at android.support.test.internal.runner.TestExecutor.execute(TestExecutor.java:54) at android.support.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:240) at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:1853)  2nd crash  this time without exception:    public void testGetList() {         realm.beginTransaction();         AllTypes obj = realm.createObject(AllTypes.class);         Dog dog = realm.createObject(Dog.class);         dog.setName("fido");         obj.getColumnRealmList().add(dog);         realm.commitTransaction();          DynamicRealmObject dynamicAllTypes = new DynamicRealmObject(obj);         RealmList<DynamicRealmObject> list = dynamicAllTypes.getList(AllTypes.FIELD_REALMLIST);         DynamicRealmObject listObject = list.get(0);          assertEquals(1  list.size());         assertEquals(Dog.CLASS_NAME  listObject.getType());         assertEquals("fido"  listObject.getString(Dog.FIELD_NAME));     },0
2173,16-01-28,Issue 2173 : Native crash at /data/app-lib/com.gmspartnersltd.earthmiles-1/librealm-jni.so ， Issue #2173 ， realm/realm-java ， GitHub Any idea on what could be causing this? *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** Build fingerprint: 'motorola/XT926_verizon/vanquish:4.4.2/KDA20.62-15.1/15:user/release-keys' Revision: 'p300' pid: 15508  tid: 15508  name: sltd.earthmiles  >>> com.gmspartnersltd.earthmiles <<< signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 00000004     r0 608a8ec0  r1 00000001  r2 608a78d8  r3 00000000     r4 608a8ec0  r5 60a86008  r6 00000004  r7 00000001     r8 608a8ec0  r9 00000c20  sl bed5a278  fp 60887a18     ip 00000001  sp bed5a180  lr 60a3b491  pc 60a31006  cpsr 400e0030     d0  0000000000000000  d1  0000000000000000     d2  0000000000000000  d3  0000000000000000     d4  577126c0579823b0  d5  579d9268579d9230     d6  577127a057712768  d7  57712810579d92a0     d8  0000000000000000  d9  0000000000000000     d10 0000000000000000  d11 0000000000000000     d12 0000000000000000  d13 0000000000000000     d14 0000000000000000  d15 0000000000000000     d16 416c70e000000002  d17 0000000200000002     d18 00000004416c70e0  d19 0000000200000003     d20 00000000416c61e8  d21 0000000000000000     d22 416c6890421df2e8  d23 0000000000000000     d24 4240ec9cc1238000  d25 0003000000030000     d26 0000002e0000002d  d27 000000300000002f     d28 0100010001000100  d29 0100010001000100     d30 0000000000000000  d31 0000000000000000     scr 20000010  backtrace:     #00  pc 0007d006  /data/app-lib/com.gmspartnersltd.earthmiles-1/librealm-jni.so     #01  pc 0008748d  /data/app-lib/com.gmspartnersltd.earthmiles-1/librealm-jni.so  code around pc:     60a30fe4 46022300 f0024630 e7eefeb3 6089f504       60a30ff4 f7ea4629 4620fd57 f7ff2100 f8d4fc8f       60a31004 f8533448 e8bd0027 e92d87f0 460541f0       60a31014 8234f8d0 4617460e 45442400 4621d00a       60a31024 f7ff4628 4631ffbb 3401463a 6cdb6803       60a31034 e7f24798 81f0e8bd 41f3e92d 46074616       60a31044 0042e88d e893466a 461c0003 fc3cf7f7       60a31054 42986823 d0094605 2c08f850 429a9b00       60a31064 f850d104 9b012c04 d00e429a 46316938       60a31074 ffa3f7bf 4629b948 4620466a fe80f7d8       60a31084 46316938 f7ff4622 b002ffc0 81f0e8bd       60a31094 43f8e92d 69004605 4691460e fa51f7c7       60a310a4 240068f7 42bc4680 4621d00b f7d54630       60a310b4 4641f8fd 3401464b 46284602 ffbcf7ff       60a310c4 e8bde7f1 e92d83f8 460641f0 46174688       60a310d4 fb3ef7bf 0301ea50 f110d016 464234ff    code around lr:     60a3b470 46206823 3b012101 e8bd6023 f7b741f0       60a3b480 e92dbdf7 461741f3 4680461c fd88f7f5       60a3b490 ac014621 46384606 fd82f7f5 46054639       60a3b4a0 f7c94620 4621fd54 0010f106 f975f7f3       60a3b4b0 f7f14620 4620ffda 61754641 fd47f7c9       60a3b4c0 f1054621 f7f30014 4620f968 ffcdf7f1       60a3b4d0 b00261ae 81f0e8bd 4615b5f0 e000f8d0       60a3b4e0 6846460f cd0fb087 c40f466c e8954632       60a3b4f0 466b0003 0003e884 46394670 fe4cf7fd       60a3b500 bdf0b007 41f0e92d 8b02ed2d 8b40eeb0       60a3b510 4604b084 2101460f f7b74616 4639fda9       60a3b520 f7f54620 4631fd3d 0b48eeb0 f940f7ce       60a3b530 689d6ae3 f105b315 46210804 4640ac04       60a3b540 fe98f7ec 4640211f fe31f7ec f8441c43       60a3b550 23083d0c 70034621 f7bc4638 4630fe02       60a3b560 f7bc4621 ab04fdfe ed239a01 cb038b02,1
2200,16-01-30,Issue 2200 : findFirstAsync() asObservable doesn't always return when items are not found ， Issue #2200 ， realm/realm-java ， GitHub Goals + Expected Results To load a single object from the database as an observable by querying it's ID  while returning null (or error) when an item with a specified ID is not found  as specified in the JavaDocs. Actual results Loading a single valid item by its ID is fine  the first item emitted is not loaded so the filter returns false. When the RealmObject is loaded then the filter returns true on the seconds pass and the object is passed along. When an empty ID is passed to the query  it executes and the same process begins where a non loaded item is filtered out but then nothing is ever returned. According to the docs  it should yield a null object. Even if this is expected behaviour  it means it becomes impossible to detect if an item wasn't found or if a query is just taking an extremely long time. Steps + Sample Call getFooById() with an empty String. getFooById("").observeOn(AndroidSchedulers.mainThread()).subscribe(new FooSubscriber());  public Observable<Foo> getFooById(String id) {      return realm.where(Foo.class)             .equalTo("id"  id)             .findFirstAsync()             .asObservable()             .filter(this::filterResults); }  private boolean filterResults(Foo result) {     return result.isLoaded(); }  private class FooSubscriber extends Subscriber<Foo> {      @Override     public void onCompleted() {         doCompletedThing();     }      @Override     public void onError(Throwable error) {         //handle errors     }      @Override     public void onNext(Foo foo) {         //do something with foo         onCompleted();     } }  Versions Android Studio 1.5.1 RxJava 1.0.17 Realm 0.87.2,0
2224,16-02-03,Issue 2224 : LG F320S API 19 Native Crash ， Issue #2224 ， realm/realm-java ， GitHub During instrument test on my own device  LG F320S API 19  I'm seeing a native crash on RealmAsyncQueryTests > accessingRealmListOnUnloadedRealmObjectShouldThrow. I am not entirely sure if this crash has any correlation to the issue #1795  but I believe it might be worth to look into it. Here are the crash messages. Console io.realm.RealmAsyncQueryTests > accessingRealmListOnUnloadedRealmObjectShouldThrow[LG-F320S - 4.4.2] FAILED Test failed to run to completion. Reason: 'Instrumentation run failed due to 'Native crash''. Check device logcat for details Tests on LG-F320S - 4.4.2 failed: Instrumentation run failed due to 'Native crash' :realm:realm-library:connectedDebugAndroidTest FAILED :connectedCheck FAILED  FAILURE: Build failed with an exception.  Instrument test report accessingRealmListOnUnloadedRealmObjectShouldThrow Test failed to run to completion. Reason: 'Instrumentation run failed due to 'Native crash''. Check device logcat for details Logcat Output Output Reproducibility I can reproduce anytime. The last test was done on commit 26401c7.,0
2255,16-02-10,Issue 2255 : Naming restriction of attributes in RealmObjects ， Issue #2255 ， realm/realm-java ， GitHub Goal: create a RealmObject class with an attribute named "realm". Expected results: No compilation errors Actual results: "Error: realm has private accessor" compiler error  due to internal realm.io variable also called "realm"  thus the whole proxy class is getting confused as to which realm to use for the proxy functions. Steps to reproduce: Create a class extending RealmObject  add an attribute named realm  compile Realm Version: 0.87.0 Well  the problem is pretty obvious. The proxy class is extending the actual class  tries to override the attribute named realm  because apparently you use a variable called "realm" for the proxy implementation. The proxy class then finds that this variable has a private accessor and throws an exception. Either disallow attributes with the name "realm" (bad idea) or rename the internal attribute to "proxyRealm" or something like that.,0
2282,16-02-15,Issue 2282 : Terminal distinct() invalidates all previous distinct()  resulting in unexpected values. ， Issue #2282 ， realm/realm-java ， GitHub When more than one distinct() are called in query chain  e.g. distinct().equalTo().distinct()  the last distinct() will discard all the effects of previous distinct() as it is designed. This behavior results in unexpected values in terms of the final objects set.,0
2292,16-02-17,Issue 2292 : Query in realm.executeTransaction success callback is not work  realm is not being update yet for some case ， Issue #2292 ， realm/realm-java ， GitHub Here is the sample code. This code also reproduce the issue #2115 In MyApplication.java Query in callback can get the data had been saved Realm realm = Realm.getDefaultInstance();         Log.e("lh"  "before save " + realm.allObjects(Users.class).size());         realm.executeTransaction(new Realm.Transaction() {             @Override             public void execute(Realm realm) {                 Users users = new Users();                 users.setId(UUID.randomUUID().toString());                 users.setName("test");                 realm.copyToRealm(users);             }         }  new Realm.Transaction.Callback() {             @Override             public void onSuccess() {                 //realm already update                 Log.e("lh"  "after save " + realm.allObjects(Users.class).size());                 realm.close();             }         }); But in FirstFragment.java  query immediately will failed  delay 1s and re-query will be work. private void updateEvent() {         String id = UUID.randomUUID().toString();         Log.e("lh"  "before save " + id + "----" + Realm.getDefaultInstance().allObjects(Event.class).size());         realm.executeTransaction(realm1 -> {             Event games = new Event();             games.setId(id);             games.setName("test-name!!");             realm1.copyToRealmOrUpdate(games);         }  new Realm.Transaction.Callback() {             @Override             public void onSuccess() {                 super.onSuccess();                 //Not update yet                 Log.e("lh"  "save " + id + " result ...." + realm.allObjects(Event.class).size());                  //Delay 1s  will be work                 new TimerTask(1000).startTask(() -> Log.e("lh"  "save " + id + " result after 1s...." + realm.allObjects(Event.class).size()));             }         });     } But in SecondFragment.java  the subscription can update the new Event object successfully @Override     public void onResume() {         super.onResume();         subscription = realm.where(Event.class)                 .findAllAsync()                 .asObservable()                 .subscribe(event -> {                     textView.setText("");                     for (Event e :                             event) {                         textView.append("second - event id: " + e.getId());                     }                 });     },0
2303,16-02-19,Issue 2303 : `./gradlew test` is not running on CI  and mockito cannot mock final Realm class ， Issue #2303 ， realm/realm-java ， GitHub Two issues: ./gradlew test will fail unitTestExample because of when(Realm.getInstance(any(RealmConfiguration.class))).thenReturn(mockRealm);  will fail. Realm is an static class which cannot be mocked by Mockito. We might have to use PowerMock instead Enable ./gradlew test on CI.,0
2308,16-02-20,Issue 2308 : io.realm.exceptions.RealmError: Unrecoverable error. open() failed: No such file or directory in io_realm_internal_SharedGroup.cpp line 188 ， Issue #2308 ， realm/realm-java ， GitHub Hi  I keep getting the above error in my app(crashes) when I logout and re-login. Using the realm config realmConfiguration = new RealmConfiguration.Builder(this) .name("hombotdata.realm") .deleteRealmIfMigrationNeeded() .schemaVersion(1) .build(); Realm.setDefaultConfiguration(realmConfiguration); On logout  I close out all open instances of realm and delete the realm database using Realm.deleteRealm(realmConfiguration); Even though the app crashes  when I reopen it  it's succesfully logged in(Session data is stored and the app is able to resume the session). How do I fix it? StackTrace: io.realm.exceptions.RealmError: Unrecoverable error. open() failed: No such file or directory in io_realm_internal_SharedGroup.cpp line 188 at io.realm.internal.SharedGroup.nativeCommitAndContinueAsRead(Native Method) at io.realm.internal.SharedGroup.commitAndContinueAsRead(SharedGroup.java:99) at io.realm.internal.ImplicitTransaction.commitAndContinueAsRead(ImplicitTransaction.java:60) at io.realm.internal.SharedGroupManager.commitAndContinueAsRead(SharedGroupManager.java:116) at io.realm.BaseRealm.commitTransaction(BaseRealm.java:292) at io.realm.Realm.commitTransaction(Realm.java:108) at com.vikilabs.hombot_android.home.HomeModel$3.onResponse(HomeModel.java:141) at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall$1$1.run(ExecutorCallAdapterFactory.java:65) at android.os.Handler.handleCallback(Handler.java:739) at android.os.Handler.dispatchMessage(Handler.java:95) at android.os.Looper.loop(Looper.java:155) at android.app.ActivityThread.main(ActivityThread.java:5721) at java.lang.reflect.Method.invoke(Native Method) at java.lang.reflect.Method.invoke(Method.java:372) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1029) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:824),0
2316,16-02-23,Issue 2316 : Add a check if database file exists when Realm.migrateRealm() is called. ， Issue #2316 ， realm/realm-java ， GitHub if Realm.migrateRealm() is called when Realm file does not exist  it may create wrong Realm file(no schema contained) or may cause the exception in Migration code. This issue is reported by @tiro105 on slack chat. Thanks! We have 2 choices in the case of missing Realm file. throw exception if Realm file does not exist create Realm file and execute normal initialization of schema instead of executing migration What do you think? @realm/java,0
2321,16-02-23,Issue 2321 : InvalidUseOfMatchersException on ExampleActivityTest ， Issue #2321 ， realm/realm-java ， GitHub If we execute./gradlew test on examples directory  we would encounter the following error: io.realm.examples.unittesting.ExampleActivityTest > shouldBeAbleToAccessActivityAndVerifyRealmInteractions                                                     FAILED     java.lang.ExceptionInInitializerError at ExampleActivityTest.java:81         Caused by: org.mockito.exceptions.misusing.InvalidUseOfMatchersException at ExampleActivityTest.java:81,1
2323,16-02-24,Issue 2323 : HashCode not working correctly ， Issue #2323 ， realm/realm-java ， GitHub Right now we use the following for hashCode:         String realmName = realm.getPath();         String tableName = row.getTable().getName();         long rowIndex = row.getIndex();          int result = 17;         result = 31 * result + ((realmName != null) ? realmName.hashCode() : 0);         result = 31 * result + ((tableName != null) ? tableName.hashCode() : 0);         result = 31 * result + (int) (rowIndex ^ (rowIndex >>> 32));         return result;  The problem is rowIndex might suddenly change through the use of moveLastOver. This will change the hashCode unexpectedly and break things like Set: https://docs.oracle.com/javase/7/docs/api/java/util/Set.html Cocoa currently uses the PrimaryKey value (which is not allowed to change) if possible  otherwise fallback to the default hashcode implementation. This has the downside that result.get(0).equals(result.get(0)) == false. Without persistent identifiers we have to accept one of the short-comings ? I would be tempted to say that our current approach is OK and we should just document that hashCode is not stable and can change. With #2196 soon ready  people have more tools to work around it anyway. What do you think @realm/java ?,0
2324,16-02-24,Issue 2324 : RealmPrimaryKeyConstraintException when copyToOrUpdateRealm ， Issue #2324 ， realm/realm-java ， GitHub Hey guys. I get the exception in the bottom when trying to copyToOrUpdate realm. When using RealmObjects which have a Realmlist. Is it necessary to commit RealmList-objects to the db individually  before adding them to the RealmList? Or can you create the whole RealmObject including RealmLists and then commiting?  java.lang.RuntimeException:  An error occured while executing doInBackground()      at android.os.AsyncTask$3.done(AsyncTask.java:304)      at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:355)      at java.util.concurrent.FutureTask.setException(FutureTask.java:222)      at java.util.concurrent.FutureTask.run(FutureTask.java:242)      at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:231)      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)      at java.lang.Thread.run(Thread.java:818) Caused by: io.realm.exceptions.RealmPrimaryKeyConstraintException: Value already exists: 221       at io.realm.internal.Table.throwDuplicatePrimaryKeyException(Table.java:636)       at io.realm.internal.Table.checkIntValueIsLegal(Table.java:630)       at io.realm.internal.UncheckedRow.setLong(UncheckedRow.java:208)       at io.realm.LikeEntityRealmProxy.setLikedById(LikeEntityRealmProxy.java:88)       at io.realm.LikeEntityRealmProxy.copy(LikeEntityRealmProxy.java:249)       at io.realm.LikeEntityRealmProxy.copyOrUpdate(LikeEntityRealmProxy.java:242)       at io.realm.NewsEntityRealmProxy.update(NewsEntityRealmProxy.java:1210)       at io.realm.NewsEntityRealmProxy.copyOrUpdate(NewsEntityRealmProxy.java:1042)      at io.realm.DefaultRealmModuleMediator.copyOrUpdate(DefaultRealmModuleMediator.java:166)        at io.realm.Realm.copyOrUpdate(Realm.java:1166)      at io.realm.Realm.copyToRealmOrUpdate(Realm.java:714)       at dk.miracle.grapevine.realm_db.NewsDAO.createNewsObject(NewsDAO.java:132)       at dk.miracle.grapevine.realm_db.NewsDAO.access$000(NewsDAO.java:29)       at dk.miracle.grapevine.realm_db.NewsDAO$1.doInBackground(NewsDAO.java:106)       at dk.miracle.grapevine.realm_db.NewsDAO$1.doInBackground(NewsDAO.java:98)       at android.os.AsyncTask$2.call(AsyncTask.java:292)       at java.util.concurrent.FutureTask.run(FutureTask.java:237)       at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:231)?      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)?      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)?      at java.lang.Thread.run(Thread.java:818),0
2348,16-02-26,Issue 2348 : [0.88-SNAPSHOT] RealmTransformer should support both 1.5 and 2.0.0-beta ， Issue #2348 ， realm/realm-java ， GitHub Using latest snapshot i get following error during gradle sync: Error:Unable to load class 'io.realm.transformer.RealmTransformer'. buildscript {     repositories {         jcenter()         maven {             url 'http://oss.jfrog.org/artifactory/oss-snapshot-local'         }         maven {             url "https://jitpack.io"         }     }     dependencies {         classpath 'io.realm:realm-gradle-plugin:0.88.0-SNAPSHOT'     } }  apply plugin: 'realm-android',0
2356,16-02-27,Issue 2356 : Kotlin: Package level functions cannot be imported from library project with new gradle plugin ， Issue #2356 ， realm/realm-java ， GitHub This is a pretty elaborate case so hopefully I can explain it well enough. We have a project consisting of a main application and a library project. The library project contains Realm models that are shared. Using the new plugin on both the main application and the library project causes the main project to not see the package level functions in the library. I've attached a small sample project to show what I mean. Given this file in the library project package io.vokal.realmtest.model  import io.realm.* import io.realm.annotations.*  @RealmClass open class Dog(     @PrimaryKey     public open var name: String = "spot" ): RealmObject() { }  @RealmModule(library = true  allClasses = true) public class LibraryModule { }  public fun Realm.findSpot(): Dog {     return where(Dog::class.java).equalTo("name"  "spot").findFirst() } I should be able to import findSpot in the main activity. Instead I receive e: /home/wmbest2/realm-library-test/app/src/main/kotlin/io/vokal/realmtest/MainActivity.kt: (37  23): Unresolved reference: findSpot realm-library-test.zip,0
2366,16-02-29,Issue 2366 : RealmChangeListener not called when setting null value ， Issue #2366 ， realm/realm-java ， GitHub When setting the value of a field to null  the RealmChangeListener is not being called. Setting a empty string (or any other value for that matter) does trigger the notification,0
2368,16-03-01,Issue 2368 : DynamicRealmObject can't set the list field ， Issue #2368 ， realm/realm-java ， GitHub I have DynamicRealmObject instance that has list field that is connected to some scheme  but when I use DynamicRealmObject.setList - I have an exception that says that list items should be the same type as original object is java.lang.IllegalArgumentException: Element at index 0 is not the proper type. Was class_testInnerWithList3_details expected class_testInnerWithList3. at io.realm.DynamicRealmObject.setList(DynamicRealmObject.java:595) at com.kinvey.android.cache.ClassHash.saveData(ClassHash.java:209) at com.kinvey.android.cache.RealmCache.insertOrUpdate(RealmCache.java:285) at com.kinvey.android.cache.RealmCache.save(RealmCache.java:155) at com.kinvey.androidTest.cache.CacheTest.testSaveWithInnerList(CacheTest.java:179) at java.lang.reflect.Method.invoke(Native Method) at java.lang.reflect.Method.invoke(Method.java:372) at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) at org.junit.runners.ParentRunner.run(ParentRunner.java:363) at org.junit.runners.Suite.runChild(Suite.java:128) at org.junit.runners.Suite.runChild(Suite.java:27) at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) at org.junit.runners.ParentRunner.run(ParentRunner.java:363) at org.junit.runner.JUnitCore.run(JUnitCore.java:137) at org.junit.runner.JUnitCore.run(JUnitCore.java:115) at android.support.test.internal.runner.TestExecutor.execute(TestExecutor.java:54) at android.support.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:240) at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:1873) in my test I create object with scheme name testInnerWithList3 and list items are expected to be testInnerWithList3_details and when I'm trying to use DynamicRealmObject.setList(RealmList) I got following exception,0
2381,16-03-03,Issue 2381 : Missing checking when call `RealmList.add()`/`set` with `DynamicObject` ， Issue #2381 ， realm/realm-java ， GitHub The below test should pass as well as other RealmList's methods add(int location  E object)/set(int location  E object)     @Test     public void getList_addWrongTypeTo() {         DynamicRealm dynamicRealm = DynamicRealm.getInstance(realm.configuration);         dynamicRealm.beginTransaction();          DynamicRealmObject allTypes = dynamicRealm.createObject(AllTypes.CLASS_NAME);         allTypes.setString(AllTypes.FIELD_STRING  "bender");          DynamicRealmObject cat = dynamicRealm.createObject(Cat.CLASS_NAME);         cat.setString("name"  "nibbler");          RealmList<DynamicRealmObject> list = allTypes.getList(AllTypes.FIELD_REALMLIST);         list.add(cat);         thrown.expect(IllegalArgumentException.class);          dynamicRealm.commitTransaction();     },0
2391,16-03-06,Issue 2391 : Bad Version exception. (Please stop send error to internal handler.) ， Issue #2391 ， realm/realm-java ， GitHub Bad version exception still happens and you seem don't have solution about this. It happens in findAllAsync or findAllSortedAsync. So  I do try-catch to all usage of the methods. But bad version exception fires again and kill app cause the methods don't allow send exception to us  just kill app! (why???) We release our app with realm recently and bad version exception is most number of crash ever  very ever. We have more than 1 million users in our app  and it is now giving users very bad experience. I think you should fix it or for temporal solution  do not just throw exception in your sdk to kill app. (If you can't  we have to change DB to another... But I don't want it and I think you too.) One more  it is very bad exception and we get some upset about you haven't solved this bug even though this issue happened at Dec  2015. Please look at this issue seriously.,0
2408,16-03-10,Issue 2408 : ArrayIndexOutOfBoundsException: rowIndex is less than 0 ， Issue #2408 ， realm/realm-java ， GitHub Goal (what do you want to achieve?) I am changing status of a field in realm table continuously Expected Results The status should change in the database Actual Results (e.g. full stack trace with exception) 03-10 17:27:50.122 28586-28586/com.workoutguru.workoutcash E/AndroidRuntime: FATAL EXCEPTION: main 03-10 17:27:50.122 28586-28586/com.workoutguru.workoutcash E/AndroidRuntime: Process: com.workoutguru.workoutcash  PID: 28586 03-10 17:27:50.122 28586-28586/com.workoutguru.workoutcash E/AndroidRuntime: java.lang.ArrayIndexOutOfBoundsException: rowIndex is less than 0. 03-10 17:27:50.122 28586-28586/com.workoutguru.workoutcash E/AndroidRuntime:     at io.realm.internal.TableView.nativeGetSourceRowIndex(Native Method) 03-10 17:27:50.122 28586-28586/com.workoutguru.workoutcash E/AndroidRuntime:     at io.realm.internal.TableView.getSourceRowIndex(TableView.java:158) 03-10 17:27:50.122 28586-28586/com.workoutguru.workoutcash E/AndroidRuntime:     at io.realm.RealmResults.get(RealmResults.java:174) 03-10 17:27:50.122 28586-28586/com.workoutguru.workoutcash E/AndroidRuntime:     at com.workoutguru.workoutcash.CompanyGoals_AllGoals_Fragment$CompanyAllGoalsAdapter$CompanyAllGoalsAdapterViewHolder$1$1.onResponse(CompanyGoals_AllGoals_Fragment.java:668) 03-10 17:27:50.122 28586-28586/com.workoutguru.workoutcash E/AndroidRuntime:     at retrofit.ExecutorCallAdapterFactory$ExecutorCallback$1.run(ExecutorCallAdapterFactory.java:86) 03-10 17:27:50.122 28586-28586/com.workoutguru.workoutcash E/AndroidRuntime:     at android.os.Handler.handleCallback(Handler.java:739) 03-10 17:27:50.122 28586-28586/com.workoutguru.workoutcash E/AndroidRuntime:     at android.os.Handler.dispatchMessage(Handler.java:95) 03-10 17:27:50.122 28586-28586/com.workoutguru.workoutcash E/AndroidRuntime:     at android.os.Looper.loop(Looper.java:135) 03-10 17:27:50.122 28586-28586/com.workoutguru.workoutcash E/AndroidRuntime:     at android.app.ActivityThread.main(ActivityThread.java:5343) 03-10 17:27:50.122 28586-28586/com.workoutguru.workoutcash E/AndroidRuntime:     at java.lang.reflect.Method.invoke(Native Method) 03-10 17:27:50.122 28586-28586/com.workoutguru.workoutcash E/AndroidRuntime:     at java.lang.reflect.Method.invoke(Method.java:372) 03-10 17:27:50.122 28586-28586/com.workoutguru.workoutcash E/AndroidRuntime:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:905) 03-10 17:27:50.122 28586-28586/com.workoutguru.workoutcash E/AndroidRuntime:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:700)  Version of Realm and tooling Realm version(s): compile 'io.realm:realm-android:0.87.5' Android Studio version: android 1.4 Android version(s) on device/simulator: Device version 5.1 API:22,1
2413,16-03-11,Issue 2413 : 0.88.0 fails to build model classes which use the third-party annotation (0.88.0 conflicts with Jackson annotation processing) ， Issue #2413 ， realm/realm-java ， GitHub Goal I use bunch of different libraries  including Realm and Jackson. Expected Results Project builds with Jackson annotations. Actual Results FAILURE: Build failed with an exception.  * What went wrong: Execution failed for task ':app:transformClassesWithRealmTransformerForDevDebug'. > java.lang.ClassNotFoundException: com.fasterxml.jackson.annotation.JsonFormat  * Try: Run with --info or --debug option to get more log output.  * Exception is: org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:transformClassesWithRealmTransformerForDevDebug'.     at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)     at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)     at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)     at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)     at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)     at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:52)     at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)     at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)     at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)     at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:203)     at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:185)     at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:66)     at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:50)     at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)     at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40) Caused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: com.fasterxml.jackson.annotation.JsonFormat     at com.android.builder.profile.Recorder$Block.handleException(Recorder.java:54)     at com.android.builder.profile.ThreadRecorder$1.record(ThreadRecorder.java:57)     at com.android.builder.profile.ThreadRecorder$1.record(ThreadRecorder.java:47)     at com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:173)     at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:75)     at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.doExecute(AnnotationProcessingTaskFactory.java:244)     at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:220)     at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.execute(AnnotationProcessingTaskFactory.java:231)     at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:209)     at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:80)     at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:61)     ... 14 more Caused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.annotation.JsonFormat     at javassist.CtClassType.toAnnoType(CtClassType.java:696)     at javassist.CtClassType.toAnnotationType(CtClassType.java:586)     at javassist.CtField.getAnnotations(CtField.java:317)     at javassist.CtField.getAnnotations(CtField.java:290)     at javassist.CtField$getAnnotations.call(Unknown Source)     at io.realm.transformer.RealmTransformer$_transform_closure9$_closure16.doCall(RealmTransformer.groovy:115)     at io.realm.transformer.RealmTransformer$_transform_closure9.doCall(RealmTransformer.groovy:114)     at io.realm.transformer.RealmTransformer.transform(RealmTransformer.groovy:113)     at com.android.build.api.transform.Transform.transform(Transform.java:308)     at com.android.build.gradle.internal.pipeline.TransformTask$3.call(TransformTask.java:178)     at com.android.build.gradle.internal.pipeline.TransformTask$3.call(TransformTask.java:174)     at com.android.builder.profile.ThreadRecorder$1.record(ThreadRecorder.java:55)     ... 23 more   BUILD FAILED  Steps & Code to Reproduce Add "com.fasterxml.jackson.core:jackson-annotations:2.7.2" to dependencies. Use Jackson annotations in RealmObject subclass  e.g. JsonFormat. // omitted getters  setters  etc public class Dialog extends RealmObject {     @PrimaryKey     private int id;     @JsonFormat(shape=JsonFormat.Shape.STRING  pattern="yyyy-MM-dd'T'HH:mm:ss'Z'"  timezone="UTC")     private Date date; } Version of Realm and tooling Realm version(s): 0.88.0 Android Studio version: 2.0.0-beta6  Gradle 2.11 P.S. Works on 0.87.5,0
2416,16-03-11,Issue 2416 : Realm.getInstance(RealmConfiguration) error ， Issue #2416 ， realm/realm-java ， GitHub Hi  I've updated Realm from 0.87.5 to 0.88.00 and I am getting a NullPointerException error when I try to open a new instance without close the previous opened instance. I have an Activity that I open a Realm instance on onCreate and I close it on onDestroy  but I have to start an IntentService and when this IntentService open an another Realm instance  I get a NullPointerException. If I close the realm of Activity before onDestroy  nothing happens.         config = new RealmConfiguration.Builder(context)                 .name(Environment.REALM_NAME)                 .schemaVersion(Environment.REALM_VERSION)                 .build();          realm = Realm.getInstance(config);  I am getting a NullPointerException when I open Realm.getInstance(config) twice without close the first one. If I close the first instance  it is ok.,0
2417,16-03-11,Issue 2417 : std::exception in io_realm_internal_TableQuery.cpp line 1682 when calling RealmResults.load() with multiple Realm instances ， Issue #2417 ， realm/realm-java ， GitHub Steps to reproduce Obtain an instance of Realm Execute an async transaction on it Obtain a second instance of Realm with same configuration and on the same thread (it will return the same instance as the first Realm) Execute an async query Call load() to synchronously wait for the query to execute Issue The load() method throws a native exception: std::exception in io_realm_internal_TableQuery.cpp line 1682. this exception is swallowed on the Java side  but I managed to debug it and I discovered it's actually a BadVersionException. After some investigation I think the issue is in the invocation of Realm.getInstance() after submitting the first transaction. If that happens before (or if I reuse the same Realm variable) everything works correctly. I already discussed with @cmelchior on Slack about the issue. Code Sample (in Kotlin ? ) val realm = Realm.getInstance(realmConfiguration) realm.executeTransactionAsync {     it.deleteAll() } val realm2 = Realm.getInstance(realmConfiguration) realm2.where(RealmDocument::class.java).findAllAsync().load() Version of Realm and tooling Realm version(s): 0.88.0 Android Studio version: 2.0 Which Android version and device: Emulator with 6.0,1
2420,16-03-11,Issue 2420 : RealmConfiguration.hashCode() should take into account rxObservableFactory ， Issue #2420 ， realm/realm-java ， GitHub No description provided.,0
2429,16-03-12,Issue 2429 : Received an error in Jni: Failure when converting long string to UTF-16 ， Issue #2429 ， realm/realm-java ， GitHub JNI DETECTED ERROR IN APPLICATION: input is not valid Modified UTF-8: illegal continuation byte 0x2e 03-12 00:19:49.679 8033-10913/com.tattva.app A/art: art/runtime/java_vm_ext.cc:410]     string: 'Unrecoverable error. Failure when converting long string to UTF-16 error_code = 8; retcode = 0; StringData.size = 116289; StringData.data = ... I've emailed the entire stacktrace to your email (help@realm.io)  from my email saket@saket.me. Could not post it here publicly since it contains data I do not wish to make public. Goal Nothing. I was debugging my app and this happened out of nowhere. Steps & Code to Reproduce No idea. Couldn't reproduce. Version of Realm and tooling Realm version(s): 0.87 Android Studio version: 2.1 Which Android version and device: Android 5.1  Moto G3,0
2432,16-03-12,Issue 2432 : Add DT_SONAME header to shared library ， Issue #2432 ， realm/realm-java ， GitHub reported by takke in twitter https://twitter.com/takke/status/707922440068792322 Realm's shared libraries do not have DT_SONAME header in it. current: $ ./realm/realm-jni/build/standalone-toolchains/arm/bin/arm-linux-androideabi-objdump --private-headers  realm/realm-library/src/main/jniLibs/armeabi/librealm-jni.so |grep SONAME,0
2439,16-03-14,Issue 2439 : DynamicRealmObject.toString() does not honor null values ， Issue #2439 ， realm/realm-java ， GitHub Goal DynamicRealmObject.toString() shows null value as "null". Remove "class_" prefix from type name in that String. Align the format to the String from typed RealmObject. Expected Results Nullables = [{str:null} {bool:null} {num:null} {time:null} {bytes:null}]  Actual Results class_Nullables = [{str: null}  {bool: false}  {num: 0}  {time: Thu Jan 01 09:00:00 GMT+09:00 1970}  {bytes: null}]  Code Sample public class Nullables extends RealmObject {      private String str;     private Boolean bool;     private Integer num;     private Date time;     private byte[] bytes;      // getters and setters } Realm realm = Realm.getInstance(new RealmConfiguration.Builder(this).deleteRealmIfMigrationNeeded().build()); try {     final Nullables nullables = new Nullables();     realm.executeTransaction(new Realm.Transaction() {         @Override         public void execute(Realm realm) {             realm.deleteAll();             realm.copyToRealm(nullables);         }     }); } finally {     realm.close(); }  final DynamicRealm dynamicRealmBefore = DynamicRealm.getInstance(new RealmConfiguration.Builder(this).build()); try {     System.out.println(dynamicRealmBefore.allObjects("Nullables").first().toString()); } finally {     dynamicRealmBefore.close(); } Version of Realm and tooling Realm version(s): 0.88.0 Android Studio version: 2.1 Preview1 Which Android version and device: N preview1,0
2459,16-03-15,Issue 2459 : RealmError: Incompatible lock file /  After 2.0 RealmFileException  All processes sharing a single file must be the same architecture. ， Issue #2459 ， realm/realm-java ， GitHub Goal To report specific error after upgrading v0.88.0 Expected Results Crash is not occurred. Actual Results Fatal Exception: io.realm.exceptions.RealmError: Unrecoverable error. Incompatible lock file in io_realm_internal_SharedGroup.cpp line 113    at io.realm.internal.SharedGroup.createNativeWithImplicitTransactions(SharedGroup.java)    at io.realm.internal.SharedGroup.(SharedGroup.java:63)    at io.realm.internal.SharedGroupManager.(SharedGroupManager.java:48)    at io.realm.BaseRealm.(BaseRealm.java:76)    at io.realm.Realm.(Realm.java:138)    at io.realm.Realm.createAndValidate(Realm.java:268)    at io.realm.Realm.createInstance(Realm.java:248)    at io.realm.RealmCache.createRealmOrGetFromCache(RealmCache.java:114)    at io.realm.Realm.getInstance(Realm.java:213)    at kr.co.vcnc.android.couple.feature.MainTabIndicator.updateHomeBadge(MainTabIndicator.java:138)    at kr.co.vcnc.android.couple.feature.MainTabIndicator.onAttachedToWindow(MainTabIndicator.java:83)    at android.view.View.dispatchAttachedToWindow(View.java:12626)    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2473)    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2480)    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2480)    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2480)    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2480)    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2480)    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2480)    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2480)    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2480)    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2480)    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1264)    at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1047)    at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:5896)    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:761)    at android.view.Choreographer.doCallbacks(Choreographer.java:574)    at android.view.Choreographer.doFrame(Choreographer.java:544)    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:747)    at android.os.Handler.handleCallback(Handler.java:733)    at android.os.Handler.dispatchMessage(Handler.java:95)    at android.os.Looper.loop(Looper.java:136)    at android.app.ActivityThread.main(ActivityThread.java:5120)    at java.lang.reflect.Method.invokeNative(Method.java)    at java.lang.reflect.Method.invoke(Method.java:515)    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:792)    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:608)    at dalvik.system.NativeStart.main(NativeStart.java)  Steps & Code to Reproduce I got this stack trace from Fabric. I've tested several devices that we have  i can't reproduce it. Instead  i attached some code that error is happening. FYI  at this update (to v0.88.0)  we upgraded Realm's schema version. (We're using deleteRealmIfMigrationNeeded option) Code Sample @Override protected void onAttachedToWindow() {     homeBadgeSubscription = Realm.getInstance(CoupleApplication.getRealmHome())                 .where(RHomeCardViewView.class)                 .equalTo("closed"  false)                 .equalTo("newIndicator"  true)                 .findAllAsync()                 .asObservable()                 .filter(RealmResults::isLoaded)                 .observeOn(AndroidSchedulers.mainThread())                 .subscribe(BasicSubscriber.    <RealmResults<RHomeCardViewView>>create().next(homeCardViewViews -> {                     int size = homeCardViewViews.size();                     updateTextView(size);                 }));  @Override protected void onDetachedFromWindow() {     if (homeBadgeSubscription != null) {         homeBadgeSubscription.unsubscribe();     } }  Version of Realm and tooling Realm version(s): v0.88.0 Which Android version and device: When i first saw this crash  i think this is occurred because users are using BlackBerry. But now Android users have a crash. The peak point is yesterday. (Realm v0.88.0),0
2478,16-03-16,Issue 2478 : @Ignore'd members of certain types in RealmObject produce errors ， Issue #2478 ， realm/realm-java ， GitHub Error reported on SO http://stackoverflow.com/questions/36011077/ignored-members-of-certain-types-in-realmobject-produce-errors Consider the following code:     // ...     import org.json.JSONObject;     import android.graphics.Bitmap;     // ...      public class someObject extends RealmObject     {         @PrimaryKey         private String token;         private byte[] data;         private long updated;          @Ignore         private jsonBuilder jbRoot;      //  @Ignore     //  private JSONObject JSON; // causes compiling error once uncommented     //  @Ignore     //  private Bitmap bmp; // also causes the error Prior to 0.88.0 the code above compiled perfectly. It would not compile on both 0.88.0 & 0.88.1 if I uncommented the ignored JSONObject and/or Bitmap:     Error:Execution failed for task     ':<package>:transformClassesWithRealmTransformerForDebug'.     > javassist.CannotCompileException: cannot find org.json.JSONObject  and     Error:Execution failed for task     ':<package>:transformClassesWithRealmTransformerForDebug'.     > javassist.CannotCompileException: cannot find android.graphics.Bitmap  respectively. But it accepts the ignored private member of one of my own types as shown with the jsonBuilder object. Build script in case anyone needs it:         buildscript {             repositories {                 jcenter()             }             dependencies {                 classpath "io.realm:realm-gradle-plugin:0.88.1" // tried 0.88.0 as well             }         }         apply plugin: 'realm-android'  Thank you. The error above is not actually a blocker but Im just curious why that happens. But I like the 0.88.x changes. :),0
2484,16-03-16,Issue 2484 : build execution fails on Windows after update to 88.2 ， Issue #2484 ， realm/realm-java ， GitHub Goal Build the app successfully after update to 88.2 Expected Results I am able to build Actual Results Error:Execution failed for task ':app:transformClassesWithRealmTransformerForStagingDebug'. cannot find io/realm/MyClassRealmProxy: io.realm.MyClassRealmProxy found in io/realm/MyClassRealmProxy.class Steps & Code to Reproduce I am seeing this error after update to 88.2. When I downgrade back to 87.2 the project builds OK. Version of Realm and tooling Realm version(s): 87.2  88.2 Android Studio version: 1.5.1 OS Version: Windows 10,0
2485,16-03-16,Issue 2485 : RealmResults::asObservable not always returns a value when subscription is not kept in memory ， Issue #2485 ， realm/realm-java ， GitHub Goal What do you want to achieve? Do a lot of simple realm queries with findAllAsync().asObservable() and have them all return a value  even without explicitly holding a reference to its subscription. (or add a note in the docs about the importance of always holding a reference to the subscriptions? for the noobs like me...) Expected Results Whenever we create an observable with findAllAsync().asObservable()  it would be nice to always get a RealmResults  even when we don't hold a reference to the subscription. Actual Results Some observables created with findAllAsync().asObservable() will never call the onNext(...) of the subscription. Steps & Code to Reproduce I created a small Android app showing the problem I'm facing on a bigger application. The important code is on this line: https://github.com/AranHase/TestFindAllAsync/blob/13ba8e68d9b9061825125ff3475c6d7091aa93bf/app/src/main/java/com/example/hasegawa/testfindallasync/MainActivity.kt#L84 In this test  one thousand "Realm observables" are created. Every time one observable is created  a counter gets incremented. For each of those observable  one subscription is created (and may or may not be explicitly stored in memory). When this subscription returns any value  another counter is incremented. When the subscription is stored in memory  then we get the expected behavior (one thousand observables created  and one thousand results). However  when we do not store the subscription in memory  the number of results may not be one thousand. This line determines if the subscription should be kept in memory or not  and it will change the behavior of the program: https://github.com/AranHase/TestFindAllAsync/blob/13ba8e68d9b9061825125ff3475c6d7091aa93bf/app/src/main/java/com/example/hasegawa/testfindallasync/MainActivity.kt#L106 I also tried a flatMap approach in here: https://github.com/AranHase/TestFindAllAsync/blob/13ba8e68d9b9061825125ff3475c6d7091aa93bf/app/src/main/java/com/example/hasegawa/testfindallasync/MainActivity.kt#L114 However  flatMap fails with:                                                                                    java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.FutureTask@b297227 rejected from io.realm.internal.async.RealmThreadPoolExecutor@873a166[Running  pool size = 5  active threads = 5  queued tasks = 100  completed tasks = 125]                                                                                              at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2014)                                                                                              at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:794)                                                                                              at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1340)                                                                                              at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:104)                                                                                              at io.realm.internal.async.RealmThreadPoolExecutor.submit(RealmThreadPoolExecutor.java:68)                                                                                              at io.realm.RealmQuery.findAllAsync(RealmQuery.java:1470)                                                                                              at com.example.hasegawa.testfindallasync.MainActivity$onClick$1.call(MainActivity.kt:90)                                                                                              at com.example.hasegawa.testfindallasync.MainActivity$onClick$1.call(MainActivity.kt:19)                                                                                              at rx.Observable$29.onNext(Observable.java:8031)                                                                                              at rx.observers.SafeSubscriber.onNext(SafeSubscriber.java:139)                                                                                              at rx.internal.operators.OnSubscribeRange$RangeProducer.fastpath(OnSubscribeRange.java:126)                                                                                              at rx.internal.operators.OnSubscribeRange$RangeProducer.request(OnSubscribeRange.java:63)                                                                                              at rx.Subscriber.setProducer(Subscriber.java:209)                                                                                              at rx.Subscriber.setProducer(Subscriber.java:205)                                                                                              at rx.internal.operators.OnSubscribeRange.call(OnSubscribeRange.java:38)                                                                                              at rx.internal.operators.OnSubscribeRange.call(OnSubscribeRange.java:26)                                                                                              at rx.Observable.subscribe(Observable.java:8191)                                                                                              at rx.Observable.subscribe(Observable.java:8158)                                                                                              at rx.Observable.subscribe(Observable.java:8017)                                                                                              at com.example.hasegawa.testfindallasync.MainActivity.onClick(MainActivity.kt:85)                                                                                              at android.view.View.performClick(View.java:5198)                                                                                              at android.view.View$PerformClick.run(View.java:21147)                                                                                              at android.os.Handler.handleCallback(Handler.java:739)                                                                                              at android.os.Handler.dispatchMessage(Handler.java:95)                                                                                              at android.os.Looper.loop(Looper.java:148)                                                                                              at android.app.ActivityThread.main(ActivityThread.java:5417)                                                                                              at java.lang.reflect.Method.invoke(Native Method)                                                                                              at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)                                                                                              at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)  Version of Realm and tooling Realm version(s): 0.88.1 Android Studio version: 2.1 Preview 1 Which Android version and device: Nexus 5 API 23 (emulator),1
2488,16-03-17,Issue 2488 : Illegal Argument: Invalid format of Realm file ， Issue #2488 ， realm/realm-java ， GitHub Actual Results Fatal Exception: java.lang.IllegalArgumentException: Illegal Argument: Invalid format of Realm file.    at io.realm.internal.SharedGroup.createNativeWithImplicitTransactions(SharedGroup.java)    at io.realm.internal.SharedGroup.(SharedGroup.java)    at io.realm.internal.SharedGroupManager.(SharedGroupManager.java)    at io.realm.BaseRealm.(BaseRealm.java)    at io.realm.Realm.(Realm.java)    at io.realm.Realm.createAndValidate(Realm.java:268)    at io.realm.Realm.createInstance(Realm.java:248)    at io.realm.RealmCache.createRealmOrGetFromCache(RealmCache.java:114)    at io.realm.Realm.getInstance(Realm.java:213)    at kr.co.vcnc.android.couple.feature.MainTabIndicator.updateHomeBadge(MainTabIndicator.java:138)    at kr.co.vcnc.android.couple.feature.MainTabIndicator.onAttachedToWindow(MainTabIndicator.java:83)    at android.view.View.dispatchAttachedToWindow(View.java:11888)    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2521)    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2528)    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2528)    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2528)    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2528)    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2528)    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2528)    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2528)    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2528)    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2528)    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1207)    at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1006)    at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:4225)    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:725)    at android.view.Choreographer.doCallbacks(Choreographer.java:555)    at android.view.Choreographer.doFrame(Choreographer.java:525)    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:711)    at android.os.Handler.handleCallback(Handler.java:615)    at android.os.Handler.dispatchMessage(Handler.java:92)    at android.os.Looper.loop(Looper.java:213)    at android.app.ActivityThread.main(ActivityThread.java:4786)    at java.lang.reflect.Method.invokeNative(Method.java)    at java.lang.reflect.Method.invoke(Method.java:511)    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:789)    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:556)    at dalvik.system.NativeStart.main(NativeStart.java)  Steps & Code to Reproduce I can't reproduce it. But what i found out is that it happen where each realm configuration's instance is first created. This exception is grouped with Fatal Exception: io.realm.exceptions.RealmError Unrecoverable error. Incompatible lock file.  i don't know exact ratio of version or device. Version of Realm and tooling Realm version(s): v0.88.2 Which Android version and device: I think most of crash came from 4.1.1 or 4.1.2 (based on each exception log what i saw),0
2491,16-03-17,Issue 2491 : Realm-Plugin breaks apt if Kotlin-plugin is used. ， Issue #2491 ， realm/realm-java ， GitHub Goal Support mixed Java/Kotlin projects Expected Results Allow for the project to specify if apt or kapt should be used. Don't break Dagger2 or ButterKnife. Actual Results Classes that extend from RealmObject are generated. Annotated Java class are not processed. I did manage to get the project to compile by replacing any instance of apt with kapt. But since all my Realm Objects are still in Java I would then get "RealmTransformer doesn't seem to be applied." when trying to create a default RealmConfig. Steps & Code to Reproduce Have any Java Annotated class and the Kotlin Gradle plugin. I've also created a test project with a broken ButterKnife example. The ButterKnife helper class does not get generated. Cause The isKotlinProject assumes that if the project has the Kotlin plugin  then all annotation processing is done with kapt. I'm slowly moving a Java project over to Kotlin. So I need to maintain apt until I can switch to kapt. def isKotlinProject = project.plugins.find {     it.getClass().name == 'org.jetbrains.kotlin.gradle.plugin.KotlinAndroidPluginWrapper' } Fix? Would it be possible to have an optional project variable that would override the current behaviour? Version of Realm and tooling Realm version(s): 0.88.x Android Studio version: 15 Which Android version and device: OS X,0
2492,16-03-17,Issue 2492 : RealmError: Unrecoverable error. Failure when converting short string to UTF-16 ， Issue #2492 ， realm/realm-java ， GitHub Actual Results In Realm v0.88.2 - 1 Fatal Exception: io.realm.exceptions.RealmError: Unrecoverable error. Failure when converting short string to UTF-16 error_code = 4; retcode = 0; StringData.size = 16; StringData.data =  in io_realm_internal_UncheckedRow.cpp line 138    at io.realm.internal.UncheckedRow.nativeGetString(UncheckedRow.java)    at io.realm.internal.UncheckedRow.getString(UncheckedRow.java:169)    at io.realm.RMessageViewRealmProxy.realmGet$key(RMessageViewRealmProxy.java:213)    at kr.co.vcnc.android.couple.model.viewmodel.RMessageView.getKey(RMessageView.java:115)    at kr.co.vcnc.android.couple.feature.chat.ChattingView.replaceData(ChattingView.java:540)    at kr.co.vcnc.android.couple.feature.chat.ChattingActivity.replace(ChattingActivity.java:486)    at kr.co.vcnc.android.couple.feature.chat.ChattingActivity.restoreWalkieTalkieButton(ChattingActivity.java)  In Realm v0.88.2 - 2 Fatal Exception: io.realm.exceptions.RealmError: Unrecoverable error. Failure when computing UTF-16 size error_code = 1; retcode = 0; StringData.size = 65535; StringData.data = ? in io_realm_internal_UncheckedRow.cpp line 138    at io.realm.internal.UncheckedRow.nativeGetString(UncheckedRow.java)    at io.realm.internal.UncheckedRow.getString(UncheckedRow.java:169)    at io.realm.RMessageRealmProxy.realmGet$content(RMessageRealmProxy.java:200)    at kr.co.vcnc.android.couple.between.api.model.chat.RMessage.getContent(RMessage.java:102)    at kr.co.vcnc.android.couple.between.api.model.chat.RMessage.toCObject(RMessage.java:124)    at kr.co.vcnc.android.couple.model.viewmodel.RMessageView.toCObject(RMessageView.java:140)    at kr.co.vcnc.android.couple.feature.chat.ChattingView$ChatAdapter.onBindViewHolder(ChattingView.java:476)  In Realm v0.87.4 Fatal Exception: io.realm.exceptions.RealmError: Unrecoverable error. Failure when converting short string to UTF-16 error_code = 1; retcode = 0; StringData.size = 22; StringData.data = 920000.jpg in io_realm_internal_UncheckedRow.cpp line 138    at io.realm.internal.UncheckedRow.nativeGetString(UncheckedRow.java)    at io.realm.internal.UncheckedRow.getString(UncheckedRow.java:169)    at io.realm.RMessageRealmProxy.getId(RMessageRealmProxy.java:197)    at kr.co.vcnc.android.couple.between.api.model.chat.RMessage.toCObject(RMessage.java:123)    at kr.co.vcnc.android.couple.model.viewmodel.RMessageView.toCObject(RMessageView.java:140)    at kr.co.vcnc.android.couple.feature.chat.ChattingView$ChatAdapter.onBindViewHolder(ChattingView.java:388)    at kr.co.vcnc.android.couple.feature.chat.ChattingView$ChatAdapter.onBindViewHolder(ChattingView.java:366)  Steps & Code to Reproduce I can't reproduce it  but crashes are collected from Fabric. According to information from Fabric  this happens when i try to read message id or message content from Realm. Message's id is encoded as Base58  and Message's content is a arbitrary strings. Code Sample RMessage.java     public static CMessage toCObject(RMessage rMessage) {         if(rMessage == null) {             return null;         }         CMessage cMessage = new CMessage();         cMessage.setCreatedTime(rMessage.getCreatedTime());         cMessage.setUpdatedTime(rMessage.getUpdatedTime());         if (rMessage.getAttachments() != null) {             ArrayList<CAttachment> attachments = new ArrayList<CAttachment>();             for (RAttachment i : rMessage.getAttachments()) {                 if (i != null) {                     attachments.add(RAttachment.toCObject(i));                 }             }             cMessage.setAttachments(attachments);         }         cMessage.setContentType(rMessage.getContentType());         cMessage.setFrom(rMessage.getFrom());         cMessage.setId(rMessage.getId());         cMessage.setContent(rMessage.getContent());         return cMessage;     } Version of Realm and tooling Realm version(s): at leat from 0.87.4 ~ current Which Android version and device:,0
2495,16-03-18,Issue 2495 : UnsatisfiedLinkError exception on ReLinker ， Issue #2495 ， realm/realm-java ， GitHub Expected Results No exception Actual Results http://crashes.to/s/0a06f902ba4 (from VCNC's Crashlytics) Fatal Exception: java.lang.UnsatisfiedLinkError dlopen failed: library "/data/data/kr.co.vcnc.android.couple/app_lib/librealm-jni.so" not found  Steps & Code to Reproduce This exception is only reported by Crashlytics. Version of Realm and tooling Realm version(s): 0.88.2 Which Android version and device: Kitkat and JellyBean: Android 4.4.2 (72%)  4.2.2 (16%)  4.4.4 (10%),1
2496,16-03-18,Issue 2496 : io.realm.internal.Table.finalize() timed out after 10 seconds ， Issue #2496 ， realm/realm-java ， GitHub Copy from #1599 People are still seeing finalizer timeouts on 0.88.2: http://crashes.to/s/360245fd72a We should look into how hard it would be to get rid of finalizers completely IMO. /cc @dalinaum,0
2501,16-03-21,Issue 2501 : RealmProxyMediator not found during travis build ， Issue #2501 ， realm/realm-java ， GitHub Hi! After updating to 0.88 I've got following build problems. Goal Correct build by travis ./gradlew build connectedCheck Expected Results successful build Actual Results General assembleDebug or assembleRelease tasks are successful! But connectedCheck task used by travis fails: FAILURE: Build failed with an exception. What went wrong: Execution failed for task ':xabber:transformClassesWithRealmTransformerForBetaDebugAndroidTest'. javassist.NotFoundException: io.realm.internal.RealmProxyMediator You can see full travis log here Steps & Code to Reproduce build.gradle .travis.yml Project Version of Realm and tooling Realm version(s): 0.88.0 - 0.88.2 (was OK before) gradle: 1.5.0 BuildTools: build-tools-23.0.2 SDK version: android-23,0
2502,16-03-21,Issue 2502 : Running `connectedCheck` on a project without instrumentation tests makes the Realm transformer fail ， Issue #2502 ， realm/realm-java ， GitHub The failure is: javassist.NotFoundException: io.realm.internal.RealmProxyMediator  and it's caused by the fact that  since the test app is empty  the Javassist pool doesn't contain any reference to Realm classes  hence failing at line 89: def baseProxyMediator = classPool.get('io.realm.internal.RealmProxyMediator'),0
2522,16-03-28,Issue 2522 : Crash: table index out of range ， Issue #2522 ， realm/realm-java ， GitHub Realm version: Snapshot 20160218-1450004-77 build. Devices: Adroid 4.0.4 and 4.2.2 devices Got 5 users crashing on this exception: Fatal Exception: io.realm.exceptions.RealmError: Unrecoverable error. Table index out of range in io_realm_internal_Group.cpp line 190 at io.realm.internal.Group.nativeGetTableNativePtr(Unknown Source) at io.realm.internal.Group.getTable(Unknown Source:199) at io.realm.internal.SharedGroupManager.getTable(Unknown Source:88),0
2524,16-03-29,Issue 2524 : SharedGroup crash when init realm file. ， Issue #2524 ， realm/realm-java ， GitHub I said once before about this crash  but I still can't reproduce it. I share crash log below http://crashes.to/s/6f786c3c97c The problem line is mRealm = Realm.getDefaultInstance();  I hope you solve asap  cause it is most crash now for us  and it gives very bad experience to our users.,0
2536,16-03-31,Issue 2536 : Calling setter method in no argument constructor results in NPE ， Issue #2536 ， realm/realm-java ， GitHub Goal Be able to use setter methods in the no arguments constructor. Expected Results No NPE and field set to the given value. Actual Results Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void io.realm.BaseRealm.checkIfValid()' on a null object reference                                                                                 at io.realm.ModelRealmProxy.realmSet$string(ModelRealmProxy.java:62)                                                                                 at de.jonasrottmann.realmtest.Model.setString(Model.java:13)                                                                                 at de.jonasrottmann.realmtest.Model.<init>(Model.java:19)                                                                                 at io.realm.ModelRealmProxy.<init>(ModelRealmProxy.java:51)                                                                                 at io.realm.DefaultRealmModuleMediator.newInstance(DefaultRealmModuleMediator.java:80)                                                                                 at io.realm.BaseRealm.get(BaseRealm.java:521)                                                                                 at io.realm.Realm.createObject(Realm.java:709)  Code Sample public class Model extends RealmObject {     public String string;        public void setString(String string) {         this.string = string;     }        public Model() {         setString("Success!");     } }  Version of Realm and tooling Realm version(s): 0.88.2 Android Studio version: 2.1 Preview 4 Which Android version and device: 6.0.1 (MHC19J) on Nexus 5X,0
2545,16-04-02,Issue 2545 : toString ， Issue #2545 ， realm/realm-java ， GitHub Goal override toString Expected Results toString to return my custom string Actual Results my custom method is not being called and the default realm toString implementation is shown Steps & Code to Reproduce create custom object  override toString Version of Realm and tooling Realm version(s): 0.88.2 Android Studio version: 1.5.1 Which Android version and device: Icecream  Samsung S3,0
2553,16-04-05,Issue 2553 : Realm Shared Group Crash ， Issue #2553 ， realm/realm-java ， GitHub The exception I am getting is as follows Fatal Exception: io.realm.exceptions.RealmError: Unrecoverable error. Wrong transactional state (no active transaction  wrong type of transaction  or transaction already in progress) in io_realm_internal_SharedGroup.cpp line 157        at io.realm.internal.SharedGroup.nativeAdvanceRead(SharedGroup.java)        at io.realm.internal.SharedGroup.advanceRead(SharedGroup.java:86)        at io.realm.internal.ImplicitTransaction.advanceRead(ImplicitTransaction.java:33)        at io.realm.internal.SharedGroupManager.advanceRead(SharedGroupManager.java:74)        at io.realm.HandlerController.realmChanged(HandlerController.java:333)        at io.realm.HandlerController.handleMessage(HandlerController.java:100)        at android.os.Handler.dispatchMessage(Handler.java:98)        at android.os.Looper.loop(Looper.java:148)        at android.os.HandlerThread.run(HandlerThread.java:61),0
2555,16-04-05,Issue 2555 : RealmSchema.remove() doesn't clear primary key metadata ， Issue #2555 ， realm/realm-java ， GitHub There is User table in APP version 1.0: @Table(name="User1") public class User extends RealmObject {      @PrimaryKey     public int    uid;      @Required     public String name; }  In APP version 2.0  add a field age: @Table(name="User2") public class User extends RealmObject {      @PrimaryKey     public int    uid;      @Required     public String name;      public int    age; }  I usually change User table name in version 2.0 by changing annotation. i don't want to call addField or removeField. If the requirement changes every versioni have to write code in Migration every time i change User So  i run such code: RealmConfiguration config = new RealmConfiguration.Builder(getApplicationContext()).build();  Realm realm = Realm.getInstance(config);  realm.beginTransaction(); realm.getSchema().remove("User"); realm.commitTransaction();  realm.beginTransaction(); realm.copyToRealmOrUpdate(user);  And then  throws exception: E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example.realm  PID: 26909 java.lang.IllegalArgumentException: A RealmObject with no @PrimaryKey cannot be updated: class com.example.realm.bean.User at io.realm.Realm.checkHasPrimaryKey(Realm.java:1411) at io.realm.Realm.copyToRealmOrUpdate(Realm.java:764) at com.example.realm.MainActivity.testTable(MainActivity.java:72),0
2567,16-04-07,Issue 2567 : Unrecoverable error. Bad transaction log in io_realm_internal_SharedGroup.cpp ， Issue #2567 ， realm/realm-java ， GitHub Transferred from #2402 No.2 Crash log at http://crashes.to/s/24c6157fa0e Exception see below Fatal Exception: io.realm.exceptions.RealmError: Unrecoverable error. Bad transaction log in io_realm_internal_SharedGroup.cpp line 157        at io.realm.internal.SharedGroup.nativeAdvanceRead(SharedGroup.java)        at io.realm.internal.SharedGroup.advanceRead(SharedGroup.java:86)        at io.realm.internal.ImplicitTransaction.advanceRead(ImplicitTransaction.java:33)        at io.realm.internal.SharedGroupManager.advanceRead(SharedGroupManager.java:74)        at io.realm.HandlerController.realmChanged(HandlerController.java:333)        at io.realm.HandlerController.handleMessage(HandlerController.java:100)        at android.os.Handler.dispatchMessage(Handler.java:98)        at android.os.Looper.loop(Looper.java:136)        at android.app.ActivityThread.main(ActivityThread.java:5120)        at java.lang.reflect.Method.invokeNative(Method.java)        at java.lang.reflect.Method.invoke(Method.java:515)        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:792)        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:608)        at dalvik.system.NativeStart.main(NativeStart.java),0
2611,16-04-15,Issue 2611 : Realm continuously crashing on arm64-v8a architecture ， Issue #2611 ， realm/realm-java ， GitHub Transfer issue from SO http://stackoverflow.com/questions/36639081/realm-continuously-crashing-on-arm64-v8a-architecture I am splitting for different CPU architecture.     ext.versionCodes = ['armeabi': 31  'armeabi-v7a': 32  'arm64-v8a': 33  'mips': 34  'x86': 35  'x86_64': 36]  Realm is crashing in devices which have arm64-v8a like Galaxy S7 Edge & Note 5. Stack trace from Google Developers Console -     *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***     Build fingerprint: 'samsung/hero2qltetmo/hero2qltetmo:6.0.1/MMB29M/G935TUVU2APC8:user/release-keys'     Revision: '15'     ABI: 'arm64'     pid: 31837  tid: 31872  name: AsyncTask #1  >>> com.app <<<     signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x570048         x0   0000007f938d1c08  x1   0000000000000000  x2   0000000000000000  x3   0000000000000000         x4   0000000000000000  x5   0000000000000000  x6   0000000000000000  x7   0000000000000000         x8   0000000000000001  x9   0000007f99bde000  x10  0000007f99bdd000  x11  0000000000000000         x12  0000007f9d88a888  x13  0000000000000001  x14  0000000000000000  x15  0000007f99cfc68c         x16  0000007f846e3820  x17  0000007f9d814038  x18  0000000000000000  x19  0000000000570048         x20  0000007f997a9660  x21  0000007f984a8e00  x22  0000007f938d1c00  x23  0000000012cc51c0         x24  0000000012cc5160  x25  0000000012d70640  x26  0000007f843f3480  x27  0000000000000000         x28  0000000000000001  x29  0000007f843f33f0  x30  0000007f845c702c         sp   0000007f843f33f0  pc   0000007f845c702c  pstate 0000000060000000      backtrace:         #00 pc 00000000000c602c  /data/app/com.app -1/lib/arm64/librealm-jni.so         #01 pc 00000000013a1af4  /data/app/com.app- /oat/arm64/base.odex (offset 0x94b000)  Stack trace from Crashlytics     Caused by java.lang.ExceptionInInitializerError     io.realm.internal.SharedGroupManager. (SharedGroupManager.java:43)     io.realm.BaseRealm. (BaseRealm.java:76)     io.realm.Realm. (Realm.java:126)     io.realm.Realm.createAndValidate (Realm.java:246)     io.realm.Realm.createInstance (Realm.java:231)     io.realm.RealmCache.createRealmOrGetFromCache (RealmCache.java:114)     io.realm.Realm.getDefaultInstance (Realm.java:181)     com.app.display.ActivitySplash$1.doInBackground (ActivitySplash.java:58)     com.app.display.ActivitySplash$1.doInBackground (ActivitySplash.java:52)     android.os.AsyncTask$2.call (AsyncTask.java:287)     java.lang.Thread.run (Thread.java:856),0
2637,16-04-22,Issue 2637 : Generated RealmObjectProxy has wrong lookup for @Required String primary key with 0.89.0 ， Issue #2637 ， realm/realm-java ， GitHub Steps & Code to Reproduce Create a RealmObject with a String field marked with @PrimaryKey and @Required. public class RealmUser extends RealmObject {     @PrimaryKey     @Required     public String _id; } The generated RealmObjectProxy class contains an invalid lookup for the primary key in the copyOrUpdate method. The compile-time exception is: RealmUserRealmProxy.java:276: error: incompatible types: String cannot be converted to long             long rowIndex = table.findFirstLong(pkColumnIndex  ((RealmUserRealmProxyInterface) object).realmGet$_id());                                                                                                                    ^  I traced what I think is the wrong codepath here: https://github.com/realm/realm-java/blob/master/realm/realm-annotations-processor/src/main/java/io/realm/processor/RealmProxyClassGenerator.java#L642 The relevant generated code is: public static RealmUser copyOrUpdate(Realm realm  RealmUser object  boolean update  Map<RealmModel RealmObjectProxy> cache) {     if (object instanceof RealmObjectProxy && ((RealmObjectProxy) object).realmGet$proxyState().getRealm$realm() != null && ((RealmObjectProxy) object).realmGet$proxyState().getRealm$realm().threadId != realm.threadId) {         throw new IllegalArgumentException("Objects which belong to Realm instances in other threads cannot be copied into this Realm instance.");     }     if (object instanceof RealmObjectProxy && ((RealmObjectProxy)object).realmGet$proxyState().getRealm$realm() != null && ((RealmObjectProxy)object).realmGet$proxyState().getRealm$realm().getPath().equals(realm.getPath())) {         return object;     }     RealmUser realmObject = null;     boolean canUpdate = update;     if (canUpdate) {         Table table = realm.getTable(RealmUser.class);         long pkColumnIndex = table.getPrimaryKey();         long rowIndex = table.findFirstLong(pkColumnIndex  ((RealmUserRealmProxyInterface) object).realmGet$_id());         if (rowIndex != TableOrView.NO_MATCH) {             realmObject = new RealmUserRealmProxy(realm.schema.getColumnInfo(RealmUser.class));             ((RealmObjectProxy)realmObject).realmGet$proxyState().setRealm$realm(realm);             ((RealmObjectProxy)realmObject).realmGet$proxyState().setRow$realm(table.getUncheckedRow(rowIndex));             cache.put(object  (RealmObjectProxy) realmObject);         } else {             canUpdate = false;         }     }      if (canUpdate) {         return update(realm  realmObject  object  cache);     } else {         return copy(realm  object  update  cache);     } } Version of Realm and tooling Realm version(s): 0.89.0 Android Studio version: 2.1 Beta 3 Which Android version and device: N/A,0
2654,16-04-24,Issue 2654 : Field that implements RealmModel ， Issue #2654 ， realm/realm-java ， GitHub Can I use fields that implements RealmModel? Thanks!,0
2686,16-04-27,Issue 2686 : Memory Leak leads to Crash ， Issue #2686 ， realm/realm-java ， GitHub Sorry  I am not very sure whether this Crash is caused by Realm  but Android Studio Allocation Tracking shows relevant information with Realm  so I past the main code. Thanks! Goal Fix a Memory Leak bug Expected Results Fix Actual Results When the App is on the MainActivity (as bellow code) page  the memory is increased slowly  and then crashed. Steps & Code to Reproduce Describe your current debugging efforts. Code Sample MainActivity.java package top.honhe.server.activity; import android.content.SharedPreferences; import android.os.Bundle; import android.os.Handler; import android.os.Message; import android.support.v7.app.AppCompatActivity; import android.util.Log; import android.widget.ListView; import org.greenrobot.eventbus.EventBus; import org.greenrobot.eventbus.Subscribe; import org.greenrobot.eventbus.ThreadMode; import java.util.Map; import java.util.Timer; import java.util.TimerTask; import java.util.concurrent.ExecutorService; import java.util.concurrent.Executors; import io.realm.Realm; import io.realm.RealmConfiguration; import io.realm.RealmResults; import top.honhe.server.R; import top.honhe.server.adapter.BedAdapter; import top.honhe.server.event.PingBedResultEvent; import top.honhe.server.model.Bed; import top.honhe.server.utils.Ping; import top.honhe.server.utils.SharePreferenceUtil;  public class MainActivity extends AppCompatActivity{     private static final int PING_BEDTASK_PERIOD = 8000;     private static final int PING_BEDTASK_DELAY = 5000;     private ExecutorService fixedThreadPool;     private EventBus eventBus;     private Realm realm;     private SharedPreferences.OnSharedPreferenceChangeListener prefListener;     private TimerTask timerTask;     private  Timer timer;     private static final int MSG_MONITOR_BED = 1;     private final int nThreads = 10;     public RealmConfiguration realmConf;     private Handler handler = new Handler() {         @Override         public void handleMessage(Message msg) {             super.handleMessage(msg);             switch (msg.what) {                 case MSG_MONITOR_BED:                     startPingBeds();                     break;                 default:             }         }     };     @Override     protected void onCreate(Bundle savedInstanceState) {         super.onCreate(savedInstanceState);         setContentView(R.layout.activity_monitor);         initBedData();         initEventBus();     }     @Override     protected void onResume() {         super.onResume();         initThreadPool();         eventBus.register(this);         startMainBed();     }     private void initThreadPool() {         fixedThreadPool = Executors.newFixedThreadPool(nThreads);     }     private void initEventBus() {         eventBus = EventBus.getDefault();     }     @Subscribe(threadMode = ThreadMode.MAIN)     public void onEvent(PingBedResultEvent event) {         Log.d("TAG"  event.getIp() + " is on: " + event.getisOn());         realm.beginTransaction();         realm.where(Bed.class).equalTo("id"  event.getId()).equalTo("ip"  event.getIp()).findFirst().setOn(event.getisOn());         realm.commitTransaction();     }     private void initBedData() {         realmConf = new RealmConfiguration.Builder(this)                 .name("Main_bed.realm")                 .inMemory()                 .build();         realm = Realm.getInstance(realmConf);         final RealmResults<Bed> bedRealmResults = realm.where(Bed.class).findAll();         final BedAdapter bedAdapter = new BedAdapter(this  bedRealmResults);         ListView listView = (ListView) findViewById(R.id.bedListView);         listView.setAdapter(bedAdapter);         realm.executeTransactionAsync(new Realm.Transaction() {             @Override             public void execute(Realm realm) {                 realm.where(Bed.class).findAll().deleteAllFromRealm();                 for (Map.Entry<String  Bed> entry : SharePreferenceUtil.getInstance().getBeds().entrySet()) {                     realm.copyToRealm(entry.getValue());                 }             }         });         setupBedOnChangeListener();     }     private void setupBedOnChangeListener() {         prefListener = new SharedPreferences.OnSharedPreferenceChangeListener() {             public void onSharedPreferenceChanged(SharedPreferences prefs  String key) {                 String ip = prefs.getString(key  "");                 realm.beginTransaction();                 realm.where(Bed.class).equalTo("id"  key).findFirst().setIp(ip);                 realm.commitTransaction();             }         };         SharePreferenceUtil.getInstance().getSp().registerOnSharedPreferenceChangeListener(prefListener);     }     private void startPingBeds() {         Log.d("StartPingBeds"  "StartPingBeds");         final RealmResults<Bed> bedRealmResults = realm.where(Bed.class).findAll();         for (Bed bed : bedRealmResults) {             startPingThread(new Bed(bed.getId()  bed.getIp()));         }     }     private void startPingThread(final Bed bed) {         fixedThreadPool.submit(new Runnable() {             @Override             public void run() {                 try {                     boolean isOn = Ping.ping(bed);                     PingBedResultEvent pingBedResultEvent = new PingBedResultEvent();                     pingBedResultEvent.setIp(bed.getIp());                     pingBedResultEvent.setId(bed.getId());                     pingBedResultEvent.setIsOn(isOn);                     EventBus eventBus = EventBus.getDefault();                     eventBus.post(pingBedResultEvent);                 } catch (Exception e) {                     e.printStackTrace();                     throw new RuntimeException();                 }             }         });     }     private void startMainBed() {         startMainBedTimerTask();     }     private void startMainBedTimerTask() {         timer = new Timer();         timerTask = new TimerTask() {             @Override             public void run() {                 Message message = new Message();                 message.what = MSG_Main_BED;                 handler.sendMessage(message);             }         };         timer.schedule(timerTask  PING_BEDTASK_DELAY  PING_BEDTASK_PERIOD);     }     @Override     protected void onStop() {         super.onStop();         fixedThreadPool.shutdown();         eventBus.unregister(this);         timer.cancel();     }     @Override     protected void onDestroy() {         super.onDestroy();         realm.removeAllChangeListeners();         SharePreferenceUtil.getInstance().getSp().unregisterOnSharedPreferenceChangeListener(prefListener);     } }  Ping.java package top.honhe.server.utils; import java.io.IOException; import top.honhe.server.model.Bed;  public class Ping {     public static boolean ping(Bed bed){         Runtime runtime = Runtime.getRuntime();         boolean isOn;         try         {             Process  mIpAddrProcess = runtime.exec("/system/bin/ping -c 1 -W 2 " + bed.getIp());             int mExitValue = mIpAddrProcess.waitFor(); //            Log.d("Ping"  " mExitValue "+mExitValue);             if(mExitValue==0){                 isOn = true;             }else{                 isOn = false;             }             return isOn;         }         catch (InterruptedException ignore)         {             ignore.printStackTrace();             System.out.println(" Exception:"+ignore);         }         catch (IOException e)         {             e.printStackTrace();             System.out.println(" Exception:"+e);         }         return false;     } }  Version of Realm and tooling Realm version(s): 0.89.1 Android Studio version: 2.0 Which Android version and device: 4.x  5.x,1
2688,16-04-27,Issue 2688 : Detect ConcurrentModification when deleting from RealmList ， Issue #2688 ， realm/realm-java ， GitHub The following code does not work correctly: RealmList<Dog> dogs = person.getDogs();  for (Dog dog : dogs) {   dog.deleteFromRealm(); }  The reason being that changes to RealmList is reflected at once unlike RealmResult that are not updated until next looper event. The easy work-around is just using dogs.deleteAllFromRealm() but an ConcurrentModificationException should still be thrown in the above case. RealmList keeps track of modCount just like a normal ArrayList  so it can detect ConcurrentModificationExceptions if you operate directly on the RealmList through e.g. list.add()/list.remove()  but that is currently not happening for "indirect" deletes like obj.deleteFromRealm(). I don't have a good solution as there are a number of indirect deletes possible: realm.delete(Dog.class) / dog.deleteFromRealm()  but the standard ConcurrentModification doesn't catch all cases either. The easiest is probably to keep track of a size() before each call to next() and throw if it changed  but there might be edge cases I didn't consider  and it adds a JNI overhead to all iterations. We could also just document it  but I am not sure where the best place for that would be.,0
2703,16-04-28,Issue 2703 : javassist.CannotCompileException ， Issue #2703 ， realm/realm-java ， GitHub Hi  I'm using version 0.89.1 for Android and I keep getting the above mentioned error. My Stack trace is written below Error:17:35:13.605 [ERROR] [system.err] Note: Processing class Addon 17:35:13.605 [ERROR] [system.err] Note: Processing class Appointment 17:35:13.606 [ERROR] [system.err] Note: Processing class Area 17:35:13.606 [ERROR] [system.err] Note: Processing class Categories 17:35:13.606 [ERROR] [system.err] Note: Processing class Clinic 17:35:13.606 [ERROR] [system.err] Note: Processing class CompletionCategories 17:35:13.606 [ERROR] [system.err] Note: Processing class Country 17:35:13.606 [ERROR] [system.err] Note: Processing class Day 17:35:13.606 [ERROR] [system.err] Note: Processing class DayMealCategory 17:35:13.606 [ERROR] [system.err] Note: Processing class Doctor 17:35:13.606 [ERROR] [system.err] Note: Processing class Item 17:35:13.606 [ERROR] [system.err] Note: Processing class ItemsSelections 17:35:13.606 [ERROR] [system.err] Note: Processing class Meal 17:35:13.606 [ERROR] [system.err] Note: Processing class Order 17:35:13.606 [ERROR] [system.err] Note: Processing class Package 17:35:13.607 [ERROR] [system.err] Note: Processing class Paths 17:35:13.607 [ERROR] [system.err] Note: Processing class Province 17:35:13.607 [ERROR] [system.err] Note: Processing class Salt 17:35:13.607 [ERROR] [system.err] Note: Processing class SelectedDate 17:35:13.607 [ERROR] [system.err] Note: Processing class Selections 17:35:13.607 [ERROR] [system.err] Note: Processing class Settings 17:35:13.607 [ERROR] [system.err] Note: Processing class Sex 17:35:13.607 [ERROR] [system.err] Note: Processing class Time 17:35:13.607 [ERROR] [system.err] Note: Processing class User 17:35:13.607 [ERROR] [system.err] Note: Creating DefaultRealmModule 17:35:14.259 [ERROR] [system.err] Note: Some input files use unchecked or unsafe operations. 17:35:14.260 [ERROR] [system.err] Note: Recompile with -Xlint:unchecked for details. 17:35:14.576 [ERROR] [org.gradle.BuildExceptionReporter]  17:35:14.576 [ERROR] [org.gradle.BuildExceptionReporter] FAILURE: Build failed with an exception. 17:35:14.576 [ERROR] [org.gradle.BuildExceptionReporter]  17:35:14.576 [ERROR] [org.gradle.BuildExceptionReporter] * What went wrong: 17:35:14.576 [ERROR] [org.gradle.BuildExceptionReporter] Execution failed for task ':app:transformClassesWithRealmTransformerForDebug'. 17:35:14.576 [ERROR] [org.gradle.BuildExceptionReporter] > javassist.CannotCompileException: showMenu ()V in dietfix.com.mahmoudhaddad.dietfix.MenuActivity: failed to resolve types 17:35:14.576 [ERROR] [org.gradle.BuildExceptionReporter]  17:35:14.576 [ERROR] [org.gradle.BuildExceptionReporter] * Exception is: 17:35:14.577 [ERROR] [org.gradle.BuildExceptionReporter] org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:transformClassesWithRealmTransformerForDebug'. 17:35:14.577 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69) 17:35:14.577 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46) 17:35:14.577 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35) 17:35:14.577 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64) 17:35:14.577 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58) 17:35:14.577 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:52) 17:35:14.578 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52) 17:35:14.578 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53) 17:35:14.578 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43) 17:35:14.578 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:203) 17:35:14.578 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:185) 17:35:14.578 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:66) 17:35:14.578 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:50) 17:35:14.578 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:25) 17:35:14.578 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:110) 17:35:14.578 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37) 17:35:14.578 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37) 17:35:14.578 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23) 17:35:14.579 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43) 17:35:14.579 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32) 17:35:14.579 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37) 17:35:14.579 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30) 17:35:14.579 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:154) 17:35:14.579 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.internal.Factories$1.create(Factories.java:22) 17:35:14.579 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90) 17:35:14.579 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:52) 17:35:14.579 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:151) 17:35:14.579 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:32) 17:35:14.579 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:99) 17:35:14.579 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:93) 17:35:14.580 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90) 17:35:14.580 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:62) 17:35:14.580 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:93) 17:35:14.580 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:82) 17:35:14.580 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:94) 17:35:14.580 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:46) 17:35:14.580 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35) 17:35:14.580 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.tooling.internal.provider.runner.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:58) 17:35:14.580 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35) 17:35:14.580 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:43) 17:35:14.580 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:28) 17:35:14.580 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78) 17:35:14.580 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:48) 17:35:14.581 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:52) 17:35:14.581 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36) 17:35:14.581 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120) 17:35:14.581 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37) 17:35:14.581 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120) 17:35:14.581 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26) 17:35:14.581 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120) 17:35:14.581 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34) 17:35:14.581 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120) 17:35:14.581 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74) 17:35:14.581 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72) 17:35:14.581 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.util.Swapper.swap(Swapper.java:38) 17:35:14.581 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72) 17:35:14.582 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120) 17:35:14.582 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.health.DaemonHealthTracker.execute(DaemonHealthTracker.java:47) 17:35:14.582 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120) 17:35:14.582 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:66) 17:35:14.582 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36) 17:35:14.582 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120) 17:35:14.582 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:72) 17:35:14.582 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36) 17:35:14.582 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120) 17:35:14.582 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.health.HintGCAfterBuild.execute(HintGCAfterBuild.java:41) 17:35:14.582 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120) 17:35:14.582 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50) 17:35:14.582 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:246) 17:35:14.583 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54) 17:35:14.583 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40) 17:35:14.583 [ERROR] [org.gradle.BuildExceptionReporter] Caused by: java.lang.RuntimeException: javassist.CannotCompileException: showMenu ()V in dietfix.com.mahmoudhaddad.dietfix.MenuActivity: failed to resolve types 17:35:14.583 [ERROR] [org.gradle.BuildExceptionReporter]    at com.android.builder.profile.Recorder$Block.handleException(Recorder.java:54) 17:35:14.583 [ERROR] [org.gradle.BuildExceptionReporter]    at com.android.builder.profile.ThreadRecorder$1.record(ThreadRecorder.java:57) 17:35:14.583 [ERROR] [org.gradle.BuildExceptionReporter]    at com.android.builder.profile.ThreadRecorder$1.record(ThreadRecorder.java:47) 17:35:14.583 [ERROR] [org.gradle.BuildExceptionReporter]    at com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:173) 17:35:14.583 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:75) 17:35:14.583 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.doExecute(AnnotationProcessingTaskFactory.java:244) 17:35:14.583 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:220) 17:35:14.583 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.execute(AnnotationProcessingTaskFactory.java:231) 17:35:14.583 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:209) 17:35:14.583 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:80) 17:35:14.583 [ERROR] [org.gradle.BuildExceptionReporter]    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:61) 17:35:14.583 [ERROR] [org.gradle.BuildExceptionReporter]    ... 70 more 17:35:14.583 [ERROR] [org.gradle.BuildExceptionReporter] Caused by: javassist.CannotCompileException: showMenu ()V in dietfix.com.mahmoudhaddad.dietfix.MenuActivity: failed to resolve types 17:35:14.583 [ERROR] [org.gradle.BuildExceptionReporter]    at javassist.expr.ExprEditor.doit(ExprEditor.java:117) 17:35:14.584 [ERROR] [org.gradle.BuildExceptionReporter]    at javassist.CtBehavior.instrument(CtBehavior.java:712) 17:35:14.584 [ERROR] [org.gradle.BuildExceptionReporter]    at javassist.CtBehavior$instrument.call(Unknown Source) 17:35:14.584 [ERROR] [org.gradle.BuildExceptionReporter]    at io.realm.transformer.BytecodeModifier$_useRealmAccessors_closure2.doCall(BytecodeModifier.groovy:73) 17:35:14.584 [ERROR] [org.gradle.BuildExceptionReporter]    at io.realm.transformer.BytecodeModifier.useRealmAccessors(BytecodeModifier.groovy:61) 17:35:14.584 [ERROR] [org.gradle.BuildExceptionReporter]    at io.realm.transformer.BytecodeModifier$useRealmAccessors$2.call(Unknown Source) 17:35:14.584 [ERROR] [org.gradle.BuildExceptionReporter]    at io.realm.transformer.RealmTransformer$_transform_closure11.doCall(RealmTransformer.groovy:131) 17:35:14.584 [ERROR] [org.gradle.BuildExceptionReporter]    at io.realm.transformer.RealmTransformer.transform(RealmTransformer.groovy:128) 17:35:14.584 [ERROR] [org.gradle.BuildExceptionReporter]    at com.android.build.api.transform.Transform.transform(Transform.java:308) 17:35:14.584 [ERROR] [org.gradle.BuildExceptionReporter]    at com.android.build.gradle.internal.pipeline.TransformTask$3.call(TransformTask.java:178) 17:35:14.584 [ERROR] [org.gradle.BuildExceptionReporter]    at com.android.build.gradle.internal.pipeline.TransformTask$3.call(TransformTask.java:174) 17:35:14.584 [ERROR] [org.gradle.BuildExceptionReporter]    at com.android.builder.profile.ThreadRecorder$1.record(ThreadRecorder.java:55) 17:35:14.584 [ERROR] [org.gradle.BuildExceptionReporter]    ... 79 more 17:35:14.584 [ERROR] [org.gradle.BuildExceptionReporter] Caused by: javassist.bytecode.BadBytecode: showMenu ()V in dietfix.com.mahmoudhaddad.dietfix.MenuActivity: failed to resolve types 17:35:14.584 [ERROR] [org.gradle.BuildExceptionReporter]    at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:111) 17:35:14.584 [ERROR] [org.gradle.BuildExceptionReporter]    at javassist.bytecode.MethodInfo.rebuildStackMap(MethodInfo.java:440) 17:35:14.584 [ERROR] [org.gradle.BuildExceptionReporter]    at javassist.bytecode.MethodInfo.rebuildStackMapIf6(MethodInfo.java:422) 17:35:14.584 [ERROR] [org.gradle.BuildExceptionReporter]    at javassist.expr.ExprEditor.doit(ExprEditor.java:113) 17:35:14.584 [ERROR] [org.gradle.BuildExceptionReporter]    ... 90 more 17:35:14.584 [ERROR] [org.gradle.BuildExceptionReporter] Caused by: javassist.bytecode.BadBytecode: failed to resolve types 17:35:14.584 [ERROR] [org.gradle.BuildExceptionReporter]    at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:169) 17:35:14.584 [ERROR] [org.gradle.BuildExceptionReporter]    at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:108) 17:35:14.585 [ERROR] [org.gradle.BuildExceptionReporter]    ... 93 more 17:35:14.585 [ERROR] [org.gradle.BuildExceptionReporter] Caused by: javassist.NotFoundException: org.json.JSONException 17:35:14.585 [ERROR] [org.gradle.BuildExceptionReporter]    at javassist.ClassPool.get(ClassPool.java:452) 17:35:14.585 [ERROR] [org.gradle.BuildExceptionReporter]    at javassist.bytecode.stackmap.TypeData$TypeVar.fixTypes2(TypeData.java:347) 17:35:14.585 [ERROR] [org.gradle.BuildExceptionReporter]    at javassist.bytecode.stackmap.TypeData$TypeVar.fixTypes(TypeData.java:330) 17:35:14.585 [ERROR] [org.gradle.BuildExceptionReporter]    at javassist.bytecode.stackmap.TypeData$TypeVar.dfs(TypeData.java:274) 17:35:14.585 [ERROR] [org.gradle.BuildExceptionReporter]    at javassist.bytecode.stackmap.MapMaker.fixTypes(MapMaker.java:390) 17:35:14.585 [ERROR] [org.gradle.BuildExceptionReporter]    at javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:167) 17:35:14.585 [ERROR] [org.gradle.BuildExceptionReporter]    ... 94 more 17:35:14.585 [ERROR] [org.gradle.BuildExceptionReporter],0
2714,16-05-03,Issue 2714 : NoClassDefFoundError in few devices ， Issue #2714 ， realm/realm-java ， GitHub Logcat from crashlytics. Fatal Exception: java.lang.NoClassDefFoundError io/realm/exceptions/RealmError  Raw io.realm.internal.SharedGroup.createNativeWithImplicitTransactions (SharedGroup.java) io.realm.internal.SharedGroup. (SharedGroup.java) io.realm.internal.SharedGroupManager. (SharedGroupManager.java) io.realm.BaseRealm. (BaseRealm.java) io.realm.Realm. (Realm.java) io.realm.Realm.createAndValidate (Realm.java:246) io.realm.Realm.createInstance (Realm.java:231) io.realm.RealmCache.createRealmOrGetFromCache (RealmCache.java:114) io.realm.Realm.getDefaultInstance (Realm.java:181)  Version of Realm and tooling Realm version(s): - 0.87.4 Android Studio version: 2.1 Which Android version and device: Asus and Samsung (4.4.2 and 4.4.4),0
2724,16-05-03,Issue 2724 : Concurrency problem of `HandlerController.syncRealmResults`  `emptyAsyncRealmObject and etc.. ， Issue #2724 ， realm/realm-java ， GitHub Those fields will be accessed from executor thread  we need a proper lock/thread safe structure. Also refer to https://github.com/realm/realm-java/pull/2723/files#r61868311   need a better way to avoid traversing.,0
2759,16-05-10,Issue 2759 : native crash in RealmResults#deleteAllFromRealm() ， Issue #2759 ， realm/realm-java ， GitHub Goal allow to call RealmResults.deleteAllFromRealm() against the RealmResults object which contains deleted object in it. Expected Results no native crash and all existing objects are deleted. Actual Results native crash Steps & Code to Reproduce executing following sample code Code Sample         realm.beginTransaction();         realm.createObject(Dog.class);         realm.createObject(Dog.class);         realm.commitTransaction();          RealmResults<Dog> results = realm.where(Dog.class).findAll();          realm.beginTransaction();          Dog dog = results.get(0);         dog.deleteFromRealm();          results.deleteAllFromRealm();          realm.commitTransaction(); Version of Realm and tooling Realm version(s): current master Android Studio version: 2.1 Which Android version and device: 4.1.1 on genymotion,1
2762,16-05-10,Issue 2762 : Realm crashing in Samsung Note 2 due to "Encrypted interprocess sharing" is currently unsupported ， Issue #2762 ， realm/realm-java ， GitHub Fatal Exception: io.realm.exceptions.RealmError Unrecoverable error. /data/data/com.conem.app/files/file.realm: Encrypted interprocess sharing is currently unsupported in io_realm_internal_SharedGroup.cpp line 113  Raw io.realm.internal.SharedGroup.createNativeWithImplicitTransactions (SharedGroup.java) io.realm.internal.SharedGroup. (SharedGroup.java) io.realm.internal.SharedGroupManager. (SharedGroupManager.java) io.realm.BaseRealm. (BaseRealm.java) io.realm.Realm. (Realm.java) io.realm.Realm.createAndValidate (Realm.java:269) io.realm.Realm.createInstance (Realm.java:249) io.realm.RealmCache.createRealmOrGetFromCache (RealmCache.java:118) io.realm.Realm.getDefaultInstance (Realm.java:195)  Version of Realm and tooling Realm version(s): 0.90.0 Android Studio version: 2.1 Which Android version and device: Samsung Note 2 Native Platform : armeabi-v7a,0
2772,16-05-11,Issue 2772 : Missing null check in BaseRealm.addChangeListener(RealmChangeListener) ， Issue #2772 ， realm/realm-java ， GitHub From SO. http://stackoverflow.com/questions/37146656 java.lang.NullPointerException: Attempt to invoke interface method 'void io.realm.RealmChangeListener.onChange()' on a null object reference,0
2819,16-05-17,Issue 2819 : "Index not defined for existing Realm file" error while performing migration. ， Issue #2819 ， realm/realm-java ， GitHub Hello  I'm using Realm 0.90.1. I'm trying to perform a migration in which I want to create two more tables. One of them has a @PRIMARYKEY. I've tried the manual way like this: And the migration looks like this:           public void migrate(DynamicRealm realm  long oldVersion  long newVersion) {         RealmSchema schema = realm.getSchema();          if (oldVersion == 0) {             schema.create("Table1").addField("myid"  long.class)                     .addField("test"  boolean.class)                     .addPrimaryKey("myid");              schema.create("Table2").addField("wID"  int.class)                 .addField("uID"  int.class)                 .addField("ts"  long.class)                 .addField("type"  String.class);              oldVersion++;         }  My applications crashes with the following exception: Process: com.vectorwatch.android  PID: 22182 java.lang.RuntimeException: Unable to create application com.android.tools.fd.runtime.BootstrapApplication: io.realm.exceptions.RealmMigrationNeededException: RealmMigration must be provided at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4664) I've dived deeper in Realm code and I've saw that an exception is thrown with the following detailsMessage: Index not defined for field myid in existing Realm file. Either set @Index or migrate using io.realm.internal.Table.removeSearchIndex(). So I assumed that I should call also addIndex() in the migration. This did the trick  but this is was kind of annoying. From the Realm documentation  I see that "(the annotation @PRIMARYKEY implicitly sets the annotation @index)". The javadoc of the addPrimaryKey method says: * Adds a primary key to a given field. This is the same as adding the {@link io.realm.annotations.PrimaryKey} annotation on the field. So I assumed that addPrimaryKey() also adds an Index. It is nowhere mentioned that when performing a migration  you should call addIndex() when you have an addPrimaryKey(). Can I make a pull request to add this use case in your Migration example app? Also please tell if I can help anymore you with this issue. Thank you very much for this great framework!,0
2829,16-05-18,Issue 2829 : Primary key not defined for field 'id' in existing Realm file. Add @PrimaryKey. ， Issue #2829 ， realm/realm-java ， GitHub Hello! I upgraded from 0.88.2 to 0.90.1 and refactored my RealmObject classes and renamed them. Everything works fine if I clear the app data and it's a new  clean Realm  but migrating from the old version doesn't work. Stacktrace: io.realm.exceptions.RealmMigrationNeededException: Primary key not defined for field 'id' in existing Realm file. Add @PRIMARYKEY. at io.realm.ChannelRealmProxy.validateTable(ChannelRealmProxy.java:154) at io.realm.DefaultRealmModuleMediator.validateTable(DefaultRealmModuleMediator.java:71) at io.realm.Realm.initializeRealm(Realm.java:316) at io.realm.Realm.createAndValidate(Realm.java:284) at io.realm.Realm.createInstance(Realm.java:263) at io.realm.RealmCache.createRealmOrGetFromCache(RealmCache.java:118) at io.realm.Realm.getDefaultInstance(Realm.java:195) ... Channel.java: public class Channel extends RealmObject {     @PrimaryKey     private long id;     private String name;     //... DbMigration.java: //Don't want to create a Channel schema  if the previously named one exists if(schema.get("TvObject") == null && schema.get("Channel") == null) {     schema.create("Channel")         .addField("id"  long.class  FieldAttribute.PRIMARY_KEY)         //redacted  just a bunch of String  int and boolean fields } //... if(oldVersion == 7) {      schema.rename("TvObject"  "Channel");     schema.get("Channel")         //redacted the changes  it's a bunch of field renaming and removing     oldVersion++; } It also happens with two other classes that I renamed  and it's not always the same one that causes the crash. It changes when I redo the upgrade from the old app version to the new one. I've tried using Long with @Required instead of long  adding the primary key in the migration (which causes an exception)  nothing helps. Am I doing something wrong? P.S. Is there a better way to structure migrations with regards to creating the objects? If I rename the objects again  I'll have three == null checks in the if()s.,0
2834,16-05-19,Issue 2834 : Cannot delete realm ， Issue #2834 ， realm/realm-java ， GitHub When starting up my app the first thing I am trying to delete the realm file. The attached screenshot shows that if fails to delete the management directory. /data/user/0/com.agrimap.mobile.android/files/default.realm.management I checked the File.delete() method and it internally catches android.system.ErrnoException: remove failed: ENOTEMPTY (Directory not empty) The directory appears to have three files in it. log_acces  log_a  log_b Version of Realm and tooling Realm version(s): 0.90.1 Android Studio version: 2.1.1 Which Android version and device: Emulator - Nexus 4,0
2840,16-05-19,Issue 2840 : ANR after upgrading to 0.90.1 from v0.88.x  ， Issue #2840 ， realm/realm-java ， GitHub Hi  @hohnamkung from VCNC reported ANR issue. After they upgrade to v0.90.1  ANR happens from Realm. It happens from our chatting feature  and i reproduce it very easily. I attached traces.txt traces.txt Steps & Code to Reproduce Go to Chatting menu have a chat. 90% reproducible. Version of Realm and tooling Realm version : reproducible with Realm-java 0.90.1 It was ok when using v0.88.x Device : The device that i'm using is Galaxy S6 APK for reproduce If trace log is not enough  I will try to get APK to reproduce,0
2894,16-05-27,Issue 2894 : ArrayList Size is 5500+ Unrecoverable error. mremap(): failed: Out of memory in io_realm_internal_SharedGroup.cpp line 188 ， Issue #2894 ， realm/realm-java ， GitHub it throw an exception when insert 5000+ datas . realm version classpath "io.realm:realm-gradle-plugin:1.0.0"   Realm realm = Realm.getInstance(getRealmConfiguration());     lineList = response.getDatasList();     for (int i = 0; i < lineList.size(); i++) {       realm.beginTransaction();       Stock stock = realm.createObject(Stock.class);       stock.setCode(lineList.get(i).getCode());       stock.setName(lineList.get(i).getName());       Timber.d(i + " {}  code " + lineList.get(i).getCode() + "||  name " + lineList.get(i)           .getName());       realm.commitTransaction();     }      realm.close();,1
2901,16-05-30,Issue 2901 : ThrowingException 16  std::exception in io_realm_internal_TableQuery.cpp line 1288 ， Issue #2901 ， realm/realm-java ， GitHub After ThrowingException 16  std::exception in io_realm_internal_TableQuery.cpp line 1288 exception is logged  i can't load data using Observable (Observable' s onNext not called  only ThrowingException 16  std::exception in io_realm_internal_TableQuery.cpp line 1288 is logged in logcat) load data synchronously (Requested table is not in this Realm. Creating it requires a transaction exception happens) insert data. Whenever i insert data  A RealmObject with no @PrimaryKey cannot be updated error happened  although that class has a @PrimaryKey annotated field. finally initialize Realm with ArrayIndexOutOfBoundsException: columnIndex > available columns.exception Case 1~3 dismiss after process is restarted (swipe it in recent tasks)  but i could reproduce below steps. After case 4  i uninstalled application and no longer reproduce any of problems. Steps & Code to Reproduce The class that have this problem query data and is listening changes (using observable) in main thread. At the same time every data about that class are removed (realm.delete(*.class)) and re-inserted with fresh one from server in worker thread. I tried to find reproduce step for 1~2 hours  but i couldn't. Version of Realm and tooling Realm version(s): 1.0.0 Android Studio version: 2.1.1 Which Android version and device: 6.0.1 (Galaxy S6),0
2928,16-06-02,Issue 2928 : Incompatible lock file. Info size doesn't match  1112 1120. ， Issue #2928 ， realm/realm-java ， GitHub The issue #2459 was closed  even though this problem still persists on 1.0.0 realm version. Fatal Exception: io.realm.exceptions.RealmError: Unrecoverable error. Incompatible lock file. Info size doesn't match  1112 1120. in io_realm_internal_SharedGroup.cpp line 113 at io.realm.internal.SharedGroup.createNativeWithImplicitTransactions(SharedGroup.java) at io.realm.internal.SharedGroup.(SharedGroup.java:64) at io.realm.internal.SharedGroupManager.(SharedGroupManager.java:49) at io.realm.BaseRealm.(BaseRealm.java:79) at io.realm.Realm.(Realm.java:138) at io.realm.Realm.createAndValidate(Realm.java:248) at io.realm.Realm.createInstance(Realm.java:228) at io.realm.RealmCache.createRealmOrGetFromCache(RealmCache.java:126) at io.realm.Realm.getInstance(Realm.java:192),0
2933,16-06-03,Issue 2933 : Realm not copying database from assets ， Issue #2933 ， realm/realm-java ， GitHub Goal What do you want to achieve? Copy a pre-filled database from assets by using .assetFile(context  "default.realm") Expected Results Database gets copied and contains all the data Actual Results Copied database is only 4kb in size  while the original database in the assets folder is 123kb in size. Using realm.isEmpty() returns true  which it should not. The Realm Browser for OS X correctly shows all the data in the database. Using realm.where() always returns an empty result. Steps & Code to Reproduce RealmConfiguration config = new RealmConfiguration.Builder(context) .name("default.realm") .schemaVersion(1) .assetFile(context  "default.realm") .deleteRealmIfMigrationNeeded() .build(); Realm realm = Realm.getInstance(config); realm.isEmpty() // => true Using this code  realm.isEmpty() always prints true Version of Realm and tooling Realm version(s): 1.0.0 Android Studio version: 2.2 Preview 2 Which Android version and device: CM 13 Android 6.0.1 Galaxy S5 klte,0
2944,16-06-07,Issue 2944 : Remove primary key  index is not removed. ， Issue #2944 ， realm/realm-java ， GitHub This is reported on SO http://stackoverflow.com/questions/37667205/primary-key-migration-with-realm-1-0 I'm trying to perform a migration in Realm that migrates the primary key  and I'm getting the following error: Index not defined for field 'local_id' in existing Realm file. Either set @Index or migrate using io.realm.internal.Table.removeSearchIndex().  Here's my migration code:     schema.get("Calendar")                     .addField("local_id"  String.class)                     .transform(new RealmObjectSchema.Function() {                         @Override                         public void apply(DynamicRealmObject obj) {                             obj.set("local_id"  obj.getString("id") + obj.getString("start"));                         }                     })                     .removePrimaryKey()                     .addPrimaryKey("local_id"); I don't see what else I need to do. I've added @Index on the local_id field  and it didn't make a difference. Anyone know what I need to do?,0
2947,16-06-07,Issue 2947 : distinct() issue ， Issue #2947 ， realm/realm-java ， GitHub Goal Get a distinct list of a RealmResult Expected Results RealmResult.distinct() returning a distinct list Actual Results RealmResult.distinct() sorting in-place Steps & Code to Reproduce mList = mRealm.where(Item.class).findAll(); mDistinctList = mList.distinct(Item.CATEGORY) The 2nd line of code above will change mList also (is that intentional or a bug?) Version of Realm and tooling Realm version(s): 1.1.0 Android Studio version: 2.1.1 ** EDIT ** the above issue happens in RealmResults only and not RealmLists,0
2978,16-06-10,Issue 2978 : onComplete/onNext for observable (sometimes) not getting called after async write ， Issue #2978 ， realm/realm-java ， GitHub Goal Create/update realm objects and immediately find the saved results Expected Results Find all saved (updated or created) realm objects Actual Results onComplete of the observable is called only for 7-9/10 cases Steps & Code to Reproduce Please  see the sample code below. In about every 1-3 calls out of 10 the onNext/onComplete is never get called. Here is a sample output: 06-10 12:34:00.764 7561-7561/realmtest.com.realmtest D/RXTestRealm: onNext 06-10 12:34:00.765 7561-7561/realmtest.com.realmtest D/RXTestRealm: onComplete: call 0 total completes: 1 06-10 12:34:01.690 7561-7561/realmtest.com.realmtest D/RXTestRealm: onNext 06-10 12:34:01.690 7561-7561/realmtest.com.realmtest D/RXTestRealm: onComplete: call 1 total completes: 2 06-10 12:34:02.846 7561-7561/realmtest.com.realmtest D/RXTestRealm: onNext 06-10 12:34:02.847 7561-7561/realmtest.com.realmtest D/RXTestRealm: onComplete: call 3 total completes: 3 06-10 12:34:04.053 7561-7561/realmtest.com.realmtest D/RXTestRealm: onNext 06-10 12:34:04.053 7561-7561/realmtest.com.realmtest D/RXTestRealm: onComplete: call 4 total completes: 4 06-10 12:34:05.082 7561-7561/realmtest.com.realmtest D/RXTestRealm: onNext 06-10 12:34:05.082 7561-7561/realmtest.com.realmtest D/RXTestRealm: onComplete: call 6 total completes: 5 06-10 12:34:06.685 7561-7561/realmtest.com.realmtest D/RXTestRealm: onNext 06-10 12:34:06.685 7561-7561/realmtest.com.realmtest D/RXTestRealm: onComplete: call 8 total completes: 6 06-10 12:34:07.871 7561-7561/realmtest.com.realmtest D/RXTestRealm: onNext 06-10 12:34:07.871 7561-7561/realmtest.com.realmtest D/RXTestRealm: onComplete: call 7 total completes: 7 06-10 12:34:08.939 7561-7561/realmtest.com.realmtest D/RXTestRealm: onNext 06-10 12:34:08.939 7561-7561/realmtest.com.realmtest D/RXTestRealm: onComplete: call 9 total completes: 8 06-10 12:34:10.148 7561-7561/realmtest.com.realmtest D/RXTestRealm: onNext 06-10 12:34:10.149 7561-7561/realmtest.com.realmtest D/RXTestRealm: onComplete: call 5 total completes: 9  As you can see from the output - the total calls are 9 (instead of 10) and call number 2 is missing. The sample below is stripped version of a real project but still we're able to reproduce it with it. Code Sample public class MainActivity extends AppCompatActivity implements View.OnClickListener {      private int totalCompletes;      @Override     protected void onCreate(Bundle savedInstanceState) {         super.onCreate(savedInstanceState);         setContentView(R.layout.activity_main);         findViewById(R.id.refresh_tasks).setOnClickListener(this);         RealmConfiguration config = new RealmConfiguration.Builder(this)                 .schemaVersion(BuildConfig.VERSION_CODE)                 .deleteRealmIfMigrationNeeded()                 .build();         Realm.setDefaultConfiguration(config);         totalCompletes = 0;     }      private void refreshTasks(final int callNum) {         List<Task> tasks = new ArrayList<>();         for (int i = 0; i < 1000; i++) {             tasks.add(new Task(UUID.randomUUID().toString()  UUID.randomUUID().toString()));         }         saveTasks(tasks).flatMap(new Func1<List<Task>  Observable<List<Task>>>() {             @Override             public Observable<List<Task>> call(List<Task> tasks) {                 for (Task t : tasks) {                     t.setName(UUID.randomUUID().toString());                 }                 return saveTasks(tasks);             }         }).flatMap(new Func1<List<Task>  Observable<?>>() {             @Override             public Observable<List<Task>> call(List<Task> tasks) {                 return findTasks();             }         }).subscribe(new Action1<Object>() {             @Override             public void call(Object o) {                 Log.d("RXTestRealm"  "onNext");             }         }  new Action1<Throwable>() {             @Override             public void call(Throwable throwable) {                 Log.d("RXTestRealm"  "onError " + throwable.getMessage());             }         }  new Action0() {             @Override             public void call() {                 totalCompletes++;                 Log.d("RXTestRealm"  "onComplete: call " + callNum + " total completes: " + totalCompletes);             }         });     }      private Observable<List<Task>> findTasks() {         final Realm realm = Realm.getDefaultInstance();         return realm.where(Task.class).findAllAsync().asObservable().filter(new Func1<RealmResults<Task>  Boolean>() {             @Override             public Boolean call(RealmResults<Task> tasks) {                 return tasks.isLoaded();             }         }).first().map(new Func1<RealmResults<Task>  List<Task>>() {             @Override             public List<Task> call(RealmResults<Task> tasks) {                 List<Task> res = realm.copyFromRealm(tasks);                 realm.close();                 return res;             }         });     }      private Observable<List<Task>> saveTasks(final List<Task> tasks) {         return Observable.create(new Observable.OnSubscribe<List<Task>>() {             @Override             public void call(final Subscriber<? super List<Task>> subscriber) {                 final Realm realm = Realm.getDefaultInstance();                 realm.executeTransactionAsync(new Realm.Transaction() {                     @Override                     public void execute(Realm backgroundRealm) {                         backgroundRealm.copyToRealmOrUpdate(tasks);                     }                 }  new Realm.Transaction.OnSuccess() {                     @Override                     public void onSuccess() {                         realm.close();                         subscriber.onNext(tasks);                         subscriber.onCompleted();                     }                 }  new Realm.Transaction.OnError() {                     @Override                     public void onError(Throwable error) {                         realm.close();                         subscriber.onError(error);                     }                 });             }         });     }      @Override     public void onClick(View v) {         for(int i = 0; i < 10; i++) {             refreshTasks(i);         }     } }  Task class public class Task extends RealmObject {       @PrimaryKey     @Required     private String id;      public void setName(String name) {         this.name = name;     }      private String name;      public Task() {      }      public Task(String id  String name) {         this.id = id;         this.name = name;     }      public String getName() {         return name;     } } Important: It seems that using sync writes solves the issue saving objects code:     final Realm realm = Realm.getDefaultInstance();     realm.executeTransaction(new Realm.Transaction() {                     @Override                     public void execute(Realm realm) {                         realm.copyToRealmOrUpdate(tasks);                     }                 });     realm.close();     subscriber.onNext(tasks);     subscriber.onCompleted(); Here the output is correct: 06-10 12:52:38.713 20172-20172/realmtest.com.realmtest D/RXTestRealm: onNext 06-10 12:52:38.713 20172-20172/realmtest.com.realmtest D/RXTestRealm: onComplete: call 0 total completes: 1 06-10 12:52:39.718 20172-20172/realmtest.com.realmtest D/RXTestRealm: onNext 06-10 12:52:39.718 20172-20172/realmtest.com.realmtest D/RXTestRealm: onComplete: call 1 total completes: 2 06-10 12:52:41.347 20172-20172/realmtest.com.realmtest D/RXTestRealm: onNext 06-10 12:52:41.347 20172-20172/realmtest.com.realmtest D/RXTestRealm: onComplete: call 2 total completes: 3 06-10 12:52:42.553 20172-20172/realmtest.com.realmtest D/RXTestRealm: onNext 06-10 12:52:42.553 20172-20172/realmtest.com.realmtest D/RXTestRealm: onComplete: call 7 total completes: 4 06-10 12:52:43.575 20172-20172/realmtest.com.realmtest D/RXTestRealm: onNext 06-10 12:52:43.575 20172-20172/realmtest.com.realmtest D/RXTestRealm: onComplete: call 4 total completes: 5 06-10 12:52:44.716 20172-20172/realmtest.com.realmtest D/RXTestRealm: onNext 06-10 12:52:44.717 20172-20172/realmtest.com.realmtest D/RXTestRealm: onComplete: call 3 total completes: 6 06-10 12:52:45.787 20172-20172/realmtest.com.realmtest D/RXTestRealm: onNext 06-10 12:52:45.787 20172-20172/realmtest.com.realmtest D/RXTestRealm: onComplete: call 8 total completes: 7 06-10 12:52:47.530 20172-20172/realmtest.com.realmtest D/RXTestRealm: onNext 06-10 12:52:47.531 20172-20172/realmtest.com.realmtest D/RXTestRealm: onComplete: call 9 total completes: 8 06-10 12:52:48.784 20172-20172/realmtest.com.realmtest D/RXTestRealm: onNext 06-10 12:52:48.784 20172-20172/realmtest.com.realmtest D/RXTestRealm: onComplete: call 5 total completes: 9 06-10 12:52:49.804 20172-20172/realmtest.com.realmtest D/RXTestRealm: onNext 06-10 12:52:49.810 20172-20172/realmtest.com.realmtest D/RXTestRealm: onComplete: call 6 total completes: 10  Version of Realm and tooling Realm version(s): 1.0.0 Android Studio version: 2.1.2 Which Android version and device: 5.1.1 (Nexus 4),0
3002,16-06-15,Issue 3002 : cancelTransaction() causes REALM_CHANGED/LOCAL_COMMIT missed. ， Issue #3002 ， realm/realm-java ， GitHub In normal cases pair Realm.beginTransaction()/Realm.commitTransaction() will trigger realm updates for local thread from Realm.commitTransaction(). But for Realm.beginTransaction()/Realm.cancelTransaction()  the update event won't be sent anymore. This is not correct and will cause some strange issues since beginTransaction() will do advance read and update the local realm instance.,0
3022,16-06-17,Issue 3022 : Realm Plugin/Transformation 1.0.1 Suspicious "unexpectedly contains class" Warnings ， Issue #3022 ， realm/realm-java ， GitHub We are getting massive amount of gradle warning logs during build with 1.0.1. 1.0.0 has no such issue. Warning: class [folders/1/10/realm-optional-api/it/unimi/dsi/fastutil/chars/Char2ByteRBTreeMap$KeySet.class] unexpectedly contains class [it.unimi.dsi.fastutil.chars.Char2ByteRBTreeMap$KeySet] Warning: class [folders/1/10/realm-optional-api/it/unimi/dsi/fastutil/chars/Char2ByteArrayMap$EntrySet$2.class] unexpectedly contains class [it.unimi.dsi.fastutil.chars.Char2ByteArrayMap$EntrySet$2] api/it/unimi/dsi/fastutil/chars/Char2ByteRBTreeMap$KeySet.class] unexpectedly contains class [it.unimi.dsi.fastutil.chars.Char2ByteRBTreeMap$KeySet] Warning: class [folders/1/10/realm-optional-api/it/unimi/dsi/fastutil/chars/Char2ByteArrayMap$EntrySet$2.class] unexpectedly contains class [it.unimi.dsi.fastutil.chars.Char2ByteArrayMap$EntrySet$2] Warning: class [folders/1/10/realm-optional-api/it/unimi/dsi/fastutil/chars/Char2LongLinkedOpenHashMap.class] unexpectedly contains class [it.unimi.dsi.fastutil.chars.Char2LongLinkedOpenHashMap] Warning: class [folders/1/10/realm-optional-api/it/unimi/dsi/fastutil/chars/CharBigArrays$1.class] unexpectedly contains class [it.unimi.dsi.fastutil.chars.CharBigArrays$1] Warning: class [folders/1/10/realm-optional-api/it/unimi/dsi/fastutil/chars/AbstractChar2ObjectMap.class] unexpectedly contains class [it.unimi.dsi.fastutil.chars.AbstractChar2ObjectMap] Warning: class [folders/1/10/realm-optional-api/it/unimi/dsi/fastutil/chars/Char2LongMaps$EmptyMap.class] unexpectedly contains class [it.unimi.dsi.fastutil.chars.Char2LongMaps$EmptyMap] Warning: class [folders/1/10/realm-optional-api/it/unimi/dsi/fastutil/chars/Char2LongSortedMaps.class] unexpectedly contains class [it.unimi.dsi.fastutil.chars.Char2LongSortedMaps] Warning: class [folders/1/10/realm-optional-api/it/unimi/dsi/fastutil/chars/Char2DoubleMap$Entry.class] unexpectedly contains class [it.unimi.dsi.fastutil.chars.Char2DoubleMap$Entry] The "realm-optional-api" warnings encompass every single external class we use that have nothing to do with realm  realm-module  or realm-object classes. The amount of warning logs are extensive so I just included a few above.,0
3033,16-06-21,Issue 3033 : Exception parsing classes : realm-optional-api ， Issue #3033 ， realm/realm-java ， GitHub Hi  Right after the update to Realm 1.0.1 from 0.82  I started getting this Exception below. I tried building my project with Android Studio 2.1 and 2.2-Preview3 but the result is the same. Any idea why this is happening ? I'm using RetroLambda so the compiler options is as below: compileOptions {         sourceCompatibility JavaVersion.VERSION_1_8         targetCompatibility JavaVersion.VERSION_1_8  }   Thanks. Android Studio : 2.2 Preview3 Gradle Version : 2.13 Android Gradle Plugin : 2.1.0 (tried with 2.2.0-alpha3 as well) compileSdkVersion : 23 buildToolsVersion : 23.0.3 [DEBUG] [com.android.build.gradle.internal.ApplicationTaskManager] processing /Users/.../app/build/intermediates/transforms/RealmOptionalAPITransformer/airwatch/debug/folders/1/10/realm-optional-api/./retrofit/mime/TypedInput.class... [DEBUG] [com.android.build.gradle.internal.ApplicationTaskManager] processing /Users/.../app/build/intermediates/transforms/RealmOptionalAPITransformer/airwatch/debug/folders/1/10/realm-optional-api/./retrofit/mime/TypedOutput.class... [DEBUG] [com.android.build.gradle.internal.ApplicationTaskManager] processing /.../app/build/intermediates/transforms/RealmOptionalAPITransformer/airwatch/debug/folders/1/10/realm-optional-api/./retrofit/mime/TypedString.class... [ERROR] [org.gradle.api.Project] Dex: Error converting bytecode to dex: Cause: Dex cannot parse version 52 byte code. This is caused by library dependencies that have been compiled using Java 8 or above. If you are using the 'java' gradle plugin in a library submodule add  targetCompatibility = '1.7' sourceCompatibility = '1.7' to that submodule's build.gradle file.     UNEXPECTED TOP-LEVEL EXCEPTION:     java.lang.RuntimeException: Exception parsing classes         at com.android.dx.command.dexer.Main.processClass(Main.java:752)         at com.android.dx.command.dexer.Main.processFileBytes(Main.java:718)         at com.android.dx.command.dexer.Main.access$1200(Main.java:85)         at com.android.dx.command.dexer.Main$FileBytesConsumer.processFileBytes(Main.java:1645)         at com.android.dx.cf.direct.ClassPathOpener.processOne(ClassPathOpener.java:170)         at com.android.dx.cf.direct.ClassPathOpener.processDirectory(ClassPathOpener.java:229)         at com.android.dx.cf.direct.ClassPathOpener.processOne(ClassPathOpener.java:158)         at com.android.dx.cf.direct.ClassPathOpener.processDirectory(ClassPathOpener.java:229)         at com.android.dx.cf.direct.ClassPathOpener.processOne(ClassPathOpener.java:158)         at com.android.dx.cf.direct.ClassPathOpener.processDirectory(ClassPathOpener.java:229)         at com.android.dx.cf.direct.ClassPathOpener.processOne(ClassPathOpener.java:158)         at com.android.dx.cf.direct.ClassPathOpener.process(ClassPathOpener.java:144)         at com.android.dx.command.dexer.Main.processOne(Main.java:672)         at com.android.dx.command.dexer.Main.processAllFiles(Main.java:574)         at com.android.dx.command.dexer.Main.runMultiDex(Main.java:366)         at com.android.dx.command.dexer.Main.run(Main.java:275)         at com.android.dx.command.dexer.Main.main(Main.java:245)         at com.android.dx.command.Main.main(Main.java:106)     Caused by: com.android.dx.cf.iface.ParseException: bad class file magic (cafebabe) or version (0034.0000)         at com.android.dx.cf.direct.DirectClassFile.parse0(DirectClassFile.java:472)         at com.android.dx.cf.direct.DirectClassFile.parse(DirectClassFile.java:406)         at com.android.dx.cf.direct.DirectClassFile.parseToInterfacesIfNecessary(DirectClassFile.java:388)         at com.android.dx.cf.direct.DirectClassFile.getMagic(DirectClassFile.java:251)         at com.android.dx.command.dexer.Main.parseClass(Main.java:764)         at com.android.dx.command.dexer.Main.access$1500(Main.java:85)         at com.android.dx.command.dexer.Main$ClassParserTask.call(Main.java:1684)         at com.android.dx.command.dexer.Main.processClass(Main.java:749)         ... 17 more,0
3064,16-06-24,Issue 3064 : Exception : Invalid format of Realm file. ， Issue #3064 ， realm/realm-java ， GitHub I'm using realm for databse processingin my android project. And I got some user's report about the crash: java.lang.IllegalArgumentException: Illegal Argument: Invalid format of Realm file. at io.realm.internal.SharedGroup.createNativeWithImplicitTransactions()(SourceFile:-2) at io.realm.internal.SharedGroup.&lt;init&gt;()(SourceFile:64) at io.realm.internal.SharedGroupManager.&lt;init&gt;()(SourceFile:49) at io.realm.BaseRealm.&lt;init&gt;()(SourceFile:77) at io.realm.Realm.&lt;init&gt;()(SourceFile:138) at io.realm.Realm.createAndValidate()(SourceFile:269) at io.realm.Realm.createInstance()(SourceFile:249) at io.realm.RealmCache.createRealmOrGetFromCache()(SourceFile:114) at io.realm.Realm.getInstance()(SourceFile:213) I never face the crash while developing but seems that my user got it many times. Below is my implementation which crash was detected: private Realm getRealmFromConfig(Context context) {     RealmConfiguration config = getRealmConfigByDBName(context  databaseName);     Realm.compactRealm(config);     return Realm.getInstance(config); }  public RealmConfiguration getRealmConfigByDBName(Context context  String dbName) {     RealmConfiguration config = new RealmConfiguration.Builder(context)             .name(dbName)             .schemaVersion(1)             .setModules(new Module())             .deleteRealmIfMigrationNeeded()             .build();     return config; }  Details The crash log points out that crash occur in line return Realm.getInstance(config); I have a look at Realm.java file but still can not get any more information which related to message Invalid format of Realm file. So any one can help to give me a solution or workaround which can resolve the problem or some theory about why crash occurs. Thanks for helping,0
3077,16-06-27,Issue 3077 : Using Map as class name causing compilation error ， Issue #3077 ， realm/realm-java ， GitHub As in title: public class Map extends RealmObject {  private double latitude; private double longitude; private int zoom;  public double getLatitude() {     return latitude; }  public void setLatitude(double latitude) {     this.latitude = latitude; }  public double getLongitude() {     return longitude; }  public void setLongitude(double longitude) {     this.longitude = longitude; }  public int getZoom() {     return zoom; }  public void setZoom(int zoom) {     this.zoom = zoom; }  }  Stacktrace: [...]/app/build/generated/source/apt/debug/io/realm/MapRealmProxy.java Error:(23  1) error: a type with the same simple name is already defined by the single-type-import of Map Error:(232  80) error: type Map does not take parameters Error:(242  75) error: type Map does not take parameters Error:(251  94) error: type Map does not take parameters Realm version(s): 1.0.1 Android Studio version: 2.2 preview 4 Which Android version and device: all,0
3087,16-06-30,Issue 3087 : DynamicRealmObject.setObject() seg faults with invalid field name ， Issue #3087 ， realm/realm-java ， GitHub dynamicRealm.beginTransaction(); DynamicRealmObject o = dynamicRealm.createObject(AllJavaTypes.CLASS_NAME); o.setObject("boom"  o);  We don't check if the column name exists for Object and just parse -1 on to getLinkTarget which seg faults. Right now DynamicRealmObject doesn't use RealmObjectSchema for these kinds of look-ups. Ideally all schema access should go through this class to enforce any additional rules we might have  but that will require us being aware if the schema is being invalidated by core so we can can recalculate cached information. Such a callback is already available and needed for interprocess support anyway.,0
3103,16-07-01,Issue 3103 : insertOrUpdate(Collection) does not handle empty list properly ， Issue #3103 ， realm/realm-java ， GitHub Goal What do you want to achieve? Save empty list Expected Results Ignore it considering it's empty Actual Results  07-01 10:56:02.262 9258-9364/E/BasePersistDbTaskImpl: Error during saving [CompletedRecordsXML].     java.util.NoSuchElementException     at java.util.AbstractList$SimpleListIterator.next(AbstractList.java:59)     at io.realm.internal.modules.CompositeMediator.insertOrUpdate(CompositeMediator.java:121)     at io.realm.Realm.insertOrUpdate(Realm.java:853)  On this line     RealmProxyMediator mediator = getMediator(Util.getOriginalModelClass(Util.getOriginalModelClass(objects.iterator().next().getClass())));  Steps & Code to Reproduce Try to save an empty RealmList. Version of Realm and tooling Realm version(s): 1.1.0 Android Studio version: 2.1.1 but it's irrelevant Which Android version and device: 6.0.2  Nexus 5X,0
3105,16-07-01,Issue 3105 : insertOrUpdate(T t) fails on RealmList<Persons> field ， Issue #3105 ， realm/realm-java ， GitHub Goal What do you want to achieve? Save a RentalProgram object that contains a RealmList<Persons> object Expected Results It should work just like when I used copyToRealmOrUpdate()  which works Actual Results Using insertOrUpdate()  the rentalProgram.getCast() is empty! Steps & Code to Reproduce Describe your current debugging efforts. Frickin' ProGuard eats my debug efforts  but it's quite clear that the cast list is empty if I use insertOrUpdate()  while it works as intended with copyToRealmOrUpdate(). Code Sample public class RentalProgram extends RealmObject {     @PrimaryKey     private long id;     private RealmList<RentalProgramVersion> versions;     private String title;     private String href;     private String imageSrc;     private String baseInfoText;     private String originalTitle;     private String trailerUrl;     private String description;     private String ageRating;     private RealmList<Persons> cast;     private String categoryHref;     private String releaseYear;     // getters setters }  public class RentalProgramVersion extends RealmObject {     @PrimaryKey     private long id;     private String releaseYear;     private int ageRating;     private String title;     private long duration;     private long price;     private String vodType;     private String packageName;     private long packageExternalId;     //getters setters }  public class Persons         extends RealmObject {     @PrimaryKey     private long id;     private String role;     private RealmList<Person> persons;     //getters setters }  public class Person         extends RealmObject {     @PrimaryKey     private long id;     private String name;     //getters setters } and the code where persistence happens is         RealmList<Persons> castList = new RealmList<>();         if(rentalProgramAdditionalXML.getCast() != null && rentalProgramAdditionalXML.getCast()                 .getPersons() != null) {             for(PersonsXML personsXML : rentalProgramAdditionalXML.getCast().getPersons()) {                 castList.add(personsMapper.toRealmObject(realm  personsXML  null));             }         }         realm.beginTransaction();         castList = personsRepository.persistOrUpdate(realm  castList);         rentalProgram.setCast(castList);         rentalProgram.setOriginalTitle(RealmUtils.nullToEmpty(rentalProgramAdditionalXML.getOriginalTitle()));         rentalProgram.setTrailerUrl(RealmUtils.nullToEmpty(rentalProgramAdditionalXML.getTrailerUrl()));         rentalProgram.setDescription(RealmUtils.nullToEmpty(rentalProgramAdditionalXML.getDescription()));         rentalProgramRepository.saveOrUpdate(realm  rentalProgram);         realm.commitTransaction(); where     @Override     public RealmList<T> persistOrUpdate(Realm realm  RealmList<T> list) {         RealmList<T> realmList = new RealmList<>();         for(T t : realm.copyToRealmOrUpdate(list)) {             realmList.add(t);         }         return realmList;     }      @Override     public void saveOrUpdate(Realm realm  T t) {         realm.insertOrUpdate(t);     }      @Override     public void saveOrUpdate(Realm realm  RealmList<T> list) {         if(!list.isEmpty()) {             realm.insertOrUpdate(list);         }     } When I use rentalProgramRepository.persistOrUpdate(realm  rentalProgram); (copy to realm)  the Cast list works properly  but when I use rentalProgramRepository.saveOrUpdate(realm  rentalProgram); (insert to realm)  the Cast list is empty. rentalProgram = rentalProgramRepository.query(realmHolder.getRealm())                                .equalTo(RentalProgram.Fields.ID.getField()  programId).findFirst(); for(int j = 0; j < rentalProgram.getCast().size(); j++) { //getCast() is empty with insert  and filled with copy     Persons personGroup = rentalProgram.getCast().get(j);  I'll probably have to send code over to reproduce it. Note: It might be relevant that my realm configuration is this:  .modules(new SchemaRecordings()  new SchemaRental()  new SchemaTApps()  new SchemaTVPrograms())  and Persons is only in one of them: @RealmModule(classes = {RentalCategory.class          RentalProgram.class          RentalProgramCategory.class          RentalProgramVersion.class          RentalSearchProgram.class}) public class SchemaRental { }  @RealmModule(classes = {         Person.class  Persons.class  Picture.class  PictureSizesAndUrl.class  ProgramInfo.class  ProgramInfoSchedule.class  ProgramNotification.class          Channel.class  Schedule.class  TVGroup.class }) public class SchemaTVPrograms { } Version of Realm and tooling Realm version(s): 1.1.0 Android Studio version: 2.1.1 (irrelevant) Which Android version and device: 6.0.2  Nexus 5X,0
3115,16-07-04,Issue 3115 : kotlin.incremental=true cause problems with annotation processor ， Issue #3115 ， realm/realm-java ， GitHub Hello   I get this error when i build my project unreachable statament in DefaultRealmModuleMediator.java and it points to throw getMissingProxyClassException(clazz); if (iterator.hasNext()) { throw getMissingProxyClassException(clazz); } Can you help me please ?,0
3118,16-07-04,Issue 3118 : RealmObjectSchema.setClassName() should amend pkTable entry ， Issue #3118 ， realm/realm-java ， GitHub Goal We have covered cases where @PrimaryKey field is renamed or RealmSchema.rename() is involved. When RealmObjectSchema.setClassName() is called  however  it has potential to lose track of @PrimaryKey of a Table. This is addressed by @beeender and should be fixed. Expected Results RealmObjectSchema.setClassName() is called  pkTable should be adjusted accordingly. Actual Results pkTable is not adjusted as of now 3ff5741 (July 4th  2016). Steps & Code to Reproduce N/A Code Sample Version of Realm and tooling Realm version(s): 1.1.0 Android Studio version: N/A Which Android version and device: N/A,0
3124,16-07-05,Issue 3124 : What's the "INSTALL_FAILED_DEXOPT" means when upgrade to 1.1.0? ， Issue #3124 ， realm/realm-java ， GitHub Hi  guys: I got an issue when upgrade realm from 1.0.1 to 1.1.0 and choose run button in Android Studio 2.1.2(app running perfect with 1.0.1): Installation failed since the device possibly has stale dexed jars that don't match the current version(dexopt error). In order to proceed  you have to uninstall the existing application. errors in AS run history: Failure [INSTALL_FAILED_DEXOPT] After uninstall the existing app  AS ask to uninstall existing app again(the app has already uninstalled)  and got another error DELETE_FAILED_INTERNAL_ERROR This uninstall dialog appears every time when running app and got the same error INSTALL_FAILED_DEXOPT When I back to realm 1.0.1 and sync the project  the app running perfect. I have tried to clean the project  or delete all build directory  or invalidate caches/restart AS  but can not fix it. is there any other advice? Thanks! Version of Realm and tooling Realm version(s): 1.1.0 Android Studio version: 2.1.2 Which Android version and device: Samsung Note3  Android 5.0,0
3140,16-07-06,Issue 3140 : Error: Operation not permitted in io_realm_internal_SharedGroup.cpp ， Issue #3140 ， realm/realm-java ， GitHub Goal What do you want to achieve? Actual Results io.realm.exceptions.RealmError: Unrecoverable error. Operation not permitted in io_realm_internal_SharedGroup.cpp line 113 at io.realm.internal.SharedGroup.createNativeWithImplicitTransactions(Native Method) at io.realm.internal.SharedGroup.openSharedGroupOrFail(SharedGroup.java:95) at io.realm.internal.SharedGroup.<init>(SharedGroup.java:74) at io.realm.internal.SharedGroupManager.<init>(SharedGroupManager.java:49) at io.realm.BaseRealm.<init>(BaseRealm.java:81) at io.realm.Realm.<init>(Realm.java:140) at io.realm.Realm.createAndValidate(Realm.java:240) at io.realm.Realm.createInstance(Realm.java:220) at io.realm.RealmCache.createRealmOrGetFromCache(RealmCache.java:126) at io.realm.Realm.getDefaultInstance(Realm.java:166) at br.com.jbsoft.mobile.di.modules.ProviderModule.provideRealm(ProviderModule.java:28) at br.com.jbsoft.mobile.di.modules.ProviderModule_ProvideRealmFactory.get(ProviderModule_ProvideRealmFactory.java:19) at br.com.jbsoft.mobile.di.modules.ProviderModule_ProvideRealmFactory.get(ProviderModule_ProvideRealmFactory.java:8) at br.com.jbsoft.mobile.models.ControleUsuario_MembersInjector.injectMembers(ControleUsuario_MembersInjector.java:33) at br.com.jbsoft.mobile.models.ControleUsuario_MembersInjector.injectMembers(ControleUsuario_MembersInjector.java:9) at br.com.jbsoft.mobile.di.components.DaggerProviderComponent.inject(DaggerProviderComponent.java:243) at br.com.jbsoft.mobile.models.ControleUsuario.inject(ControleUsuario.java:31) at br.com.jbsoft.mobile.models.ControleUsuario.getUsuario(ControleUsuario.java:35) at br.com.jbsoft.mobile.views.Main.onCreate(Main.java:59) at br.com.jbsoft.mobile.componentes.BaseActivity.onCreate(BaseActivity.java:86) at android.app.Activity.performCreate(Activity.java:6500) at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1120) at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3072) at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3218) at android.app.ActivityThread.access$1000(ActivityThread.java:198) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1676) at android.os.Handler.dispatchMessage(Handler.java:102) at android.os.Looper.loop(Looper.java:145) at android.app.ActivityThread.main(ActivityThread.java:6837) at java.lang.reflect.Method.invoke(Native Method) at java.lang.reflect.Method.invoke(Method.java:372) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1404) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1199) Steps & Code to Reproduce Just start the application and get the exception :[ Code Sample My config         RealmConfiguration configuration = new RealmConfiguration                 .Builder(this  new File(getCaminhoDB(Boolean.FALSE)))                 .name(Constantes.arquivos.DB_REALM_FINAL)                .encryptionKey(Preferencias.getInstance().getDbk())                 .schemaVersion(BuildConfig.DB_VERSION)                 .modules(new InitialVersion())                 .migration(new MigrationDB())                 .build();          Realm.setDefaultConfiguration(configuration);         RealmLog.add(new DebugAndroidLogger());   and getCaminhoDB:   private static String getCaminhoDB(@NonNull Context context) {         if (isExternalStorageWritable()) {             return context.getExternalFilesDir("database").toString();         } else {             return context.getFilesDir().getAbsolutePath();         }     }  getKeyDef():     public static byte[] getKeyDef() {         byte[] key = new byte[64];         String s = "***********************************************************************";         try {             new SecureRandom(s.getBytes("us-ascii")).nextBytes(key);         } catch (UnsupportedEncodingException e) {             e.printStackTrace();         }         return key;     } Version of Realm and tooling Realm version(s): 1.1.0 Android Studio version: 2.1.2 Which Android version and device: I test with Emulator (Android 6.0) and Xiaomi redmi 2 prime (Android 4.4),0
3173,16-07-12,Issue 3173 : Transaction state checking is missing for bulk insertion ， Issue #3173 ， realm/realm-java ， GitHub And it is definitely necessary checking.,0
3178,16-07-13,Issue 3178 : Blackberry Z10: Function not implemented in io_realm_internal_SharedGroup.cpp line 113 ， Issue #3178 ， realm/realm-java ， GitHub We got a lone wolf crash. Did not encounter any repeating or similar crashes before. Maybe related to #1380 and recent core/jni changes in master. Blackberry Z10 Android Version: 4.3 Realm Version: 1.1.1-SNAPSHOT (end of July 8th) Non-fatal Exception: io.realm.exceptions.RealmError: Unrecoverable error. Function not implemented in io_realm_internal_SharedGroup.cpp line 113 at io.realm.internal.SharedGroup.createNativeWithImplicitTransactions(Unknown Source) at io.realm.internal.SharedGroup.openSharedGroupOrFail(Unknown Source:95) at io.realm.internal.SharedGroup.(Unknown Source:74) at io.realm.internal.SharedGroupManager.(Unknown Source:3126),0
3188,16-07-15,Issue 3188 : IllegalArgumentException: Field 'xxx': type mismatch. Was DATE ， Issue #3188 ， realm/realm-java ， GitHub This kind of crash happened to @KynoYang a few times  but the crash logs are not exact the same: Crash 1 java.lang.IllegalArgumentException: Field 'xxx': type mismatch. Was DATE  expected [STRING].     at io.realm.RealmObjectSchema.getColumnIndices(RealmObjectSchema.java:618)     at io.realm.RealmQuery.equalTo(RealmQuery.java:262)     at io.realm.RealmQuery.equalTo(RealmQuery.java:249)     at com.xxx.xx.data.xxx.getLatestMsg(xxx.java:80)  Crash 2 io.realm.exceptions.RealmError: Unrecoverable error. Data type mismatch in io_realm_internal_TableQuery.cpp line 886     at io.realm.internal.TableQuery.nativeEqual(Native Method)     at io.realm.internal.TableQuery.equalTo(TableQuery.java:350)     at io.realm.RealmQuery.equalTo(RealmQuery.java:263)     at io.realm.RealmQuery.equalTo(RealmQuery.java:249)     at com.xx.xxx.data.xxxxxxx.getXXXByVid(xxx.java:98)  From the log we can see the first exception was thrown in the java  but the 2nd one was thrown from native code. This is abnormal. Since the both of them went through the same calling routine that the 2nd one did the java side type checking as well -- But it threw later. It might indicate that we have a corrupted pointer that caused by a concurrency problem. PS.: There are also a few other crashes from @KynoYang which indicate the similar problem. But those two are quite typical. Might be fixed by realm/realm-core#1958 . We need to monitor this after v1.1.1 release.,0
3197,16-07-20,Issue 3197 : Too many open files after upgrade to 1.1.0 ， Issue #3197 ， realm/realm-java ， GitHub Goal What do you want to achieve? Not have the app crash ? Actual Results Seeing some unusual stack traces: java.lang.IllegalArgumentException: Illegal Argument: open("/data/data/com.truly.truly/files/default.realm.management/log_access") failed: Too many open files path: /data/data/com.truly.truly/files/default.realm.management/log_access in io_realm_internal_SharedGroup.cpp line 188  java.lang.IllegalArgumentException: Illegal Argument: open("/data/data/com.truly.truly/files/default.realm.management/log_access") failed: Too many open files path: /data/data/com.truly.truly/files/default.realm.management/log_access in io_realm_internal_SharedGroup.cpp line 188  Steps & Code to Reproduce The full stack traces don't reveal much additional useful information and no substantial changes that would cause may more realms to be created. Any suggestions for debugging would be appreciated. Version of Realm and tooling Realm version(s): 1.1.0 Android Studio version: 2.1 Which Android version and device: Various devices and operating systems in production environment,0
3200,16-07-21,Issue 3200 : isLoaded() seems to be returning an incorrect value. ， Issue #3200 ， realm/realm-java ， GitHub I have created a project to replicate the issue I am having. https://github.com/chrisolsen/realm-issue In the onChange listener the RealmObject's isLoaded() method is returning a true value  but when I then try to bind the data an IllegalStateException is thrown telling me that I should first check it is loaded. If you run the linked android project the bug will only be seen on the first launch  after that a row will exist in the db thereby avoiding the issue. Expected Results isLoaded should initially return false  until the IntentService inserts the data. Actual Results isLoaded() returns true before any data exists in the db  causing a crash 07-20 10:14:46.833 5112-5112/com.example.chris.test D/User null?: no 07-20 10:14:46.833 5112-5112/com.example.chris.test D/User loaded?: true 07-20 10:14:46.836 5112-5262/com.example.chris.test D/onHandleIntent: in the service 07-20 10:14:46.863 5112-5112/com.example.chris.test D/AndroidRuntime: Shutting down VM                                                                         --------- beginning of crash 07-20 10:14:46.863 5112-5112/com.example.chris.test E/AndroidRuntime: FATAL EXCEPTION: main                                                                       Process: com.example.chris.test  PID: 5112                                                                       java.lang.IllegalStateException: Can't access a row that hasn't been loaded  make sure the instance is loaded by calling RealmObject.isLoaded().                                                                           at io.realm.internal.Row$1.getString(Row.java:176)                                                                           at io.realm.UserRealmProxy.realmGet$name(UserRealmProxy.java:60)                                                                           at com.example.chris.test.UserData.getName(UserData.java:11)                                                                           at com.example.chris.test.databinding.ActivityMainBinding.executeBindings(ActivityMainBinding.java:96)                                                                           at android.databinding.ViewDataBinding.executePendingBindings(ViewDataBinding.java:355)                                                                           at android.databinding.ViewDataBinding$6.run(ViewDataBinding.java:172)                                                                           at android.databinding.ViewDataBinding$7.doFrame(ViewDataBinding.java:238)                                                                           at android.view.Choreographer$CallbackRecord.run(Choreographer.java:856)                                                                           at android.view.Choreographer.doCallbacks(Choreographer.java:670)                                                                           at android.view.Choreographer.doFrame(Choreographer.java:603)                                                                           at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:844)                                                                           at android.os.Handler.handleCallback(Handler.java:739)                                                                           at android.os.Handler.dispatchMessage(Handler.java:95)                                                                           at android.os.Looper.loop(Looper.java:148)                                                                           at android.app.ActivityThread.main(ActivityThread.java:5417)                                                                           at java.lang.reflect.Method.invoke(Native Method)                                                                           at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)                                                                           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)  Steps & Code to Reproduce Run the linked app. The first time the app is run the above crash will occur  after that the app will work as intended. Code Sample See https://github.com/chrisolsen/realm-issue Version of Realm and tooling Realm version(s): 1.1.0 Android Studio version: 2.1.2 Which Android version and device: Nexus5 emulator (android 6.0)  Nexus 7 device (android 6.0),0
3212,16-07-25,Issue 3212 : @PrimaryKey is not handled correctly when using insert() ， Issue #3212 ， realm/realm-java ， GitHub Steps & Code to Reproduce public class PrimaryKeyActivity extends Activity {     private static final String TAG = PrimaryKeyActivity.class.getSimpleName();      @Override     protected void onCreate(Bundle savedInstanceState) {         super.onCreate(savedInstanceState);          final Car car = new Car();         car.wheels = new RealmList<>(new Wheel()  new Wheel());          final Realm realm = Realm.getDefaultInstance();         Log.d(TAG  "Number of wheels with id 1 before inserting: " + realm.where(Wheel.class).equalTo("id"  1).count());         realm.beginTransaction();         realm.insert(car);         realm.commitTransaction();         Log.d(TAG  "Number of wheels with id 1 after inserting: " + realm.where(Wheel.class).equalTo("id"  1).count());         realm.close();     } }  public class Car extends RealmObject {     @PrimaryKey     private long id = 42;     public RealmList<Wheel> wheels; }  public class Wheel extends RealmObject {     @PrimaryKey     private long id = 1; }  Expected log output: D/PrimaryKeyActivity: Number of wheels with id 1 before inserting: 0 D/PrimaryKeyActivity: Number of wheels with id 1 after inserting: 1 Actiual log output: D/PrimaryKeyActivity: Number of wheels with id 1 before inserting: 0 D/PrimaryKeyActivity: Number of wheels with id 1 after inserting: 2 As you can see  we have two objects with the same primary key. Note that insertOrUpdate() and copyToRealm() work correctly. Version of Realm and tooling Realm version(s): 1.1.0 Android Studio version: 2.1.2 Which Android version and device: Android 4.2.2 on Samsung GT-I9105,1
3215,16-07-26,Issue 3215 : Crash: table index out of range #2522 still exists! ， Issue #3215 ， realm/realm-java ， GitHub The bug 'Crash: table index out of range #2522' is said to be closed in Realm version 1.0.0 This bug still exists. This happened in an old low end device. CrashLog  Fatal Exception: io.realm.exceptions.RealmError: Unrecoverable error. Table index out of range in io_realm_internal_Group.cpp line 190        at io.realm.internal.Group.nativeGetTableNativePtr(Group.java)        at io.realm.internal.Group.getTable(Group.java:199)        at io.realm.internal.SharedGroupManager.getTable(SharedGroupManager.java:90)        at io.realm.BaseRealm.getVersion(BaseRealm.java:427)        at io.realm.Realm.getVersion(Realm.java:7120)        at io.realm.Realm.createInstance(Realm.java:228)        at io.realm.RealmCache.createRealmOrGetFromCache(RealmCache.java:126)        at io.realm.Realm.getDefaultInstance(Realm.java:174)        at com.talkoot.android.pubnub.PubNubObserverDelegateImpl$$Lambda$2.run(Unknown Source:1072)        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)        at java.lang.Thread.run(Thread.java:838)   We are using realm 1.0.0. Device : iris405 OS : 4.2.2 Rooted : yes Free Space :300.64 MB Free Ram : 61.21 MB,0
3217,16-07-27,Issue 3217 : Add quotes around field names in RealmProxy exceptions ， Issue #3217 ， realm/realm-java ， GitHub Feature Request Goal Read an exception regarding a field and determing which field is being referred to. The field's name is code. Expected Results Immediate recognition that the problematic field is code. Actual Results Temporary confusion about message. It is arguable that code is a bad name for a field  but I'm sure there are others that are just as problematic. I ask that you simply change the exception string from: throw new IllegalArgumentException("Trying to set non-nullable field code to null."); to: throw new IllegalArgumentException("Trying to set non-nullable field 'code' to null."); This is the error I came across  but you may want to go through other generated error messages to see if there is a similar issue.,0
3218,16-07-27,Issue 3218 : java.lang.NullPointerException while building with gradle ， Issue #3218 ， realm/realm-java ， GitHub As the title says  I get a NullPointerException when building my project with gradle in Android Studio. Below is the stacktrace. I can assume the problem is with one of my RealmObject classes  but error doesn't give me a hint which one. I'm using Realm 1.1.0. Can you help please? org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:compileBetaDebugJavaWithJavac'.     at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)     at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)     at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)     at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)     at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)     at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:52)     at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)     at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)     at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)     at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:203)     at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:185)     at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:66)     at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:50)     at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:25)     at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:110)     at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)     at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)     at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)     at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)     at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)     at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)     at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)     at org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:154)     at org.gradle.internal.Factories$1.create(Factories.java:22)     at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)     at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:52)     at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:151)     at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:32)     at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:99)     at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:93)     at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)     at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:62)     at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:93)     at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:82)     at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:94)     at org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:46)     at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)     at org.gradle.tooling.internal.provider.runner.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:58)     at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)     at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:43)     at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:28)     at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:75)     at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:45)     at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:52)     at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)     at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)     at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)     at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)     at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)     at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)     at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)     at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)     at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)     at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)     at org.gradle.util.Swapper.swap(Swapper.java:38)     at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)     at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)     at org.gradle.launcher.daemon.server.health.DaemonHealthTracker.execute(DaemonHealthTracker.java:47)     at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)     at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:66)     at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)     at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)     at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:72)     at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)     at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)     at org.gradle.launcher.daemon.server.health.HintGCAfterBuild.execute(HintGCAfterBuild.java:41)     at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)     at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)     at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:246)     at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)     at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40) Caused by: java.lang.RuntimeException: java.lang.NullPointerException     at com.sun.tools.javac.main.Main.compile(Main.java:469)     at com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:132)     at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:46)     at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:33)     at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:104)     at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:53)     at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:38)     at org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:35)     at org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:25)     at org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:163)     at org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:145)     at org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:93)     at com.android.build.gradle.tasks.factory.AndroidJavaCompile.compile(AndroidJavaCompile.java:49)     at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:75)     at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.doExecute(AnnotationProcessingTaskFactory.java:244)     at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:220)     at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.execute(AnnotationProcessingTaskFactory.java:231)     at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:209)     at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:80)     at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:61)     ... 70 more Caused by: java.lang.NullPointerException     at io.realm.processor.ClassMetaData.checkListTypes(ClassMetaData.java:175)     at io.realm.processor.ClassMetaData.generate(ClassMetaData.java:118)     at io.realm.processor.RealmProcessor.process(RealmProcessor.java:143)     at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:793)     at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:722)     at com.sun.tools.javac.processing.JavacProcessingEnvironment.access$1700(JavacProcessingEnvironment.java:97)     at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1029)     at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1163)     at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1108)     at com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:824)     at com.sun.tools.javac.main.Main.compile(Main.java:439)     ... 89 more,0
3244,16-08-03,Issue 3244 : Crash in the threadExample project. ， Issue #3244 ， realm/realm-java ， GitHub Caused by: java.lang.IllegalStateException: Changing Realm data can only be done from inside a transaction.                                                                                at io.realm.internal.Table.throwImmutable(Table.java:1375)                                                                                at io.realm.internal.Table.checkImmutable(Table.java:1030)                                                                                at io.realm.internal.Table.clear(Table.java:320)                                                                                at io.realm.Realm.delete(Realm.java:1265)                                                                                at io.realm.examples.threads.PassingObjectsFragment.onDestroy(PassingObjectsFragment.java:116) @Override     public void onDestroy() {         super.onDestroy();         // Clear out all Person instances.         realm.delete(Person.class);         realm.close();     } According to the document  delete need to put in a transaction.,1
3272,16-08-09,Issue 3272 : Updating Realm instance in NotificationListenerService ， Issue #3272 ， realm/realm-java ， GitHub http://stackoverflow.com/questions/38833163/realmchangelistener-does-not-get-called-when-realm-gets-updated-in-notificationl I brought this over because waitForChange() froze  and refresh() was removed  so the guy doesn't know what to do. This could easily be a problem with how waitForChange() works. My wild guess for a possible solution is switching to a HandlerThread with setAutorefresh(true)  or forcing an update in the Handler Controller.,0
3292,16-08-15,Issue 3292 : FATAL columnIndex is less than 0 ， Issue #3292 ， realm/realm-java ， GitHub Goal Query on brand new DynamicRealm Expected Results Get an error similar to Table "Thing" does not exist in schema Actual Results Fatal crash java.lang.ArrayIndexOutOfBoundsException: columnIndex is less than 0. Steps & Code to Reproduce Create a new DynamicRealm Run something like: dynamicRealm.where("Thing").equalTo("id"  id).findFirst(); Version of Realm and tooling Realm version(s): 1.1.1 Android Studio version: 2.2 Beta Which Android version and device: Android 5.1 on Huawei Mate S,0
3293,16-08-16,Issue 3293 : signal 7 (SIGBUS)  code 2 (BUS_ADRERR)/signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR) ， Issue #3293 ， realm/realm-java ， GitHub Goal No crash Expected Results No crash Steps & Code to Reproduce Unable to reproduce error. We do not have the db file that created this error. Version of Realm and tooling Realm version(s): 1.1.1 Android Studio version: 2.2-beta Which Android version and device: This user crashed with same error type "signal 7 (SIGBUS)  code 2 (BUS_ADRERR" 5 consecutive times at different fault address but same backtrace. Build fingerprint: 'samsung/s3ve3gxx/s3ve3g:4.4.2/KOT49H/I9301IXCSAPG7:user/release-keys' Revision: '4' pid: 24157  tid: 24178  name: BgGopherThread  >>> com.myapp <<< signal 7 (SIGBUS)  code 2 (BUS_ADRERR)  fault addr 78f99ff0     r0 7909cfb0  r1 78f99ff0  r2 001d5ba8  r3 78e97048     r4 001d5ba8  r5 78f9a008  r6 001d5be8  r7 001d5ba8     r8 78f9a008  r9 00984411  sl 001c0000  fp 00000000     ip 000040b5  sp 7869c9e0  lr 78f99dd0  pc 400a972c  cpsr 200d0030     d0  0000000000000000  d1  0000000000000000     d2  0000000000000000  d3  0000000000000000     d4  0000000000000000  d5  0000000000000000     d6  0000000000000000  d7  0000000000000000     d8  0000000000000000  d9  0000000000000000     d10 0000000000000000  d11 0000000000000000     d12 0000000000000000  d13 0000000000000000     d14 0000000000000000  d15 0000000000000000     d16 7373656363612f74  d17 6c6f72746e6f635f     d18 72706e6f69746369  d19 666e61662e737365     d20 662f6e6f69746369  d21 6361632f73656c69     d22 6d2e62642e326568  d23 6e656d6567616e61     d24 3fd1b10853a79915  d25 3fd554fa9ca0567a     d26 3fdb6db71408e660  d27 3fe33333332d4313     d28 3ff0000000000000  d29 0000000000000001     d30 fff0000000000000  d31 ffffffff00000000     scr 20000010  backtrace:     #00  pc 0002272c  /system/lib/libc.so (memmove+99)     #01  pc 0001fcd1  /data/app-lib/com.myapp-9/librealm-jni.so  Same user crashed 2 times with a slightly different back trace. Build fingerprint: 'samsung/s3ve3gxx/s3ve3g:4.4.2/KOT49H/I9301IXCSAPG7:user/release-keys' Revision: '4' pid: 11686  tid: 11686  name: ress.myapp  >>> com.myapp <<< signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 7969a000     r0 79fa9f88  r1 79699fe8  r2 001d5ba8  r3 6f697461     r4 001d5ba8  r5 79ec7008  r6 001d5be8  r7 001d5ba8     r8 79ec7008  r9 00000000  sl 7969a380  fp 00000000     ip 00003ca1  sp be8d7188  lr 000003c0  pc 400a924c  cpsr 200d0030     d0  0000000000000000  d1  0000000000000000     d2  0000000000000000  d3  0000000000000000     d4  0000000000000000  d5  0000000000000000     d6  0000000000000000  d7  0000000000000000     d8  0000000000000000  d9  0000000000000000     d10 0000000000000000  d11 0000000000000000     d12 0000000000000000  d13 0000000000000000     d14 0000000000000000  d15 0000000000000000     d16 7373656363612f74  d17 6c6f72746e6f635f     d18 72706e6f69746369  d19 666e61662e737365     d20 662f6e6f69746369  d21 6361632f73656c69     d22 6d2e62642e326568  d23 6e656d6567616e61     d24 3f8fcf331262ca11  d25 0109010a010a0109     d26 0000000000000000  d27 0000000000000000     d28 00f100f200f200f1  d29 00f600f500f400f3     d30 010a010a010a010a  d31 0000000000000000     scr 20000012  backtrace:     #00  pc 0002224c  /system/lib/libc.so (__memcpy_base+163)     #01  pc 0001fcd1  /data/app-lib/com.myapp-9/librealm-jni.so,0
3294,16-08-16,Issue 3294 : A/libc: Fatal signal 11 (SIGSEGV)  code 1  fault addr 0x69 in tid 3715 ， Issue #3294 ， realm/realm-java ， GitHub Goal Clearer error message. I had accidentally auto-completed a getString as a getShort somewhere in my codebase. Took a bit of time to track it down due to mystical error message. This is using a DynamicRealm. Expected Results Error that says something like Type error: cannot convert string field to short Actual Results Get this single line error: A/libc: Fatal signal 11 (SIGSEGV)  code 1  fault addr 0x69 in tid 3715  Steps & Code to Reproduce Call getShort("field") on a field defined as schema.addField("field"  String.class). Code Sample > Your code here. Bigger samples should ideally be as separate Android Studio project   > in gists/repositories or privately at help@realm.io)  Version of Realm and tooling Realm version(s): 1.1.1 Android Studio version: 2.2 Beta Which Android version and device: Android 5.1 on a Huawei Mate S,0
3307,16-08-17,Issue 3307 : 'com.intellij:annotations' lib included as generated code  causing DEX conflicts ， Issue #3307 ， realm/realm-java ， GitHub Goal Build an application that depends on Realm and an aar dependency that includes com.intellij:annotations as a dependency. Expected Results The application builds successfully. Actual Results When assembling the application  I get this error. FAILURE: Build failed with an exception.  * What went wrong: Execution failed for task ':apps:questionnaire:app:transformClassesWithDexForDebug'. > com.android.build.api.transform.TransformException: com.android.ide.common.process.ProcessException: java.util.concurrent.ExecutionException: com.android.dex.DexException: Multiple dex files define Lorg/jetbrains/annotations/NotNull;  Steps & Code to Reproduce App build file contains the following: buildscript {     repositories {         classpath 'io.realm:realm-gradle-plugin:1.1.0'     } }  dependencies {     compile project(':path:to:library:project') }  Library build file contains: dependencies {     compile 'com.intellij:annotations:12.0' }  Workaround Since Realm generates the annotations library into the build/intermediates/transforms/RealmOptionalAPITransformer/debug/folders/1/10/realm-optional-api/org/jetbrains  there is no way to exclude it from the classpath using Gradle's typical exclude group: 'com.intellij'  module: 'annotations' method  so in order to fix it I've had to do: configurations {     compile.exclude group: 'com.intellij'  module: 'annotations' }  This solution works  but is not ideal. If the annotations module gets an update that dependent libraries (or even my app) require  I won't be able to get it until I update to a version of realm that supplies the updated annotations library (if one even exists). I recommend adding compile 'com.intellij:annotations:12.0 to the project through the realm-gradle-plugin  instead of generating a copy of the intellij library in build/intermediates/. Version of Realm and tooling Realm version(s): realm-gradle-plugin 1.1.0,0
3326,16-08-20,Issue 3326 : Improve control of [possibly flawed] RealmLog default/custom logger ， Issue #3326 ， realm/realm-java ， GitHub Goal/Expected Results More reasonable control of RealmLog.LOGGERS; mostly the ability to remove the default logger. RealmBase automatically adds during static initialization: https://github.com/realm/realm-java/blob/master/realm/realm-library/src/main/java/io/realm/BaseRealm.java#L80 Possibly a RealmLog.set(Logger logger) or a RealmLog.clear() would be sufficient. Actual Results First of all  RealmBase's "BuildConfig.DEBUG ? DebugAndroidLogger : ReleaseAndroidLogger" logic is based off of "com.getkeepsafe.relinker.BuildConfig". This logic seems like a bug...two actually. The logic should probably be based off of "io.realm.BuildConfig". Libraries by default build as Release  and I am assuming Realm is  so this will always evaluate to ReleaseAndroidLogger. Second of all  RealmLog provides no way to remove this logger. The result is that adding a custom logger ends up showing some duplicate messages. Steps & Code to Reproduce if (REALM_LOG_LEVEL >= RealmLog.VERBOSE) {     if (false)     {         // Spews lots of not very useful [to me] info...         io.realm.internal.Util.setDebugLevel(1);     }      //     // NOTE: Realm already adds a DebugAndroidLogger or ReleaseAndroidLogger:     //  https://github.com/realm/realm-java/blob/master/realm/realm-library/src/main/java/io/realm/BaseRealm.java#L80     // But  that logic is flawed because it uses com.getkeepsafe.relinker.BuildConfig and will always compile as     // Release and will always add ReleaseAndroidLogger.     // Realm provides no way to remove this Logger.     //     AndroidLogger androidLogger = new AndroidLogger();     androidLogger.setMinimumLogLevel(REALM_LOG_LEVEL);     androidLogger.setTag("MYREALM");     RealmLog.add(androidLogger); } Version of Realm and tooling Realm version(s): 1.1.1 Android Studio version: 2.1.3 Which Android version and device: N/A,0
3337,16-08-23,Issue 3337 : java.lang.ArrayIndexOutOfBoundsException rowIndex > available rows ， Issue #3337 ， realm/realm-java ， GitHub Expected Results No crash Actual Results Fatal Exception: java.lang.ArrayIndexOutOfBoundsException: rowIndex > available rows: 4 > 4        at io.realm.internal.TableView.nativeRemoveRow(TableView.java)        at io.realm.internal.TableView.remove(TableView.java:405)        at io.realm.RealmResults.deleteFromRealm(RealmResults.java:246)        at removed.SavedMediaRecyclerViewAdapter$8.onClick(SavedMediaRecyclerViewAdapter.java:288)        at cn.pedant.SweetAlert.SweetAlertDialog.onClick(SweetAlertDialog.java:372)        at android.view.View.performClick(View.java:4240)        at android.view.View$PerformClick.run(View.java:17721)        at android.os.Handler.handleCallback(Handler.java:730)        at android.os.Handler.dispatchMessage(Handler.java:92)        at android.os.Looper.loop(Looper.java:137)        at android.app.ActivityThread.main(ActivityThread.java:5199)        at java.lang.reflect.Method.invokeNative(Method.java)        at java.lang.reflect.Method.invoke(Method.java:525)        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:737)        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)        at dalvik.system.NativeStart.main(NativeStart.java) Steps & Code to Reproduce I am using RealmBasedRecyclerViewAdapter (https://github.com/thorbenprimke/realm-recyclerview - but I think this kind of issue should in Realm not the lib so I am posting it here) for my RecyclerView  I just override onItemSwipedDismiss to show confirm dialog before actual deleting object from Realm. So can you please take a look. Thanks Code Sample @Override     public void onItemSwipedDismiss(final int position) {         new SweetAlertDialog(mContext  SweetAlertDialog.WARNING_TYPE)                 .setTitleText(mContext.getString(R.string.delete_confim_prompt))                 .setContentText(mContext.getString(R.string.wont_recover))                 .setConfirmText(mContext.getString(R.string.yes_delete))                 .setCancelText(mContext.getString(R.string.no_cancel))                 .showCancelButton(true)                 .setConfirmClickListener(new SweetAlertDialog.OnSweetClickListener() {                     @Override                     public void onClick(SweetAlertDialog sDialog) {                         Realm realm = Realm.getDefaultInstance();                         realm.beginTransaction();                         realmResults.deleteFromRealm(position);                         realm.commitTransaction();                         notifyItemRemoved(position);                         realm.close();                         sDialog.dismissWithAnimation();                     }                 })                 .setCancelClickListener(new SweetAlertDialog.OnSweetClickListener() {                     @Override                     public void onClick(SweetAlertDialog sDialog) {                         sDialog.dismissWithAnimation();                         notifyItemChanged(position);                     }                 })                 .show();     }  Version of Realm and tooling Realm version(s): 1.1.0  1.1.1  1.2.0 Android Studio version: 2.2 beta Which Android version and device: C6530N (4.3)  GT-I9300 (4.3)  JAX QS (4.4.2)...,0
3356,16-08-27,Issue 3356 : Lint errors if minSdk < 11 ， Issue #3356 ， realm/realm-java ， GitHub Apparently Realm should work on Android all the way down to API 9 (https://realm.io/docs/java/latest/#prerequisites)  but if your minSdk is below 11  you get a whole bunch of lint errors that break the build (even with a new Realm sample).,0
3361,16-08-29,Issue 3361 : [SO] Realm-Transformer doesn't work in constructor ， Issue #3361 ， realm/realm-java ， GitHub Ported from Stack Overflow Goal What do you want to achieve? Expected Results When giving managed RealmObject to constructor  the value should be available through field access Actual Results The managed RealmObject's field access returns null However  using managed RealmObject's getter/setter instead returns the proper value (In log  not in debugger) Steps & Code to Reproduce Code Sample  realm = Realm.getDefaultInstance();  realm.executeTransaction(new Realm.Transaction() {       @Override       public void execute(Realm realm) {             Stock stock1 = new Stock();             stock1.id = "stock1";             managedStock = realm.copyToRealm(stock1);       } }); //output here: managedStock.id = stock1 Log.d("myLogs"  "managedStock.id = " + managedStock.id); Goods goods = new Goods(managedStock); and public class Goods extends RealmObject {     @PrimaryKey     public String id;     public Stock stock;      public Goods() {}      public Goods(Stock s) {         //output here: s.id == null         Log.d("myLogs"  "s.id == " + s.id);     } } and public class Stock extends RealmObject {     @PrimaryKey     public String id;     public String name; } Version of Realm and tooling Realm version(s): 1.2.0 Android Studio version: Android Studio 2.1.2 Which Android version and device: Android 5.0  Samsung Galaxy S4,0
3386,16-09-02,Issue 3386 : Regression issue after #3379 merged. Different default values when create with JSON Stream ， Issue #3386 ， realm/realm-java ， GitHub This is a regression issue after #3379 merged. The APIs to create RealmObject from JSON stream will have different behaviours from other APIs. Underneath  it is using the non-managed object's default constructor to create an object  then set its fields from JSON. Those absent field in JSON will have the default value set by the default non-managed object's constructor. See comments from #3379 (comment) It looks like it only effect the create part  not the update part right? I see 3 choices: Accept the current solution and document the breaking change Rewrite createFromJsonStream to create JSONObject instead and return the result from createObjectFromJson(jsonObj) Add support for #777 For expendiency  I would probably just go with 1) now and make an issue for looking into 2/3 in th next week or two  because we need a better solution before releasing anything publically. If 3) is indeed fairly easy to do that would be awesome  if not I think we should do 2.,0
3388,16-09-02,Issue 3388 : Throwing wrong exception when trying to add new field  ， Issue #3388 ， realm/realm-java ， GitHub schema.get("Person")   .addField("field_tmp"  Dog.class)  Should throw Use addRealmObjectField() instead to add fields that link to other RealmObjects: but instead throws Realm doesn't support this field type: Also this is not documented in the Javadoc either.,1
3398,16-09-05,Issue 3398 : A module/schema must include all required classes ， Issue #3398 ， realm/realm-java ， GitHub If class A links to class B but a module/schema does not include B  object store will crash during validation (calling update_schema). We must ensure that all required classes (direct and indirect) are included in the module/schema. If a class is missing  an exception must be thrown.,0
3404,16-09-06,Issue 3404 : DynamicRealmObject from RealmResults is using UncheckedRow ， Issue #3404 ， realm/realm-java ， GitHub https://github.com/realm/realm-java/blob/v1.2.0/realm/realm-library/src/main/java/io/realm/BaseRealm.java#L590 sets UncheckedRow even if the result is DynamicRealmObject. It causes unexpected crash when an inappropriate getter or setter is used. Correction: crash was fixed in #3312 but using unchecked row is still a mistake. code to reproduce DynamicRealm dynamicRealm = DynamicRealm.getInstance(conf); dynamicRealm.where("Person").findFirst().getString("age"); // getString for INTEGER field  Version of Realm and tooling Realm version(s): current master  1.2.0 Android Studio version: any Which Android version and device: any,0
3426,16-09-12,Issue 3426 : Update schema version cache in SharedRealm in ObjectStore ， Issue #3426 ， realm/realm-java ， GitHub SharedRealm in ObjectStore has a cache of schema version in it and we don¨t seem to update it when we change the schema version in the Realm file. It¨s OK for now since current Java binding does not use any methods that use the schema version cache  but we will need to fix that when we move migration logic to ObjectStore.,0
3469,16-09-20,Issue 3469 : javassist.bytecode.DuplicateMemberException: duplicate method: realmGet$id in ， Issue #3469 ， realm/realm-java ， GitHub Goal We have 2 Android Library projects. 'sdk-core' - which has the core functionality which has the core RealmObjects. 'sdk' - extends the 'sdk-core'. We are trying to create a fat aar for the 'sdk' using fat-aar.gradle from this github project (https://github.com/adwiv/android-fat-aar) The :sdk-core:transformClassesWithRealmTransformerForRelease passes. It seems that after the classes are bundled together the call to :sdk:transformClassesWithRealmTransformerForRelease fails on a RealmObject that is in the 'sdk-core' -com.proxiwave.core.persistence.model.RealmTarget Expected Results BUILD Successful Actual Results Incremental java compilation is an incubating feature. :clean UP-TO-DATE :sdk:clean :sdk-core:clean :sdk:preBuild UP-TO-DATE :sdk:preReleaseBuild UP-TO-DATE :sdk:compileReleaseNdk UP-TO-DATE :sdk:compileLint :sdk:copyReleaseLint UP-TO-DATE :sdk:mergeReleaseShaders :sdk:compileReleaseShaders :sdk:embedAssets :sdk:generateReleaseAssets :sdk:checkReleaseManifest :sdk:preDebugAndroidTestBuild UP-TO-DATE :sdk:preDebugBuild UP-TO-DATE :sdk:preDebugUnitTestBuild UP-TO-DATE :sdk:preReleaseUnitTestBuild UP-TO-DATE :sdk-core:preBuild UP-TO-DATE :sdk-core:preReleaseBuild UP-TO-DATE :sdk-core:compileReleaseNdk UP-TO-DATE :sdk-core:compileLint :sdk-core:copyReleaseLint UP-TO-DATE :sdk-core:checkReleaseManifest :sdk-core:preDebugAndroidTestBuild UP-TO-DATE :sdk-core:preDebugBuild UP-TO-DATE :sdk-core:preDebugUnitTestBuild UP-TO-DATE :sdk-core:preReleaseUnitTestBuild UP-TO-DATE :sdk-core:prepareComAndroidSupportAnimatedVectorDrawable2340Library :sdk-core:prepareComAndroidSupportAppcompatV72340Library :sdk-core:prepareComAndroidSupportSupportV42340Library :sdk-core:prepareComAndroidSupportSupportVectorDrawable2340Library :sdk-core:prepareComGetkeepsafeRelinkerRelinker121Library :sdk-core:prepareIoRealmRealmAndroidLibrary110Library :sdk-core:prepareOrgAltbeaconAndroidBeaconLibrary281Library :sdk-core:prepareReleaseDependencies :sdk-core:compileReleaseAidl :sdk-core:compileReleaseRenderscript :sdk-core:generateReleaseBuildConfig :sdk-core:mergeReleaseShaders :sdk-core:compileReleaseShaders :sdk-core:generateReleaseAssets :sdk-core:mergeReleaseAssets :sdk-core:generateReleaseResValues UP-TO-DATE :sdk-core:generateReleaseResources :sdk-core:mergeReleaseResources :sdk-core:processReleaseManifest :sdk-core:processReleaseResources :sdk-core:generateReleaseSources :sdk-core:incrementalReleaseJavaCompilationSafeguard :sdk-core:compileReleaseJavaWithJavac Note: Version 1.2.0 of Realm is now available: http://static.realm.io/downloads/java/latest Note: Processing class RealmAd Note: Processing class RealmBeacon Note: Processing class RealmCampaign Note: Processing class RealmCompany Note: Processing class RealmFloor Note: Processing class RealmStore Note: Processing class RealmTarget Note: Processing class RealmTrigger Note: Processing module RealmModule Note: Some input files use unchecked or unsafe operations. Note: Recompile with -Xlint:unchecked for details. :sdk-core:extractReleaseAnnotations :sdk-core:mergeReleaseProguardFiles UP-TO-DATE :sdk-core:packageReleaseRenderscript UP-TO-DATE :sdk-core:packageReleaseResources :sdk-core:transformClassesWithRealmTransformerForRelease :sdk-core:processReleaseJavaRes UP-TO-DATE :sdk-core:transformResourcesWithMergeJavaResForRelease :sdk-core:transformClassesAndResourcesWithSyncLibJarsForRelease :sdk-core:mergeReleaseJniLibFolders :sdk-core:transformNative_libsWithMergeJniLibsForRelease :sdk-core:transformNative_libsWithSyncJniLibsForRelease :sdk-core:bundleRelease :sdk:prepareComAndroidSupportAnimatedVectorDrawable2340Library :sdk:prepareComAndroidSupportAppcompatV72340Library :sdk:prepareComAndroidSupportSupportV42340Library :sdk:prepareComAndroidSupportSupportVectorDrawable2340Library :sdk:prepareComGetkeepsafeRelinkerRelinker121Library :sdk:prepareComGoogleAndroidGmsPlayServicesBasement920Library :sdk:prepareComGoogleAndroidGmsPlayServicesTasks920Library :sdk:prepareComGoogleFirebaseFirebaseCommon920Library :sdk:prepareComGoogleFirebaseFirebaseIid920Library :sdk:prepareComGoogleFirebaseFirebaseMessaging920Library :sdk:prepareIoRealmRealmAndroidLibrary110Library :sdk:prepareOrgAltbeaconAndroidBeaconLibrary281Library :sdk:prepareProxiwaveSdkAndroidSdkCoreUnspecifiedLibrary :sdk:prepareReleaseDependencies :sdk:mergeReleaseAssets :sdk:compileReleaseRenderscript :sdk:generateReleaseResValues UP-TO-DATE :sdk:generateReleaseResources :sdk:mergeReleaseResources :sdk:processReleaseManifest :sdk:processReleaseResources :sdk:embedRClassFiles :sdk:compileReleaseAidl :sdk:generateReleaseBuildConfig :sdk:generateReleaseSources :sdk:incrementalReleaseJavaCompilationSafeguard :sdk:compileReleaseJavaWithJavac Note: Version 1.2.0 of Realm is now available: http://static.realm.io/downloads/java/latest Note: Processing class RealmAddress Note: Processing class RealmDevice Note: Processing class RealmEvent Note: Processing class RealmIdentity Note: Processing class RealmPhoneNumber Note: Processing class RealmProfile Note: Processing class RealmSetting Note: Processing class RealmWeight Note: Processing module ProxiWaveModule Note: Some input files use unchecked or unsafe operations. Note: Recompile with -Xlint:unchecked for details. :sdk:embedJavaJars :sdk:mergeReleaseJniLibFolders :sdk:embedJniLibs ====== Embedding jni libs in project ':sdk' ======= Copying JNI from build/intermediates/exploded-aar/proxiwave-sdk-android/sdk-core/unspecified/jni :sdk:embedManifests ========== INFO : Loading library manifest /Users/Edgar/Workspaces/xcode/proxiwave-white-label-android/proxiwave-sdk-android/sdk/build/intermediates/exploded-aar/proxiwave-sdk-android/sdk-core/unspecified/AndroidManifest.xml ========== INFO : Merging main manifest /Users/Edgar/Workspaces/xcode/proxiwave-white-label-android/proxiwave-sdk-android/sdk/build/intermediates/bundles/release/AndroidManifest.orig.xml  ========== INFO : Merging library manifest /Users/Edgar/Workspaces/xcode/proxiwave-white-label-android/proxiwave-sdk-android/sdk/build/intermediates/exploded-aar/proxiwave-sdk-android/sdk-core/unspecified/AndroidManifest.xml ========== INFO : Merging manifest with lower AndroidManifest.xml:2:1-26:12 ========== INFO : Merging uses-sdk with lower AndroidManifest.xml:7:5-9:41 ========== INFO : Merging application with lower AndroidManifest.xml:19:5-24:19 ========== INFO : Merging result:SUCCESS ========== INFO : Merged manifest saved to /Users/Edgar/Workspaces/xcode/proxiwave-white-label-android/proxiwave-sdk-android/sdk/build/intermediates/bundles/release/AndroidManifest.xml :sdk:extractReleaseAnnotations :sdk:mergeReleaseProguardFiles UP-TO-DATE :sdk:packageReleaseRenderscript UP-TO-DATE :sdk:embedProguard ====== Embedding proguard.txt files in project ':sdk' :sdk:embedLibraryResources :sdk:packageReleaseResources :sdk:transformClassesWithRealmTransformerForRelease FAILED  FAILURE: Build failed with an exception.  * What went wrong: Execution failed for task ':sdk:transformClassesWithRealmTransformerForRelease'. > javassist.bytecode.DuplicateMemberException: duplicate method: realmGet$id in com.proxiwave.core.persistence.model.RealmTarget  * Try: Run with --info or --debug option to get more log output.  * Exception is: org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':sdk:transformClassesWithRealmTransformerForRelease'.         at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)         at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)         at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)         at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:66)         at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)         at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:52)         at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)         at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)         at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)         at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:203)         at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:185)         at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:66)         at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:50)         at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:25)         at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:110)         at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)         at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)         at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)         at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)         at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)         at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)         at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)         at org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:153)         at org.gradle.internal.Factories$1.create(Factories.java:22)         at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)         at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:53)         at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:150)         at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:32)         at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:98)         at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:92)         at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)         at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:63)         at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:92)         at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:83)         at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:99)         at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)         at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)         at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:48)         at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)         at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:81)         at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:46)         at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:51)         at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:28)         at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:43)         at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:173)         at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:239)         at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:212)         at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:35)         at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:24)         at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:33)         at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:22)         at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:205)         at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:169)         at org.gradle.launcher.Main.doAction(Main.java:33)         at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)         at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:55)         at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:36)         at org.gradle.launcher.GradleMain.main(GradleMain.java:23)         at org.gradle.wrapper.BootstrapMainStarter.start(BootstrapMainStarter.java:30)         at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:129)         at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61) Caused by: java.lang.RuntimeException: javassist.bytecode.DuplicateMemberException: duplicate method: realmGet$id in com.proxiwave.core.persistence.model.RealmTarget         at com.android.builder.profile.Recorder$Block.handleException(Recorder.java:54)         at com.android.builder.profile.ThreadRecorder$1.record(ThreadRecorder.java:57)         at com.android.builder.profile.ThreadRecorder$1.record(ThreadRecorder.java:47)         at com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:173)         at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:75)         at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.doExecute(AnnotationProcessingTaskFactory.java:245)         at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:221)         at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.execute(AnnotationProcessingTaskFactory.java:232)         at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:210)         at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:80)         at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:61)         ... 60 more Caused by: javassist.bytecode.DuplicateMemberException: duplicate method: realmGet$id in com.proxiwave.core.persistence.model.RealmTarget         at javassist.bytecode.ClassFile.testExistingMethod(ClassFile.java:705)         at javassist.bytecode.ClassFile.addMethod(ClassFile.java:680)         at javassist.CtClassType.addMethod(CtClassType.java:1383)         at io.realm.transformer.BytecodeModifier$_addRealmAccessors_closure1.doCall(BytecodeModifier.groovy:45)         at io.realm.transformer.BytecodeModifier.addRealmAccessors(BytecodeModifier.groovy:42)         at io.realm.transformer.BytecodeModifier$addRealmAccessors$0.call(Unknown Source)         at io.realm.transformer.RealmTransformer$_transform_closure10.doCall(RealmTransformer.groovy:132)         at io.realm.transformer.RealmTransformer.transform(RealmTransformer.groovy:131)         at com.android.build.api.transform.Transform.transform(Transform.java:308)         at com.android.build.gradle.internal.pipeline.TransformTask$3.call(TransformTask.java:178)         at com.android.build.gradle.internal.pipeline.TransformTask$3.call(TransformTask.java:174)         at com.android.builder.profile.ThreadRecorder$1.record(ThreadRecorder.java:55)         ... 69 more   BUILD FAILED  Total time: 18.878 secs Steps & Code to Reproduce ./gradlew clean assembleRelease Version of Realm and tooling Realm version(s): 1.1.0 Android Studio version: 2.2,0
3484,16-09-22,Issue 3484 : com.getkeepsafe.relinker.MissingLibraryException: lib/armeabi-v7a/librealm-jni.so ， Issue #3484 ， realm/realm-java ， GitHub This is my second topic about same issue  no one saw #3447 In my app  the only native library is realm's librealm-jni.so  and seems like this is not cure for me couldnt-load-librealm-jniso I'm still getting crash logs related this issue. How can i deal with this issue ? Goal To find a solution for ABI related problems Expected Results To run all split versions of app successfully Actual Results Caused by: com.getkeepsafe.relinker.MissingLibraryException: lib/armeabi-v7a/librealm-jni.so at com.getkeepsafe.relinker.ApkLibraryInstaller.installLibrary(ApkLibraryInstaller.java:85) at com.getkeepsafe.relinker.ReLinkerInstance.loadLibraryInternal(ReLinkerInstance.java:182) at com.getkeepsafe.relinker.ReLinkerInstance.loadLibrary(ReLinkerInstance.java:140) at com.getkeepsafe.relinker.ReLinker.loadLibrary(ReLinker.java:70) at com.getkeepsafe.relinker.ReLinker.loadLibrary(ReLinker.java:51) at io.realm.internal.RealmCore.loadLibrary(RealmCore.java:87) at io.realm.RealmConfiguration$Builder.(RealmConfiguration.java:390) Version of Realm and tooling Realm version(s): 1.2.0 Android Studio version: 2.2,0
3496,16-09-27,Issue 3496 : Fatal Exception: java.lang.UnsatisfiedLinkError : librealm-jni.so not found ， Issue #3496 ， realm/realm-java ， GitHub What do you want to achieve? No Problem is occured with realm Actual Results Some of Android Smartphone of LG are crashed Steps & Code to Reproduce I fixed my code with "Couldn¨t load ＾librealm-jni.so￣ from Realm Blog. but We can't fix a bug. Code Sample >  RealmConfiguration config = new RealmConfiguration.Builder(this)                 .schemaVersion(47)                 .migration(new Migration())                 .build();          Realm.setDefaultConfiguration(config);         Realm.getInstance(config);     ndk {         abiFilters "armeabi"  "armeabi-v7a"  "x86"  "x86_64"    }   Version of Realm and tooling Realm version(s): 1.2.0 Android Studio version: 2.2 Which Android version and device: 4.4.2   4.4.4   4.2.0 ERROR LOG http://crashes.to/s/c7a78b064b1,0
3501,16-09-27,Issue 3501 : ConcurrentModificationException from Gradle 3.1 with Databinding and Realm 2.0 ， Issue #3501 ， realm/realm-java ， GitHub Goal Upgrade from Realm-Java 1.2.0 to 2.0.0 Expected Results Simple build success/sync in Android Studio. Actual Results $ ./gradlew clean build --stacktrace The TaskInputs.source(Object) method has been deprecated and is scheduled to be removed in Gradle 4.0. Please use TaskInputs.file(Object).skipWhenEmpty() instead.  FAILURE: Build failed with an exception.  * What went wrong: A problem occurred configuring project ':app'. > java.util.ConcurrentModificationException (no error message)  * Try: Run with --info or --debug option to get more log output.  * Exception is: org.gradle.api.ProjectConfigurationException: A problem occurred configuring project ':app'.         at org.gradle.configuration.project.LifecycleProjectEvaluator.addConfigurationFailure(LifecycleProjectEvaluator.java:79)         at org.gradle.configuration.project.LifecycleProjectEvaluator.notifyAfterEvaluate(LifecycleProjectEvaluator.java:74)         at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:61)         at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:573)         at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:125)         at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:47)         at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:38)         at org.gradle.initialization.DefaultGradleLauncher$2.run(DefaultGradleLauncher.java:151)         at org.gradle.internal.Factories$1.create(Factories.java:22)         at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)         at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:53)         at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:148)         at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:33)         at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:112)         at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:106)         at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)         at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:63)         at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:106)         at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:92)         at org.gradle.launcher.exec.GradleBuildController.run(GradleBuildController.java:66)         at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)         at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)         at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:41)         at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:26)         at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:79)         at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:51)         at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:59)         at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)         at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)         at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:47)         at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)         at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)         at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)         at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)         at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)         at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)         at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)         at org.gradle.util.Swapper.swap(Swapper.java:38)         at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)         at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)         at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)         at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)         at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:60)         at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)         at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)         at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:72)         at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)         at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)         at org.gradle.launcher.daemon.server.exec.HintGCAfterBuild.execute(HintGCAfterBuild.java:44)         at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)         at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)         at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:293)         at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)         at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40) Caused by: java.util.ConcurrentModificationException         at org.gradle.api.internal.DefaultDomainObjectCollection$IteratorImpl.next(DefaultDomainObjectCollection.java:291)         at org.gradle.api.internal.CompositeDomainObjectSet$SetIterator.fetchNext(CompositeDomainObjectSet.java:156)         at org.gradle.api.internal.CompositeDomainObjectSet$SetIterator.next(CompositeDomainObjectSet.java:175)         at org.apache.commons.collections.iterators.IteratorChain.next(IteratorChain.java:265)         at org.gradle.api.internal.CompositeDomainObjectSet$SetIterator.fetchNext(CompositeDomainObjectSet.java:156)         at org.gradle.api.internal.CompositeDomainObjectSet$SetIterator.next(CompositeDomainObjectSet.java:175)         at com.android.build.gradle.internal.DependencyManager.ensureConfigured(DependencyManager.java:485)         at com.android.build.gradle.internal.DependencyManager.resolveDependencyForConfig(DependencyManager.java:267)         at com.android.build.gradle.internal.DependencyManager.resolveDependencies(DependencyManager.java:159)         at com.android.build.gradle.internal.TaskManager.resolveDependencies(TaskManager.java:364)         at com.android.build.gradle.internal.VariantManager$9.call(VariantManager.java:636)         at com.android.build.gradle.internal.VariantManager$9.call(VariantManager.java:633)         at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:156)         at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:120)         at com.android.build.gradle.internal.profile.SpanRecorders.record(SpanRecorders.java:44)         at com.android.build.gradle.internal.VariantManager.createVariantData(VariantManager.java:629)         at com.android.build.gradle.internal.VariantManager.createVariantDataForProductFlavors(VariantManager.java:823)         at com.android.build.gradle.internal.VariantManager.populateVariantDataList(VariantManager.java:512)         at com.android.build.gradle.internal.VariantManager$1.call(VariantManager.java:269)         at com.android.build.gradle.internal.VariantManager$1.call(VariantManager.java:266)         at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:156)         at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:120)         at com.android.build.gradle.internal.VariantManager.createAndroidTasks(VariantManager.java:265)         at com.android.build.gradle.BasePlugin$11.call(BasePlugin.java:688)         at com.android.build.gradle.BasePlugin$11.call(BasePlugin.java:685)         at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:156)         at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:120)         at com.android.build.gradle.BasePlugin.createAndroidTasks(BasePlugin.java:683)         at com.android.build.gradle.BasePlugin$10.call(BasePlugin.java:608)         at com.android.build.gradle.BasePlugin$10.call(BasePlugin.java:605)         at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:156)         at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:120)         at com.android.build.gradle.BasePlugin.lambda$createTasks$1(BasePlugin.java:603)         at org.gradle.internal.event.BroadcastDispatch$ActionInvocationHandler.dispatch(BroadcastDispatch.java:93)         at org.gradle.internal.event.BroadcastDispatch$ActionInvocationHandler.dispatch(BroadcastDispatch.java:82)         at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:44)         at org.gradle.internal.event.BroadcastDispatch.dispatch(BroadcastDispatch.java:79)         at org.gradle.internal.event.BroadcastDispatch.dispatch(BroadcastDispatch.java:30)         at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)         at com.sun.proxy.$Proxy15.afterEvaluate(Unknown Source)         at org.gradle.configuration.project.LifecycleProjectEvaluator.notifyAfterEvaluate(LifecycleProjectEvaluator.java:67)         ... 52 more  Steps & Code to Reproduce It's a complicated build  but here are my app plugins: apply plugin: 'com.android.application' apply plugin: 'com.neenbedankt.android-apt' apply plugin: 'me.tatarka.retrolambda' apply plugin: 'io.fabric' apply plugin: 'realm-android' apply plugin: 'kotlin-android' apply plugin: 'kotlin-android-extensions'  I wonder if maybe the ordering is important starting in 2.0? Code Sample Version of Realm and tooling Realm version(s): 2.0.0 Android Studio version: 2.2.0 Gradle version: 3.1 Android Gradle Plugin version: 2.2.0 Which Android version and device: N/A,1
3503,16-09-28,Issue 3503 : findAllSorted and distinct ， Issue #3503 ， realm/realm-java ， GitHub Goal I'm using Kotlin and I'm trying to retrieve objects with findAllSorted using a Long that's a timestamp to sort them  and then filtering with distinct. I've also asked on Stackoverflow Expected Results I expected to get the "newest objects for each distinct value of the field used by distinct Actual Results I got the oldest ones. Steps & Code to Reproduce override fun getStuff(): MutableList<Stuff> = realm.where(Stuff::class.java)         .findAllSorted("timeStamp"  Sort.DESCENDING)         .distinct("otherId")  storage.saveStuff(Stuff("a"  otherId=1  timeStamp=1)) storage.saveStuff(Stuff("b"  otherId=1  timeStamp=2)) storage.saveStuff(Stuff("c"  otherId=1  timeStamp=3)) // Other stuff with different otherId  storage.getStuff()[0].name == "c" // false  Version of Realm and tooling Realm version(s): 1.2.0 / 1.1.1 Android Studio version: 2.2 Kotlin Version: 1.0.4,0
3505,16-09-28,Issue 3505 : Crash - didn't find class "io.realm.internal.network.NetworkStateReceiver" ， Issue #3505 ， realm/realm-java ， GitHub Hi  with the new Realm 2.0 I am getting crash as below: java.lang.RuntimeException: Unable to instantiate receiver io.realm.internal.network.NetworkStateReceiver: java.lang.ClassNotFoundException: Didn't find class "io.realm.internal.network.NetworkStateReceiver",0
3511,16-09-28,Issue 3511 : can't receive CONNECTIVITY_CHANGE on Android 7 device ， Issue #3511 ， realm/realm-java ， GitHub https://developer.android.com/topic/performance/background-optimization.html#connectivity-action We need to use registerReceiver() instead.,0
3528,16-09-29,Issue 3528 : Exceptions in Custom loggers crash JNI ， Issue #3528 ， realm/realm-java ， GitHub Correction: Was caused by a Custom Logger that crashed  but we should provide a much better exception in that case. art/runtime/check_jni.cc:65] JNI DETECTED ERROR IN APPLICATION: JNI GetStringChars called with pending exception 'java.lang.IllegalArgumentException' thrown in unknown throw location art/runtime/check_jni.cc:65]     in call to GetStringChars art/runtime/check_jni.cc:65]     from long io.realm.internal.SharedRealm.nativeCreateConfig(java.lang.String  byte[]  byte boolean  boolean  boolean  boolean  java.lang.String  java.lang.String)  art/runtime/check_jni.cc:65]   native: #08 pc 00055915  /data/app/com.invoice2go.dev-1/lib/arm/librealm-jni.so (???) art/runtime/check_jni.cc:65]   native: #09 pc 0001f537  /data/app/com.invoice2go.dev-1/lib/arm/librealm-jni.so (Java_io_realm_internal_SharedRealm_nativeCreateConfig+54) art/runtime/check_jni.cc:65]   native: #10 pc 006df8f7  /data/dalvik-cache/arm/data@app@com.invoice2go.dev-1@base.apk@classes.dex (Java_io_realm_internal_SharedRealm_nativeCreateConfig__Ljava_lang_String_2_3BBZZZZLjava_lang_String_2Ljava_lang_String_2+218) art/runtime/check_jni.cc:65]   at io.realm.internal.SharedRealm.nativeCreateConfig(Native method) art/runtime/check_jni.cc:65]   at io.realm.internal.SharedRealm.getInstance(SharedRealm.java:166) art/runtime/check_jni.cc:65]   at io.realm.internal.SharedRealm.getInstance(SharedRealm.java:155)  From this configuration in Kotlin: RealmConfiguration.Builder()                         .name(realmName)                         .modules(myModule)                         .deleteRealmIfMigrationNeeded()                         .build(),0
3537,16-09-30,Issue 3537 : distinct query problem ， Issue #3537 ， realm/realm-java ， GitHub Goal I am having a problem with distinct query. I am getting different results for "distinct()" and "distinctAsync()" I have five people in my Person table with id  name and age id name age 1  Riyas  20 2  Febin  21 3  Amogh  22 4  Jose  22 5  Mani  24 when i run the following (not aynchronous) i am getting the expected result RealmResults<Person> persons = realm.where(Person.class)                 .notEqualTo("age"  20).distinct("age"); but when i use asynchonous query it is giving me results with age=20 (that is excluded in query) RealmResults<Person> persons = realm.where(Person.class)                 .notEqualTo("age"  20).distinctAsync("age"); Expected Results Febin 21 Amogh 22 Mani 24 Actual Results Riyas 20 Febin 21 Amogh 22 Mani 24 Code Sample public class MainActivity extends AppCompatActivity     implements View.OnClickListener{     Realm realm;     TextView tvResult;     Button bSync;     Button bAsync;     @Override     protected void onCreate(Bundle savedInstanceState) {         super.onCreate(savedInstanceState);         setContentView(R.layout.activity_main);         tvResult = (TextView)findViewById(R.id.tvResult);         bSync = (Button)findViewById(R.id.bSync);         bSync.setOnClickListener(this);         bAsync = (Button)findViewById(R.id.bAsync);         bAsync.setOnClickListener(this);         setupRealm();         createDummyPersons();     }      private void setupRealm() {         RealmConfiguration configuration = new RealmConfiguration.Builder(this)                 //.name(REALM_FILE)                 .schemaVersion(0)                 .deleteRealmIfMigrationNeeded()                 .build();         Realm.setDefaultConfiguration(configuration);         realm = Realm.getDefaultInstance();     }      private void createDummyPersons() {         realm.executeTransactionAsync(new Realm.Transaction() {             @Override             public void execute(Realm realm) {                 Person riyas = getPerson(1 "Riyas" 20);                 realm.copyToRealmOrUpdate(riyas);                 Person febin = getPerson(2 "Febin" 21);                 realm.copyToRealmOrUpdate(febin);                 Person amogh = getPerson(3 "Amogh" 22);                 realm.copyToRealmOrUpdate(amogh);                 Person jose = getPerson(4 "Jose" 22);                 realm.copyToRealmOrUpdate(jose);                 Person mani = getPerson(5 "Mani" 24);                 realm.copyToRealmOrUpdate(mani);             }         });     }      private Person getPerson(int id  String name  int age) {         Person person = new Person();         person.setId(id);         person.setName(name);         person.setAge(age);         return person;     }      private void executeQuery(boolean async) {         RealmQuery<Person> query = realm.where(Person.class)                 .notEqualTo("age"  20);         RealmResults<Person> personsResult;         if (async) {             personsResult = query.distinctAsync("age");             personsResult.addChangeListener(new RealmChangeListener<RealmResults<Person>>() {                 @Override                 public void onChange(RealmResults<Person> persons) {                     persons.removeChangeListeners();                     String result = createString("Async" persons);                     tvResult.setText(result);                 }             });         } else {             personsResult = query.distinct("age");             String result = createString("Sync" personsResult);             tvResult.setText(result);         }     }      private String createString(String title  RealmResults<Person> persons) {         StringBuilder builder = new StringBuilder();         builder.append(title);         builder.append("\n");         for (Person person:persons) {             builder.append(person.getName());             builder.append(" : ");             builder.append(person.getAge());             builder.append("\n");         }         return builder.toString();     }      @Override     protected void onDestroy() {         super.onDestroy();         realm.close();     }      @Override     public void onClick(View v) {         switch (v.getId()) {             case R.id.bSync:                 executeQuery(false);                 break;             case R.id.bAsync:                 executeQuery(true);                 break;         }     } }    public class Person extends RealmObject {      @PrimaryKey     private int id;     private String name;     @Index     private int age;      public String getName() {         return name;     }      public void setName(String name) {         this.name = name;     }      public int getAge() {         return age;     }      public void setAge(int age) {         this.age = age;     }      public int getId() {         return id;     }      public void setId(int id) {         this.id = id;     } }   Version of Realm and tooling Realm version(s): io.realm:realm-gradle-plugin:2.0.0 Android Studio version: 2.2,0
3549,16-10-04,Issue 3549 : DynamicRealmObject#setList() causes native crash if the specified field is not a List ， Issue #3549 ， realm/realm-java ， GitHub Calling DynamicRealmObject#setList() against an object from DynamicRealm causes a native crash if the field type is not a List.,0
3552,16-10-04,Issue 3552 : Potential memory leak when creating Observable from Where asObservable. ， Issue #3552 ， realm/realm-java ， GitHub When doing mRealm.where(Person.class).findAllAsync().asObservable().subscribe(new Subscriber...); in a Fragment and unsubscribing and closing the Realm when leaving a Fragment there still seems to be multiple instances of Realm and RealmResults in the Heap. I may be using Realm Where asObservable incorrectly but I posted on Stack Overflow and am yet to get an answer. I've created a basic empty project to illustrate the issue here: https://github.com/willjgriff/android-realm-leak The original SO post with more details is here: http://stackoverflow.com/questions/39758862/possible-realm-memory-leak-in-android-when-creating-observable-from-where-clause Version of Realm and tooling Realm version(s): 2.0.0 Android Studio version: 2.2 Which Android version and device: Tested on Api 18 and 23 on a Genymotion emulator. Tested on Api 23 on a Galaxy S6. Any help understanding this issue is appreciated.,1
3560,16-10-05,Issue 3560 : Migrating fields crashes ， Issue #3560 ， realm/realm-java ， GitHub Bug: Realm Migrations Goal: Successful Migration to be done Expected Result: To get migration done successful Actual Result: Migration crash Realm version(s): 0.87.5 Android Studio version: 2.2 Android minSdkVersion: 15 Code:  RealmSchema schema = realm.getSchema(); ...... if (oldVersion == 16) {    schema.get("News").addField("hide_news"  boolean.class  FieldAttribute.REQUIRED);    schema.get("News").removeIndex("date_create_long");    schema.get("News").removePrimaryKey();    schema.get("News").removeField("date_create_long");     schema.get("News").addField("news_url_base"  String.class  FieldAttribute.PRIMARY_KEY);      oldVersion++; }  myConfig = new RealmConfiguration.Builder(new File(func.getFolder("db")))    .name(getResources().getString(R.string.app_name_db) + ".realm")    .schemaVersion(17)    .migration(Constants.migration)    .build(); Realm.setDefaultConfiguration(myConfig);  Last Model: @RealmClass public class News extends RealmObject {     @PrimaryKey     private Long date_create_long = new Date(System.currentTimeMillis()).getTime();       private Date date_create = new Date(System.currentTimeMillis());        private Authors author;                    private Books book;                          private String value_old;     private String value_new;      private Boolean author_new_fio;     private Boolean author_new_photo;     private Boolean author_new_about;     private Boolean author_new_address;     private Boolean author_new_date_of_birth;     private Boolean author_new_residence;      private Boolean book_upd = false;     private Boolean book_new = false;     @Required     private Boolean author_err = false;     @Required     private Boolean book_err = false;     @Required     private Boolean book_err_true = false;     .....     setters and getters }  New Model: @RealmClass public class News extends RealmObject {     @PrimaryKey     private String news_url_base;      private Date date_create = new Date(System.currentTimeMillis());       private Authors author;     private Books book;      private String value_old;     private String value_new;      private Boolean author_new_fio;     private Boolean author_new_photo;     private Boolean author_new_about;     private Boolean author_new_address;     private Boolean author_new_date_of_birth;     private Boolean author_new_residence;       private Boolean book_upd = false;     private Boolean book_new = false;     @Required     private Boolean author_err = false;     @Required     private Boolean book_err = false;     @Required     private Boolean book_err_true = false;     @Required     private Boolean hide_news = false;      .....     setters and getters }  The result of running the program: Application terminated. And the worst thing - there are no more messages. What do you recommend?,0
3563,16-10-05,Issue 3563 : Update from 2.0.0 to 2.0.1 ， Issue #3563 ， realm/realm-java ， GitHub What do you want to achieve? Update from 2.0.0 to 2.0.1 Actual Results Gradle sync failed: No signature of method: org.gradle.api.internal.artifacts.DefaultDependencySet.removeIf() is applicable for argument types: (io.realm.gradle.RealmPluginExtension$_setSyncEnabled_closure1) values: [io.realm.gradle.RealmPluginExtension$_setSyncEnabled_closure1@27508a7f]          Possible solutions: remove(java.lang.Object)  removeAll(java.util.Collection)  removeAll(groovy.lang.Closure)  removeAll([Ljava.lang.Object;)          Consult IDE log for more details (Help | Show Log)  Code Sample buildscript {     repositories {         jcenter()     }     dependencies {         classpath 'com.android.tools.build:gradle:1.5.0'         classpath 'io.realm:realm-gradle-plugin:2.0.1'     } }  Version of Realm and tooling Realm version(s): 2.0.1 Android Studio version: 1.5.1,0
3568,16-10-06,Issue 3568 : SLF4J and Realm 2.0.1 ， Issue #3568 ， realm/realm-java ， GitHub Hello  I just updated realm from an older version to 2.0.1. From here  I'm unable to have my app working. It seems to be the same bug as #3018 and #3043 : In debug mode  app builds fine but crashes at launch with this error : java.lang.NoClassDefFoundError: Failed resolution of: Lorg/gradle/internal/logging/slf4j/OutputEventListenerBackedLoggerContext;                                                                           at org.slf4j.impl.StaticLoggerBinder.<init>(StaticLoggerBinder.java:30)                                                                           at org.slf4j.impl.StaticLoggerBinder.<clinit>(StaticLoggerBinder.java:27)   ....   Caused by: java.lang.ClassNotFoundException: Didn't find class "org.gradle.internal.logging.slf4j.OutputEventListenerBackedLoggerContext" on path: DexPathList[[dex file "/data/data/.../files/instant-run/dex/slice-volley_8dd6661e4587145ffb6c9879c222bc51d500f59b-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-twitter-text-1.13.0_73d58164894a99049dcfd4f340b714ec4dfff779-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-support-annotations-24.2.1_c6ee83d5ac5d11c34968a1fdeaa1c92ddb4169e1-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slice_9-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slice_8-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slice_7-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slice_6-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slice_5-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slice_4-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slice_3-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slice_2-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slice_1-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slice_0-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slf4j-api-1.7.12_8403b189700353d8954870a9ab4b928754b6726f-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-retrofit-mock-1.8.0_536419611962dc0f5a7dba16c5de9cbd3ffcc007-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-retrofit-1.8.0_66b3384cf917570f83f165d8fd59e737c65d8d49-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-realm-annotations-2.0.1_d5c759715192ab7f28772555b7c057574cf41796-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-protobuf-java-2.6.1_3d226d37e23b7f0c65ae825cf36e522dfb577471-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-picasso-2.5.2_1b2610b4fc0832caa7649b7ae564642090129b2b-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-netty-common-4.1.0.Beta5_067153349f28557a0254ff7129dc51e8ba45753b-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-netty-buffer-4.1.0.Beta5_bb5b00239d7f938d53f7b2af8f6fc4e60f2a0f3d-classes.dex"  dex file "/data/data/.../ 10-06 09:47:48.276 17605-17605/... D/Error: ERR: exClass=java.lang.ClassNotFoundException 10-06 09:47:48.276 17605-17605/... D/Error: ERR: exMsg=Didn't find class "org.gradle.internal.logging.slf4j.OutputEventListenerBackedLoggerContext" on path: DexPathList[[dex file "/data/data/.../files/instant-run/dex/slice-volley_8dd6661e4587145ffb6c9879c222bc51d500f59b-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-twitter-text-1.13.0_73d58164894a99049dcfd4f340b714ec4dfff779-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-support-annotations-24.2.1_c6ee83d5ac5d11c34968a1fdeaa1c92ddb4169e1-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slice_9-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slice_8-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slice_7-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slice_6-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slice_5-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slice_4-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slice_3-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slice_2-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slice_1-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slice_0-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-slf4j-api-1.7.12_8403b189700353d8954870a9ab4b928754b6726f-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-retrofit-mock-1.8.0_536419611962dc0f5a7dba16c5de9cbd3ffcc007-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-retrofit-1.8.0_66b3384cf917570f83f165d8fd59e737c65d8d49-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-realm-annotations-2.0.1_d5c759715192ab7f28772555b7c057574cf41796-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-protobuf-java-2.6.1_3d226d37e23b7f0c65ae825cf36e522dfb577471-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-picasso-2.5.2_1b2610b4fc0832caa7649b7ae564642090129b2b-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-netty-common-4.1.0.Beta5_067153349f28557a0254ff7129dc51e8ba45753b-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-netty-buffer-4.1.0.Beta5_bb5b00239d7f938d53f7b2af8f6fc4e60f2a0f3d-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-net.danlew-android.joda-2.9.2_20414ec42e96fe4d2f49d22bba76f3b99e810184-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-me.leolin-ShortcutBadger-1.1.6_d59f8b5a23d0b47e2d707561f40f014d4983c997-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-library-2.4.0_265a2ac7e32367588cae5b6ff904496508213bc0-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-jul-to-slf4j-1.7.12_4ae047c43e83c396b289f783af72b206a1410606-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-jsr305-2.0.1_f098b5342d9eecf48cfd5cc82f41e5bca2267add-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-joda-time-2.9.2-no-tzdb_c56a9daa13ad90750ba344d6f2b040f34c61dc5b-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-javax.servlet-api-3.1.0_8f79d7ad58f4626ab26f0ae35222a1a350c347ea-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-io.underdark-underdark-1.0.10_731a34523f1f6497e067ede2b50c4fd6b2275467-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-io.realm-realm-android-library-2.0.1_6713d04e7feebf2ffade5b92941705ea3ab203d3-classes.dex"  dex file "/data/data/.../files/instant-run/dex/slice-io.realm-androi 10-06 09:47:48.276 17605-17605/... D/Error: ERR: file=BaseDexClassLoader.java 10-06 09:47:48.276 17605-17605/... D/Error: ERR: class=dalvik.system.BaseDexClassLoader 10-06 09:47:48.276 17605-17605/... D/Error: ERR: method=findClass line=56 10-06 09:47:48.277 17605-17605/... D/Error: ERR: stack=java.lang.NoClassDefFoundError: Failed resolution of: Lorg/gradle/internal/logging/slf4j/OutputEventListenerBackedLoggerContext;                                                                  at org.slf4j.impl.StaticLoggerBinder.<init>(StaticLoggerBinder.java:30)                                                                  at org.slf4j.impl.StaticLoggerBinder.<clinit>(StaticLoggerBinder.java:27)  In release mode  app does not build : Error:Gradle: Execution failed for task ':app:transformClassesAndResourcesWithProguardForRelease'. > java.io.IOException: Can't write [...\app\build\intermediates\transforms\proguard\release\jars\3\1f\main.jar] (Can't read [...\app\build\intermediates\transforms\RealmTransformer\release\folders\1\1\realm(;;;;;;**/*.class)] (Duplicate zip entry [org/slf4j/impl/StaticLoggerBinder.class]))  Here is my messy build.gradle : apply plugin: 'com.android.application' apply plugin: 'android-apt' apply plugin: 'realm-android' apply plugin: 'io.fabric'  repositories {     jcenter()     maven {         url 'https://maven.fabric.io/public'     }     maven {         url 'https://dl.bintray.com/underdark/android/'     }     maven {         url 'https://github.com/uPhyca/stetho-realm/raw/master/maven-repo'     } }  android {     compileSdkVersion 24     buildToolsVersion "24.0.1"       defaultConfig {         applicationId "..."         minSdkVersion 21         targetSdkVersion 22         versionCode 5         versionName "1.1"         generatedDensities = []         multiDexEnabled true     }      aaptOptions {         additionalParameters "--no-version-vectors"     }      lintOptions {         abortOnError false     }      signingConfigs {         config {             storeFile file('...jks')             storePassword '...'             keyAlias '...'             keyPassword '.'         }     }      compileOptions {         sourceCompatibility JavaVersion.VERSION_1_7         targetCompatibility JavaVersion.VERSION_1_7     }     buildTypes {         debug {             debuggable true             useProguard false         }         release {             shrinkResources true             minifyEnabled true             proguardFiles getDefaultProguardFile('proguard-android.txt')  'proguard-rules.pro'             zipAlignEnabled true             signingConfig signingConfigs.config         }     }     packagingOptions {         exclude 'META-INF/DEPENDENCIES.txt'         exclude 'META-INF/LICENSE.txt'         exclude 'META-INF/NOTICE.txt'     } }  dependencies {     compile fileTree(include: ['*.jar']  dir: 'libs')     compile project(':linkedin-sdk')      compile 'com.android.support:multidex:1.0.1'     compile 'com.android.support:appcompat-v7:24.2.1'     compile group: 'javax.servlet'  name: 'javax.servlet-api'  version: '3.1.0'      compile 'org.slf4j:slf4j-api:1.7.21'     compile 'org.androidannotations:androidannotations-api:4.0.0'     apt "org.androidannotations:androidannotations:4.0.0"     compile 'org.apache.commons:commons-io:1.3.2'     compile 'commons-validator:commons-validator:1.5.0'     compile 'com.squareup.picasso:picasso:2.5.2'     compile 'net.danlew:android.joda:2.9.2'     compile 'com.wang.avi:library:1.0.5'     compile 'com.nineoldandroids:library:2.4.0'     compile 'io.underdark:underdark:1.0.10'     compile 'com.facebook.stetho:stetho:1.4.1'     compile 'com.uphyca:stetho_realm:2.0.0'     compile 'io.realm:android-adapters:1.3.0'     compile 'me.leolin:ShortcutBadger:1.1.6@aar'     compile 'com.github.halysongoncalves:pugnotification:1.8.1'      compile 'com.facebook.android:facebook-android-sdk:4.11.0'     compile('com.twitter.sdk.android:twitter:1.14.1@aar') {         transitive = true;     }     compile 'com.google.android.gms:play-services-auth:9.2.1' }  configurations {     all*.exclude group: 'commons-logging'  module: 'commons-logging' }  apt {     arguments {         androidManifestFile variant.outputs[0].processResources.manifestFile         resourcePackageName '...'     } }  apply plugin: 'com.google.gms.google-services'  Regards ,0
3590,16-10-07,Issue 3590 : Native crash signal 11 (SIGSEGV)  code 2 ， Issue #3590 ， realm/realm-java ， GitHub We have received a reasonable number of native crashes related to realm and we are having difficulties pinpointing what the cause is. We are unable to reproduce the problem so anything that could help us would be appreciated. Some information: We use encryption  a SyncAdapter and multiple Realm files. The crashes only happen on devices running Android 5.0 or above. The crashes first started appearing after we upgraded to Realm 1.0.0 but also occur on Realm versions up to 1.2.0 which is what we are currently using in our release. The stack traces below are a few examples of the native crashes on 1.2.0. There are more crash groups but they are all similar to these. Build fingerprint: 'samsung/xcover3ltexx/xcover3lte:5.1.1/LMY48B/G388FXXU1BPB3:user/release-keys' Revision: '7' ABI: 'arm' pid: 5015  tid: 7685  name: SyncAdapterThre >>> x.y.z <<< signal 11 (SIGSEGV)  code 2 (SEGV_ACCERR)  fault addr 0x58f7fff0 r0 abd10760 r1 58f80058 r2 00000000 r3 abd10760 r4 00000012 r5 58f80310 r6 58f80058 r7 00000000 r8 abe552d0 r9 00000000 sl 00000012 fp 00000000 ip 4c91bc65 sp 58f80000 lr 4c93556d pc 4c997488 cpsr 40070030  backtrace: #00 pc 000c6488 /data/app/x.y.z-2/lib/arm/librealm-jni.so  Build fingerprint: 'samsung/s5neoltexx/s5neolte:6.0.1/MMB29K/G903FXXU1BPE2:user/release-keys' Revision: '0' ABI: 'arm' pid: 8861  tid: 8861  name: y.z >>> com.x.y.z <<< signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x4 r0 dcf11008 r1 00006440 r2 dcf11228 r3 00000000 r4 00058000 r5 dcf11008 r6 00000024 r7 a1f4d4a5 r8 00000000 r9 00000258 sl 00000000 fp 00000000 ip f4a02018 sp ffe84990 lr df9173ef pc df90c266 cpsr 600b0030  backtrace: #00 pc 00042266 /data/app/x.y.z-2/lib/arm/librealm-jni.so #01 pc 0004d3eb /data/app//x.y.z-2/lib/arm/librealm-jni.so #02 pc 0004d465 /data/app//x.y.z-2/lib/arm/librealm-jni.so #03 pc 0006b1d5 /data/app//x.y.z/lib/arm/librealm-jni.so #04 pc 000c502d /data/app//x.y.z/lib/arm/librealm-jni.so #05 pc 00028b13 /data/app//x.y.z-2/lib/arm/librealm-jni.so (Java_io_realm_internal_Group_nativeGetTableNativePtr+286) #06 pc 0167c2b5 /data/app/x.y.z-2/oat/arm/base.odex (offset 0xeb8000)  Build fingerprint: 'samsung/s5neoltexx/s5neolte:6.0.1/MMB29K/G903FXXU1BPE2:user/release-keys' Revision: '0' ABI: 'arm' pid: 25806  tid: 25866  name: SyncAdapterThre >>> x.y.z <<< signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x4 r0 ef285008 r1 00000420 r2 ef285228 r3 00000000 r4 00058000 r5 ef285008 r6 00000024 r7 a1f4d4a5 r8 00000000 r9 00000258 sl 00000000 fp 00000000 ip dafbf018 sp dfb2d9d0 lr dff173ef pc dff0c266 cpsr 600b0030  backtrace: #00 pc 00042266 /data/app/x.y.z-2/lib/arm/librealm-jni.so #01 pc 0004d3eb /data/app/x.y.z-2/lib/arm/librealm-jni.so ... (Java_io_realm_internal_Group_nativeGetTableNativePtr+286) #08 pc 0167c2b5 /data/app/x.y.z-2/oat/arm/base.odex (offset 0xeb8000 ```),0
3597,16-10-10,Issue 3597 : SyncSession#notifySessionError() seems to be unused ， Issue #3597 ， realm/realm-java ， GitHub The comment for SyncSession#notifySessionError() says that it is called from Session.cpp  but I couldn't find Session.cpp. There is a file io_realm_internal_objectserver_SyncSession.cpp  but it doesn't call the method. If it's not needed  we should remove it. If it should be called from JNI  we should fix it.,0
3603,16-10-11,Issue 3603 : Documentation for 1.2.0 is NOT valid! ， Issue #3603 ， realm/realm-java ， GitHub I have legacy app that I don't want migrate to 2.0.1 so I checked documenation and the outdated 1.2.0 is the same as 2.0.1. For starters  there is Realm.init(context) which is a new method (and it's not available on 1.2.0). It's really discouraging to be forced to use new version - I have no time now to migrate and handle new immutable primaryKey stuff.,0
3638,16-10-17,Issue 3638 : Logging out doesn't remove the `currentUser` ， Issue #3638 ， realm/realm-java ， GitHub From http://stackoverflow.com/questions/40058676/realm-cant-user-logout,0
3651,16-10-18,Issue 3651 : Samsung Tab 3 Lite 7 crashes on Realm 2.0.1 and 2.0.2 ， Issue #3651 ， realm/realm-java ， GitHub A Samsung Galaxy Tab 3 Lite 7 (SM-T111) crashes on startup with the below error (Android 4.2.2) Has been confirmed working on Nexus 5  Nexus 4 and emulators 15  19  21  22  23  24. 10-18 11:57:25.851 D/dalvikvm( 6127): Trying to load lib /data/app-lib/com.zt.android.test.realmio-1/librealm-jni.so 0x412e0568 10-18 11:57:25.851 D/dalvikvm( 6127): Added shared lib /data/app-lib/com.zt.android.test.realmio-1/librealm-jni.so 0x412e0568 10-18 11:57:25.859 V/REALM   ( 6127):  --> Java_io_realm_internal_SharedRealm_nativeCreateConfig 10-18 11:57:25.859 V/REALM   ( 6127):  --> Java_io_realm_internal_SharedRealm_nativeGetSharedRealm 1521857752 10-18 11:57:25.867 I/v_hwc   (  112): hwc prepare: 3D composition 10-18 11:57:25.875 V/REALM   ( 6127):  --> Java_io_realm_internal_SharedRealm_nativeCloseConfig 1521857752 10-18 11:57:25.875 V/REALM   ( 6127):  --> Java_io_realm_internal_SharedRealm_nativeHasTable 1522273128 10-18 11:57:25.875 V/REALM   ( 6127):  --> Java_io_realm_internal_SharedRealm_nativeCloseSharedRealm 1522273128 10-18 11:57:25.875 V/REALM   ( 6127):  --> Java_io_realm_internal_SharedRealm_nativeCreateConfig 10-18 11:57:25.875 V/REALM   ( 6127):  --> Java_io_realm_internal_SharedRealm_nativeGetSharedRealm 1521857752 10-18 11:57:25.875 V/REALM   ( 6127):  --> Java_io_realm_internal_SharedRealm_nativeGetVersion 1522276080 10-18 11:57:25.875 V/REALM   ( 6127):  --> Java_io_realm_internal_SharedRealm_nativeCloseConfig 1521857752 10-18 11:57:25.875 V/REALM   ( 6127):  --> Java_io_realm_internal_SharedRealm_nativeIsClosed 1522276080 10-18 11:57:25.875 V/REALM   ( 6127):  --> Java_io_realm_internal_SharedRealm_nativeGetVersion 1522276080 10-18 11:57:25.875 V/REALM   ( 6127):  --> Java_io_realm_internal_SharedRealm_nativeGetVersion 1522276080 10-18 11:57:25.875 V/REALM   ( 6127):  --> Java_io_realm_internal_SharedRealm_nativeIsClosed 1522276080 10-18 11:57:25.875 V/REALM   ( 6127):  --> Java_io_realm_internal_SharedRealm_nativeBeginTransaction 1522276080 10-18 11:57:25.875 V/REALM   ( 6127):  --> Java_io_realm_internal_SharedRealm_nativeGetVersion 1522276080 10-18 11:57:25.875 V/REALM   ( 6127):  --> Java_io_realm_internal_SharedRealm_nativeSetVersion 1522276080 10-18 11:57:25.875 F/libc    ( 6127): Fatal signal 11 (SIGSEGV) at 0x5ab3eff6 (code=2)  thread 6127 (id.test.realmio) 10-18 11:57:25.882 F/libc    ( 6127): Fatal signal 11 (SIGSEGV) at 0x00000008 (code=1)  thread 6142 (id.test.realmio)  10-18 11:48:42.945 D/CrashAnrDetector(  484): Build: samsung/goya3gxx/goya3g:4.2.2/JDQ39/T111XXUAOC2:user/release-keys 10-18 11:48:42.945 D/CrashAnrDetector(  484): Hardware: PXA986 10-18 11:48:42.945 D/CrashAnrDetector(  484): Revision: 2 10-18 11:48:42.945 D/CrashAnrDetector(  484): Bootloader: T111XXUAOC2 10-18 11:48:42.945 D/CrashAnrDetector(  484): Radio: unknown 10-18 11:48:42.945 D/CrashAnrDetector(  484): Kernel: Linux version 3.4.5-2825369 (se.infra@SWDB2804) (gcc version 4.6.x-google 20120106 (prerelease) (GCC) ) #2 SMP PREEMPT Tue Mar 17 22:04:14 KST 2015 10-18 11:48:42.945 D/CrashAnrDetector(  484): 10-18 11:48:42.945 D/CrashAnrDetector(  484): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 10-18 11:48:42.945 D/CrashAnrDetector(  484): Build fingerprint: 'samsung/goya3gxx/goya3g:4.2.2/JDQ39/T111XXUAOC2:user/release-keys' 10-18 11:48:42.945 D/CrashAnrDetector(  484): Revision: '2' 10-18 11:48:42.945 D/CrashAnrDetector(  484): pid: 5805  tid: 5805  name: id.test.realmio  >>> io.realm.test.realmio <<< 10-18 11:48:42.945 D/CrashAnrDetector(  484): signal 11 (SIGSEGV)  code 2 (SEGV_ACCERR)  fault addr 5baa4ffe 10-18 11:48:42.945 D/CrashAnrDetector(  484):     r0 5baa500b  r1 5baa4ffe  r2 5bb71283  r3 5baa4ffe 10-18 11:48:42.945 D/CrashAnrDetector(  484):     r4 00000000  r5 5baa500a  r6 5bbb5358  r7 5dc08d20 10-18 11:48:42.945 D/CrashAnrDetector(  484):     r8 00000010  r9 00000010  sl 5e8bf810  fp 00000010 10-18 11:48:42.945 D/CrashAnrDetector(  484):     ip 00000000  sp bed19318  lr 00000000  pc 5e7a1052  cpsr 20000030 10-18 11:48:42.945 D/CrashAnrDetector(  484):     d0  65706f72705f6b70  d1  532f6c616e726500 10-18 11:48:42.945 D/CrashAnrDetector(  484):     d2  65742e64696f7200  d3  6d6c6165722e7402 10-18 11:48:42.945 D/CrashAnrDetector(  484):     d4  746c75616665642f  d5  6d2e6d6c6165722e 10-18 11:48:42.945 D/CrashAnrDetector(  484):     d6  6e656d6567616e61  d7  7373656363612f74 10-18 11:48:42.945 D/CrashAnrDetector(  484):     d8  0000000000000000  d9  0000000000000000 10-18 11:48:42.945 D/CrashAnrDetector(  484):     d10 0000000000000000  d11 0000000000000000 10-18 11:48:42.945 D/CrashAnrDetector(  484):     d12 0000000000000000  d13 0000000000000000 10-18 11:48:42.945 D/CrashAnrDetector(  484):     d14 0000000000000000  d15 0000000000000000 10-18 11:48:42.945 D/CrashAnrDetector(  484):     d16 4026000000000000  d17 0000000000000000 10-18 11:48:42.945 D/CrashAnrDetector(  484):     d18 0000000000000000  d19 0000000000000000 10-18 11:48:42.945 D/CrashAnrDetector(  484):     d20 4008000000000000  d21 3fbc71c71c71c71c 10-18 11:48:42.945 D/CrashAnrDetector(  484):     d22 3fcc7288e957b53b  d23 3fd24998d6307188 10-18 11:48:42.945 D/CrashAnrDetector(  484):     d24 3fd99a27ad32ddf5  d25 3fe555b0aaeac752 10-18 11:48:42.945 D/CrashAnrDetector(  484):     d26 0000000000000000  d27 0000000000000000 10-18 11:48:42.945 D/CrashAnrDetector(  484):     d28 0000000000000000  d29 0000000000000000 10-18 11:48:42.945 D/CrashAnrDetector(  484):     d30 0000000000000000  d31 0000000000000000 10-18 11:48:42.945 D/CrashAnrDetector(  484):     scr 20000010 10-18 11:48:42.945 D/CrashAnrDetector(  484): 10-18 11:48:42.945 D/CrashAnrDetector(  484): backtrace: 10-18 11:48:42.945 D/CrashAnrDetector(  484):     #00  pc 00082052  /data/app-lib/io.realm.test.realmio-1/librealm-jni.so 10-18 11:48:42.945 D/CrashAnrDetector(  484):     #01  pc 000a50b7  /data/app-lib/io.realm.test.realmio-1/librealm-jni.so 10-18 11:48:42.945 D/CrashAnrDetector(  484):     #02  pc 0005a69d  /data/app-lib/io.realm.test.realmio-1/librealm-jni.so 10-18 11:48:42.945 D/CrashAnrDetector(  484): 10-18 11:48:42.945 D/CrashAnrDetector(  484): stack: 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed192d8  5bbb5950 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed192dc  00001680 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed192e0  5bbb5bd0 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed192e4  00001900 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed192e8  5e7991cb  /data/app-lib/io.realm.test.realmio-1/librealm-jni.so 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed192ec  5e7a0e85  /data/app-lib/io.realm.test.realmio-1/librealm-jni.so 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed192f0  00000000 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed192f4  5e8d4168  /data/app-lib/io.realm.test.realmio-1/librealm-jni.so 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed192f8  5bbb5958 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed192fc  00000000 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19300  bed19330  [stack] 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19304  00000000 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19308  5dc08d20 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed1930c  5dc08d20 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19310  df0027ad 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19314  00000000 10-18 11:48:42.945 D/CrashAnrDetector(  484):     #00  bed19318  5e799c41  /data/app-lib/io.realm.test.realmio-1/librealm-jni.so 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed1931c  00000001 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19320  0000000f 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19324  00000008 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19328  5e8bf810  /data/app-lib/io.realm.test.realmio-1/librealm-jni.so 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed1932c  00000008 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19330  5bbb5360 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19334  ffffffff 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19338  00000000 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed1933c  5dc08d20 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19340  00000001 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19344  00000001 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19348  00000000 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed1934c  5e8bf810  /data/app-lib/io.realm.test.realmio-1/librealm-jni.so 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19350  5dc08008 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19354  5e7c40bb  /data/app-lib/io.realm.test.realmio-1/librealm-jni.so 10-18 11:48:42.945 D/CrashAnrDetector(  484):     #01  bed19358  ffffffff 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed1935c  00000000 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19360  00000000 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19364  00000008 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19368  5abee570 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed1936c  00000000 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19370  5ab9ed08 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19374  5abee6e0 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19378  5e8bf810  /data/app-lib/io.realm.test.realmio-1/librealm-jni.so 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed1937c  00000008 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19380  00000001 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19384  5e7db265  /data/app-lib/io.realm.test.realmio-1/librealm-jni.so 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19388  5e8bf810  /data/app-lib/io.realm.test.realmio-1/librealm-jni.so 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed1938c  00000008 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19390  00000000 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed19394  5abee570 10-18 11:48:42.945 D/CrashAnrDetector(  484):          ........  ........ 10-18 11:48:42.945 D/CrashAnrDetector(  484):     #02  bed193b8  00000000 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed193bc  00000000 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed193c0  5dc08d20 10-18 11:48:42.945 D/CrashAnrDetector(  484):          bed193c4  5e7c0c 10-18 11:48:42.945 D/CrashAnrDetector(  484): processName:io.realm.test.realmio 10-18 11:48:42.945 D/CrashAnrDetector(  484): broadcastEvent : io.realm.test.realmio SYSTEM_TOMBSTONE  I'm working on getting a sample project. /cc @beeender,0
3672,16-10-23,Issue 3672 : Rx off thread loading memory leak ， Issue #3672 ， realm/realm-java ， GitHub Hello guys  I will be very grateful for any help in understanding this issue. I really enjoy the way I can async subscribe to data changes with Rx  but I have next situation - I need to convert RealmObjects to another objects from my project. Because the count of objects is huge  I want to do this conversion in off thread also and subscribe to all this stuff from Main thread. So I am trying to do something like this:  val workerThreadScheduler = AndroidSchedulers.from(threadManager?.getDBThread()?.looper)  subscription = Observable.defer {             Log.d(LOG_TAG  "create realm in ${Thread.currentThread().name}")             Observable.just(Realm.getDefaultInstance())         }.flatMap { realm ->             realm.where(Person::class.java)                     .findAll()                     .asObservable()                     .doOnSubscribe { Log.d(LOG_TAG  "subscribe in ${Thread.currentThread().name}") }                     .doOnUnsubscribe {                         Log.d(LOG_TAG  "unsubscribe and close realm in ${Thread.currentThread().name}")                         realm.close()                     }                     .map { persons ->                         val emails = ArrayList<String>()                         for (person in persons) emails.add(person.email)                         return@map emails                     }         }                 .subscribeOn(workerThreadScheduler)                 .unsubscribeOn(workerThreadScheduler)                 .observeOn(AndroidSchedulers.mainThread())                 .subscribe { emails -> Log.d(LOG_TAG  "got emails ${emails.size}") } Here I am trying to subscribe to RealmResults from my own HandlerThread with looper  so that way I can manipulate with RealmObjects in off thread. I subscribe  unsubscribe  create and close Realm instance in this thread  .doOnUnsubscribe method fired. The code behaves exactly as I want  except all RealmResults are leaking. Full example project is here https://github.com/gvoltr/android-realm-leak/tree/master/RealmLeakTest Realm version: 2.0.2,1
3689,16-10-26,Issue 3689 : [WARNING!] Obfuscation is not working with 2.1.0 ， Issue #3689 ， realm/realm-java ， GitHub Beware  don't release to Google Play with Realm 2.1.0 if you want your code to be obfuscated. Realm 2.1.0 won't allow any of your class names to be obfuscated  even on classes that are not RealmObjects. I'm using custom dictionaries for it  but it probably does not matter. I tested this multiple times and my code with 2.0.2 is always correctly obfuscated  code with 2.1.0 is not obfuscated at all. Luckily this happened to me once with another library and I'm checking the resulting apk with an apktool before releasing.,0
3700,16-10-26,Issue 3700 : Updated Realm Version not supporting to view Realm Data using Stetho-Realm ， Issue #3700 ， realm/realm-java ， GitHub I just love to use Realm and waiting for Windows version of Realm Browser  currently using Stetho for viewing Data in chrome Browser. I used Realm version 0.87 till some days ago  all the thing is perfect. But recently updated to the latest Realm Version and from there on its Stopped the support when using the Stetho. It says "Detached from the target" when i click the Realm Database name Expanding Web SQL. Every Time the same thing happens  Please help me to get rid of this error. The only way also now closed to view the Database of Realm.. How to resolve this? Version of Realm and tooling Realm version(s): 2.0.2 Realm sync feature enabled: yes Android Studio version: 2.2.2,0
3709,16-10-27,Issue 3709 : Realm-Transformer crashes if you have a class that ends with `RealmProxy` but isn't an actual proxy generated by Realm ， Issue #3709 ， realm/realm-java ， GitHub http://stackoverflow.com/questions/40258259/cannot-invoke-method-hasannotation-on-null-object/40284179#40284179 The transformer attempts to access superclass but it is not guaranteed to exist if you yourself create a class that ends with the name RealmProxy.,0
3713,16-10-28,Issue 3713 : Operation not permitted in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 81 ， Issue #3713 ， realm/realm-java ， GitHub Operation not permitted in /Users/zaki/fromgit/realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 92 I want create my realm file on external storage when i use Realm.getDefaultInstance() i get the exception. In MyApplication.java: Realm.init(this); File directory = new File(Environment.getExternalStorageDirectory()  "RealmSamplesData"); if (!directory.exists()) directory.mkdirs(); RealmConfiguration config = new RealmConfiguration.Builder() .name("myrealm.realm") .directory(directory) .build(); Realm.setDefaultConfiguration(config); In MainActivity.java: mRealm = Realm.getDefaultInstance();  #### Version of Realm and tooling Realm version(s): 2.1.1  Android Studio version: 2.2.2  Which Android version and device: Android 4.4  on PDA device,0
3714,16-10-28,Issue 3714 : Got build error when enabling shrink without proguard ， Issue #3714 ， realm/realm-java ， GitHub Goal Successfully build an app with shrinking but without ProGuard Expected Results no error on build. Actual Results :app:transformClassesWithNewClassShrinkerForRelease FAILED  FAILURE: Build failed with an exception.  * What went wrong: Execution failed for task ':app:transformClassesWithNewClassShrinkerForRelease'. > ProGuard configuration parser error: /Users/zaki/fromgit/realm/RealmTasks/RealmTasks Android/app/build/intermediates/exploded-aar/io.realm/realm-android-library-object-server/2.1.0/proguard.txt line 5:6 no viable alternative at input 'includedescriptorclasses'  Steps & Code to Reproduce Add following configuration in app/build.gradle android {     buildTypes{         release {             minifyEnabled true // add             useProguard false  // add         }     } }  Version of Realm and tooling Realm version(s): 2.1.1 Realm sync feature enabled: both Android Studio version: 2.2.2 Which Android version and device: 7.1.1,0
3726,16-10-31,Issue 3726 : Native crash on api 10 ， Issue #3726 ， realm/realm-java ， GitHub When I call Realm.GetDefaultInstance() I get a crash in native code on an api 10 (GT-I9070) device. It works on newer devices. It crashes with realm 2.1.1 but not on 1.2.0. logs: 10-31 09:45:57.400 I/dalvikvm: "Signal Catcher" daemon prio=5 tid=4 RUNNABLE 10-31 09:45:57.400 I/dalvikvm:   | group="system" sCount=0 dsCount=0 obj=0x40518e60 self=0xf20b0 10-31 09:45:57.400 I/dalvikvm:   | sysTid=5210 nice=0 sched=0/0 cgrp=[no-cpu-subsys] handle=1151064 10-31 09:45:57.400 I/dalvikvm:   | schedstat=( 1037600 244140 25 ) 10-31 09:45:57.400 I/dalvikvm:     at dalvik.system.NativeStart.run(Native Method) 10-31 09:45:57.400 I/dalvikvm: [<c0295308>] save_stack_trace_tsk+0x0/0x90                                [<c03b5af0>] proc_pid_stack+0xf8/0x144                                [<c03b6e54>] proc_single_show+0x48/0x84                                [<c038b47c>] seq_read+0x26c/0x4e4                                [<c03720fc>] vfs_read+0xa8/0x150                                [<c0372250>] sys_read+0x3c/0x68                                [<c0291740>] ret_fast_syscall+0x0/0x30                                [<ffffffff>] 0xffffffff                                ------------------------------ 10-31 09:45:57.400 I/dalvikvm: "main" prio=5 tid=1 RUNNABLE 10-31 09:45:57.400 I/dalvikvm:   | group="main" sCount=1 dsCount=0 obj=0x400281f8 self=0xd190 10-31 09:45:57.400 I/dalvikvm:   | sysTid=5207 nice=0 sched=0/0 cgrp=[no-cpu-subsys] handle=-1345002240 10-31 09:45:57.400 I/dalvikvm:   | schedstat=( 757019059 483764632 1174 ) 10-31 09:45:57.500 I/dalvikvm:     at io.realm.internal.SharedRealm.nativeGetSharedRealm(Native Method) 10-31 09:45:57.500 I/dalvikvm:     at io.realm.internal.SharedRealm.getInstance(SharedRealm.java:205) 10-31 09:45:57.500 I/dalvikvm:     at io.realm.BaseRealm.<init>(BaseRealm.java:82) 10-31 09:45:57.530 I/dalvikvm:     at io.realm.Realm.<init>(Realm.java:140) 10-31 09:45:57.530 I/dalvikvm:     at io.realm.Realm.createAndValidate(Realm.java:285) 10-31 09:45:57.530 I/dalvikvm:     at io.realm.Realm.createInstance(Realm.java:266) 10-31 09:45:57.560 I/dalvikvm:     at io.realm.RealmCache.createRealmOrGetFromCache(RealmCache.java:143) 10-31 09:45:57.560 I/dalvikvm:     at io.realm.Realm.getDefaultInstance(Realm.java:211) 10-31 09:45:57.560 I/dalvikvm:     at *snip*.LoginActivity.startLogin(LoginActivity.java:221) 10-31 09:45:57.560 I/dalvikvm:     at *snip*.LoginActivity.login(LoginActivity.java:207) 10-31 09:45:57.560 I/dalvikvm:     at java.lang.reflect.Method.invokeNative(Native Method) 10-31 09:45:57.560 I/dalvikvm:     at java.lang.reflect.Method.invoke(Method.java:507) 10-31 09:45:57.580 I/dalvikvm:     at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:288) 10-31 09:45:57.580 I/dalvikvm:     at android.view.View.performClick(View.java:2585) 10-31 09:45:57.590 I/dalvikvm:     at android.view.View$PerformClick.run(View.java:9299) 10-31 09:45:57.620 I/dalvikvm:     at android.os.Handler.handleCallback(Handler.java:587) 10-31 09:45:57.620 I/dalvikvm:     at android.os.Handler.dispatchMessage(Handler.java:92) 10-31 09:45:57.620 I/dalvikvm:     at android.os.Looper.loop(Looper.java:130) 10-31 09:45:57.620 I/dalvikvm:     at android.app.ActivityThread.main(ActivityThread.java:3770) 10-31 09:45:57.620 I/dalvikvm:     at java.lang.reflect.Method.invokeNative(Native Method) 10-31 09:45:57.620 I/dalvikvm:     at java.lang.reflect.Method.invoke(Method.java:507) 10-31 09:45:57.620 I/dalvikvm:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:912) 10-31 09:45:57.620 I/dalvikvm:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:670) 10-31 09:45:57.620 I/dalvikvm:     at dalvik.system.NativeStart.main(Native Method) 10-31 09:45:57.620 I/dalvikvm: [<ffffffff>] 0xffffffff                                ------------------------------  realm config: Realm.init(this);         RealmConfiguration config = new RealmConfiguration.Builder()                 .schemaVersion(REALMSCHEMAVERSION)                 .deleteRealmIfMigrationNeeded()                 .build();         Realm.setDefaultConfiguration(config);,1
3730,16-11-02,Issue 3730 : NullPointerException: Null reference used for synchronization. SharedRealm.finalize() ， Issue #3730 ， realm/realm-java ， GitHub Actual Results E/System: Uncaught exception thrown by finalizer E/System: java.lang.NullPointerException: Null reference used for synchronization (monitor-enter) at io.realm.internal.SharedRealm.finalize(SharedRealm.java:318) at java.lang.Daemons$FinalizerDaemon.doFinalize(Daemons.java:217) at java.lang.Daemons$FinalizerDaemon.run(Daemons.java:200) at java.lang.Thread.run(Thread.java:818) Steps & Code to Reproduce Was reproduced by client. Appeared multiple times in logcat. "Once in a while a popup error message is shown telling that the app has crashed." Version of Realm and tooling Realm version(s): 2.0.2 Realm sync feature enabled: no Which Android version and device: Samsung Galaxy A5 (Android 6.0.1),1
3732,16-11-02,Issue 3732 : StackOverflow when using insertOrUpdate to insert object with two-way relation ， Issue #3732 ， realm/realm-java ， GitHub Goal I want to copy an object that has a two way relation from one Realm to another using insertOrUpdate. Expected Results Item is inserted to the new realm and relations are maintained. Actual Results Stack Overflow Error  at io.realm.ParentRealmProxy.insertOrUpdate(ParentRealmProxy.java:534)                       at io.realm.ChildRealmProxy.insertOrUpdate(ChildRealmProxy.java:506)                       at io.realm.ParentRealmProxy.insertOrUpdate(ParentRealmProxy.java:534)                       at io.realm.ChildRealmProxy.insertOrUpdate(ChildRealmProxy.java:506)                       at io.realm.ParentRealmProxy.insertOrUpdate(ParentRealmProxy.java:534)                       at io.realm.ChildRealmProxy.insertOrUpdate(ChildRealmProxy.java:506)                       at io.realm.ParentRealmProxy.insertOrUpdate(ParentRealmProxy.java:534)                       at io.realm.ChildRealmProxy.insertOrUpdate(ChildRealmProxy.java:506)                       at io.realm.ParentRealmProxy.insertOrUpdate(ParentRealmProxy.java:534)  Steps & Code to Reproduce See code sample Code Sample public class Parent extends RealmObject {     @PrimaryKey     @Required     private String id;      private RealmList<Child> childList;      public RealmList<Child> getChildList() {         return childList;     } }  public class Child extends RealmObject {      @PrimaryKey     @Required     private String id;      private Parent parent;      public Parent getParent() {         return parent;     }      public void setParent(Parent parent) {         this.parent = parent;     } }  public class RealmOverflowBugActivity extends AppCompatActivity {      @Override     protected void onCreate(Bundle savedInstanceState) {         super.onCreate(savedInstanceState);         setContentView(R.layout.activity_realm_overflow_bug);          Realm.init(this);          RealmConfiguration config1 = new RealmConfiguration.Builder().name("config1").deleteRealmIfMigrationNeeded().build();         RealmConfiguration config2 = new RealmConfiguration.Builder().name("config2").deleteRealmIfMigrationNeeded().build();          Realm realm1 = Realm.getInstance(config1);         Realm realm2 = Realm.getInstance(config2);          //Set up initial data to realm1         realm1.beginTransaction();          //Add data         Parent parent = realm1.createObject(Parent.class  "parentKey");         Child child = realm1.createObject(Child.class  "childKey");          //Set relations         parent.getChildList().add(child);         child.setParent(parent);          realm1.commitTransaction();           //Insert object with relations from realm1 to realm2         realm2.beginTransaction();         realm2.insertOrUpdate(parent); //StackOverflowError! Using copyToRealmOrUpdate works.         realm2.commitTransaction();          realm1.close();         realm2.close();     } }  Version of Realm and tooling Realm version(s): 2.1.1 Realm sync feature enabled: yes/no Android Studio version: 2.2.1 Which Android version and device: Nexus5 emulator,0
3735,16-11-02,Issue 3735 : RealmFileException: Function not implemented in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 81 Kind: ACCESS_ERROR. ， Issue #3735 ， realm/realm-java ， GitHub I get this  it happens on: Android 4.3 Blackberry Leap device. Realm 2.0.2 Any ideas for a fix? io.realm.exceptions.RealmFileException: Function not implemented in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 81 Kind: ACCESS_ERROR. at io.realm.internal.SharedRealm.nativeGetSharedRealm(Native Method) at io.realm.internal.SharedRealm.getInstance(Unknown Source) at io.realm.internal.SharedRealm.getInstance(Unknown Source) at io.realm.RealmCache.createRealmOrGetFromCache(Unknown Source) at io.realm.Realm.getInstance(Unknown Source),0
3746,16-11-04,Issue 3746 : Disable the default RealmModule generation if no realm model/module ， Issue #3746 ， realm/realm-java ， GitHub Goal Some developpers might want to create a library that will use Realm  but won't declare any model or module in it. The problem is that if we don't declare any of them  the compilation will failed because the generated Mediator will contains no classes and throw a getMissingProxyClassException(clazz); The same issue can happens (I think) if we have a Library that declare the model in Realm + a LibModule  and we use only the LibModule in the application  without declaring any more models. Expected Results A flag in build.gradle or a check that disable the generation of realm class or module for project that use Realm without declaring any of both.,0
3762,16-11-09,Issue 3762 : Realm 2.x crashes on native layer executing Realm.compact() method ， Issue #3762 ， realm/realm-java ， GitHub Hi! Realm.compact() crashes on some devices. In my case such device is Samsung SM-T110 android tablet with AOS 4.2.2 (API 17). It works OK (at least crashless) on any other device I have. Goal To run Realm.compact() Expected Results Method compact() works fine as intended Actual Results Crash on a native layer > 11-09 13:17:00.257 4078-4078/ua.npost A/libc: Fatal signal 11 (SIGSEGV) at 0x5fd20ff5 (code=1)  thread 4078 (ua.npost) > 11-09 13:17:00.359 1901-1901/? I/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** > 11-09 13:17:00.359 1901-1901/? I/DEBUG: Build fingerprint: 'samsung/goyawifixx/goyawifi:4.2.2/JDQ39/T110XXUANI7:user/release-keys' > 11-09 13:17:00.359 1901-1901/? I/DEBUG: Revision: '2' > 11-09 13:17:00.367 1901-1901/? I/DEBUG: pid: 4078  tid: 4078  name: ua.npost  >>> ua.npost <<< > 11-09 13:17:00.367 1901-1901/? I/DEBUG: signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 5fd20ff5 > 11-09 13:17:00.593 1901-1901/? I/DEBUG:     r0 5fd29d67  r1 5fd20ff5  r2 5fd2abdf  r3 5fd20ff5 > 11-09 13:17:00.593 1901-1901/? I/DEBUG:     r4 00000000  r5 5fd21005  r6 5fd2ba60  r7 5fd29d28 > 11-09 13:17:00.593 1901-1901/? I/DEBUG:     r8 00000010  r9 00000010  sl 60103ac0  fp 00000010 > 11-09 13:17:00.593 1901-1901/? I/DEBUG:     ip 00000000  sp be9762b0  lr 00000000  pc 5ff60598  cpsr 20000030 > 11-09 13:17:00.593 1901-1901/? I/DEBUG:     d0  7079546f67726100  d1  d1bbd0b5d0b1d000 > 11-09 13:17:00.593 1901-1901/? I/DEBUG:     d2  b0d0bdd081d18300  d3  d0b5d0bcd0208f00 > 11-09 13:17:00.593 1901-1901/? I/DEBUG:     d4  8bd1b1d020b9d0be  d5  bed0b2d0bed082d1 > 11-09 13:17:00.593 1901-1901/? I/DEBUG:     d6  d1b5d082d120b9d0  d7  d0bad0b8d0bdd085 > 11-09 13:17:00.593 1901-1901/? I/DEBUG:     d8  0000000000000000  d9  0000000000000000 > 11-09 13:17:00.593 1901-1901/? I/DEBUG:     d10 0000000000000000  d11 0000000000000000 > 11-09 13:17:00.593 1901-1901/? I/DEBUG:     d12 0000000000000000  d13 0000000000000000 > 11-09 13:17:00.593 1901-1901/? I/DEBUG:     d14 0000000000000000  d15 0000000000000000 > 11-09 13:17:00.593 1901-1901/? I/DEBUG:     d16 4026000000000000  d17 00000000002fa9c8 > 11-09 13:17:00.593 1901-1901/? I/DEBUG:     d18 00000000002fa9c8  d19 3ff0000000000000 > 11-09 13:17:00.593 1901-1901/? I/DEBUG:     d20 4008000000000000  d21 3fbc71c71c71c71c > 11-09 13:17:00.593 1901-1901/? I/DEBUG:     d22 3fcc7288e957b53b  d23 3fd24998d6307188 > 11-09 13:17:00.593 1901-1901/? I/DEBUG:     d24 3fd99a27ad32ddf5  d25 3fe555b0aaeac752 > 11-09 13:17:00.593 1901-1901/? I/DEBUG:     d26 0000000000000000  d27 0000000000000000 > 11-09 13:17:00.593 1901-1901/? I/DEBUG:     d28 0000000000000000  d29 0000000000000000 > 11-09 13:17:00.593 1901-1901/? I/DEBUG:     d30 0000000000000000  d31 0000000000000000 > 11-09 13:17:00.593 1901-1901/? I/DEBUG:     scr 80000010 > 11-09 13:17:00.593 1901-1901/? I/DEBUG: backtrace: > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     #00  pc 00086598  /mnt/asec/ua.npost-3/lib/librealm-jni.so > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     #01  pc 000892e7  /mnt/asec/ua.npost-3/lib/librealm-jni.so > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     #02  pc 000deab9  /mnt/asec/ua.npost-3/lib/librealm-jni.so > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     #03  pc 000d4e9f  /mnt/asec/ua.npost-3/lib/librealm-jni.so > 11-09 13:17:00.601 1901-1901/? I/DEBUG: stack: > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be976270  00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be976274  5ff5ca81  /mnt/asec/ua.npost-3/lib/librealm-jni.so > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be976278  5fd25980   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be97627c  5ff5add5  /mnt/asec/ua.npost-3/lib/librealm-jni.so > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be976280  5ff588dd  /mnt/asec/ua.npost-3/lib/librealm-jni.so > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be976284  5ff603cb  /mnt/asec/ua.npost-3/lib/librealm-jni.so > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be976288  5fd2ba67   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be97628c  00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be976290  5fd2ba60   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be976294  5fd2ba60   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be976298  5fd29d28   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be97629c  00000010   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762a0  00000010   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762a4  60103ac0  /data/data/ua.npost/files/default.realm > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762a8  df0027ad   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762ac  00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     #00  be9762b0  00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762b4  00000001   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762b8  0000000f   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762bc  00000009   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762c0  60103ac0  /data/data/ua.npost/files/default.realm > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762c4  00000009   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762c8  5fd2ba70   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762cc  be976310  [stack] > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762d0  00000001   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762d4  5fd29d28   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762d8  00000001   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762dc  ffffffff   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762e0  00000009   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762e4  00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762e8  be9763c4  [stack] > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762ec  5ff632eb  /mnt/asec/ua.npost-3/lib/librealm-jni.so > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     #01  be9762f0  00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762f4  00000080   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762f8  00000019   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9762fc  00000001   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be976300  00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be976304  5fd23ab0   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be976308  be976498  [stack] > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be97630c  00000001   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be976310  60103ac0  /data/data/ua.npost/files/default.realm > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be976314  00000009   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be976318  5fd23300   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be97631c  be976484  [stack] > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be976320  000003e8   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be976324  5ffb7ca3  /mnt/asec/ua.npost-3/lib/librealm-jni.so > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be976328  00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be97632c  00301100   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          ........  ........ > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     #02  be9763a0  be9763c4  [stack] > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9763a4  00000048   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9763a8  600934a8  /mnt/asec/ua.npost-3/lib/librealm-jni.so > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9763ac  00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9763b0  60103ac0  /data/data/ua.npost/files/default.realm > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9763b4  00000009   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9763b8  5fd2ba58   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9763bc  6007e0e4  /mnt/asec/ua.npost-3/lib/librealm-jni.so > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9763c0  6007e0e4  /mnt/asec/ua.npost-3/lib/librealm-jni.so > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9763c4  60103ac9  /data/data/ua.npost/files/default.realm > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9763c8  60103ac0  /data/data/ua.npost/files/default.realm > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9763cc  00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9763d0  00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9763d4  00302000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9763d8  5fd2ba58   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          be9763dc  00000001   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:          ........  ........ > 11-09 13:17:00.601 1901-1901/? I/DEBUG: memory near r0: > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd29d44 00000010 00000000 00000000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd29d54 00001000 00000000 00000000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd29d64 00100000 00000000 00000800 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd29d74 00080000 00000000 00000008 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd29d84 00080000 00000000 00000800 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd29d94 00080000 08000000 00000000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd29da4 00080000 00000000 00000800 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd29db4 00080000 00000000 00000008 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd29dc4 00080000 00000000 00000800 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd29dd4 00080000 00080000 00000000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd29de4 00080000 00000000 00000800 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd29df4 00080000 00000000 00000008 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd29e04 00080000 00000000 00000800 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd29e14 00080000 08000000 00000000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd29e24 00080000 00000000 00000800 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd29e34 00080000 00000000 00000008 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG: memory near r1: > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd20fd4 ffffffff ffffffff ffffffff ffffffff   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd20fe4 ffffffff ffffffff ffffffff ffffffff   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd20ff4 ffffffff ffffffff ffffffff 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd21004 000010b9 00000000 00000000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd21014 00100000 00000000 00000000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd21024 10000000 00000000 00000000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd21034 00000000 00000010 00000000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd21044 00000000 00001000 00000000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd21054 00000000 00100000 00000000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd21064 00000000 10000000 00000000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd21074 00000000 00000000 00000010 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd21084 00000000 00000000 00001000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd21094 00000000 00000000 00100000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd210a4 00000000 00000000 10000000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd210b4 00000000 00000000 00000000 00000010   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd210c4 00000000 00000000 00000000 00001000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG: memory near r2: > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd2abbc 00000008 00000000 00080000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd2abcc 00000800 00000000 00080000 00080000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd2abdc 00000000 00000000 00080000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd2abec 00000800 00000000 00080000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd2abfc 00000008 00000000 00080000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd2ac0c 00000800 00000000 00080000 08000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd2ac1c 00000000 00000000 00080000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd2ac2c 00000800 00000000 00080000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd2ac3c 00000008 00000000 00080000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd2ac4c 00000800 00000000 00080000 00000008   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd2ac5c 00000000 00000000 00080000 00000000   > 11-09 13:17:00.601 1901-1901/? I/DEBUG:     5fd2ac6c 00000800 00000000 00080000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd2ac7c 00000008 00000000 00080000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd2ac8c 00000800 00000000 00080000 08000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd2ac9c 00000000 00000000 00080000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd2acac 00000800 00000000 00080000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG: memory near r3: > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd20fd4 ffffffff ffffffff ffffffff ffffffff   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd20fe4 ffffffff ffffffff ffffffff ffffffff   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd20ff4 ffffffff ffffffff ffffffff 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd21004 000010b9 00000000 00000000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd21014 00100000 00000000 00000000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd21024 10000000 00000000 00000000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd21034 00000000 00000010 00000000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd21044 00000000 00001000 00000000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd21054 00000000 00100000 00000000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd21064 00000000 10000000 00000000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd21074 00000000 00000000 00000010 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd21084 00000000 00000000 00001000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd21094 00000000 00000000 00100000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd210a4 00000000 00000000 10000000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd210b4 00000000 00000000 00000000 00000010   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd210c4 00000000 00000000 00000000 00001000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG: memory near r5: > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd20fe4 ffffffff ffffffff ffffffff ffffffff   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd20ff4 ffffffff ffffffff ffffffff 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd21004 000010b9 00000000 00000000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd21014 00100000 00000000 00000000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd21024 10000000 00000000 00000000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd21034 00000000 00000010 00000000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd21044 00000000 00001000 00000000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd21054 00000000 00100000 00000000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd21064 00000000 10000000 00000000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd21074 00000000 00000000 00000010 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd21084 00000000 00000000 00001000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd21094 00000000 00000000 00100000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd210a4 00000000 00000000 10000000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd210b4 00000000 00000000 00000000 00000010   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd210c4 00000000 00000000 00000000 00001000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd210d4 00000000 00000000 00000000 00100000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG: memory near r6: > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd2ba40 00000000 00080000 00000000 00000800   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd2ba50 00000000 00080000 0d008000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd2ba60 00000000 000a0000 00000000 0a000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd2ba70 86d18f00 00d096d1 00000000 c1000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd2ba80 d0b0d096 00b8d0bb 032e0309 03780353   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd2ba90 03c2039d 040c03e7 04560431 04a0047b   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd2baa0 04ea04c5 0534050f 057e0559 05c805a3   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd2bab0 061205ed 065c0637 06a60681 06f006cb   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd2bac0 073a0715 0784075f 07ce07a9 081807f3   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd2bad0 0862083d 08ac0887 00800000 35000011   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd2bae0 bed0b3d0 82d181d1 bdd0b8d0 b0d0bdd0   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd2baf0 28208fd1 bed0bad0 bfd080d1 81d183d1   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd2bb00 b0d0bdd0 d0208fd1 d0b5d0bc d0b5d0b1   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd2bb10 298cd1bb 0d4c0d00 0d960d71 0de00dbb   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd2bb20 0e2a0e05 0e740e4f 0ebe0e99 0f080ee3   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd2bb30 0f520f2d 0f9c0f77 0fe60fc1 1030100b   > 11-09 13:17:00.609 1901-1901/? I/DEBUG: memory near r7: > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd29d08 00000000 00000000 00001000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd29d18 00000000 00000000 00100000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd29d28 00000000 00000000 10000000 00000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd29d38 00000000 00000000 00000000 00000010   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd29d48 00000000 00000000 00000000 00001000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd29d58 00000000 00000000 00000000 00100000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd29d68 00000000 00000800 00000000 00080000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd29d78 00000000 00000008 00000000 00080000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd29d88 00000000 00000800 00000000 00080000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd29d98 08000000 00000000 00000000 00080000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd29da8 00000000 00000800 00000000 00080000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd29db8 00000000 00000008 00000000 00080000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd29dc8 00000000 00000800 00000000 00080000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd29dd8 00080000 00000000 00000000 00080000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd29de8 00000000 00000800 00000000 00080000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     5fd29df8 00000000 00000008 00000000 00080000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG: memory near sl: > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     60103aa0 00067a80 00067a18 41414141 0500000d   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     60103ab0 67726143 0000006f 00000000 0a000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     60103ac0 75636f44 746e656d 00000073 06000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     60103ad0 65726954 65685773 00736c65 04000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     60103ae0 6c6c6150 00007465 00000000 09000000   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     60103af0 756c6156 656c6261 65706150 01007372   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     60103b00 41414141 05000006 43617267 446f6375   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     60103b10 50616c6c 54697265 56616c75 34396164   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     60103b20 41414141 06000066 00067b00 00000001   > 11-09 13:17:00.609 1901-1901/? I/DEBUG:     60103b30 00000003 00000007 00000005 00000009   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     60103b40 41414141 05000004 3f301c09 02066159   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     60103b50 41414141 59000011 80d193d0 b7d083d1   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     60103b60 d094d000 d1bad0be d0bcd083 d1bdd0b5   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     60103b70 008bd182 b8d0a8d0 8bd1bdd0 d0b4d02d   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     60103b80 d081d1b8 00b8d0ba b0d09fd0 bbd0bbd0   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     60103b90 82d1b5d0 d0008bd1 d0b5d0a6 d1bdd0bd   > 11-09 13:17:00.617 1901-1901/? I/DEBUG: memory near sp: > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     be976290 5fd2ba60 5fd2ba60 5fd29d28 00000010   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     be9762a0 00000010 60103ac0 df0027ad 00000000   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     be9762b0 00000000 00000001 0000000f 00000009   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     be9762c0 60103ac0 00000009 5fd2ba70 be976310   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     be9762d0 00000001 5fd29d28 00000001 ffffffff   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     be9762e0 00000009 00000000 be9763c4 5ff632eb   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     be9762f0 00000000 00000080 00000019 00000001   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     be976300 00000000 5fd23ab0 be976498 00000001   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     be976310 60103ac0 00000009 5fd23300 be976484   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     be976320 000003e8 5ffb7ca3 00000000 00301100   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     be976330 00000000 00000000 5fd23ab0 6009521c   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     be976340 5fd2ba58 00302000 5fd23ab0 5ff65f17   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     be976350 5fd23ab0 00000080 c0000000 00000048   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     be976360 0000005a 00000128 00000000 00000000   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     be976370 60093bf8 be976474 c0000000 ffffffff   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     be976380 be976484 be9763b0 ffffffff ffffffff   > 11-09 13:17:00.617 1901-1901/? I/DEBUG: code around pc: > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     5ff60578 ebc1ec01 1e6a0109 44711e5d 1c01f803   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     5ff60588 1040f897 0301ebc8 429d442b 4619d006   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     5ff60598 4b01f801 d1fb428d 1040f897 0501f1c1   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     5ff605a8 1b524415 d36e428a d028429e 1040f897   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     5ff605b8 f1b9e7dd d10e0f00 0801f04f 0f00f1bb   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     5ff605c8 f108d042 fa5f33ff 9302fc88 e7b446c3   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     5ff605d8 0f00f1bb f109d038 f1b80801 d9f00f02   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     5ff605e8 0859ea49 0898ea48 1818ea48 0801f108   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     5ff605f8 fc88fa5f 33fff10c 46e39302 46cce79d   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     5ff60608 f8dd693e f887900c 9b01c040 6b0bfb03   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     5ff60618 445b9b02 f1b9461c d0040f00 46514658   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     5ff60628 f791464a 44d9ec90 bf1c454c 2200464b   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     5ff60638 f803d003 42a32b01 f1bad1fb d02b0f00   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     5ff60648 0904ebc9 9000f884 e8bdb007 f10b8ff0   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     5ff60658 693e33ff e7d89302 d0d4429e f488fa5f   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     5ff60668 f1c81e59 f8030800 44434c01 bf184299   > 11-09 13:17:00.617 1901-1901/? I/DEBUG: code around lr: > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     00000000 ffffffff ffffffff ffffffff ffffffff   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     00000010 ffffffff ffffffff ffffffff ffffffff   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     00000020 ffffffff ffffffff ffffffff ffffffff   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     00000030 ffffffff ffffffff ffffffff ffffffff   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     00000040 ffffffff ffffffff ffffffff ffffffff   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     00000050 ffffffff ffffffff ffffffff ffffffff   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     00000060 ffffffff ffffffff ffffffff ffffffff   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     00000070 ffffffff ffffffff ffffffff ffffffff   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     00000080 ffffffff ffffffff ffffffff ffffffff   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     00000090 ffffffff ffffffff ffffffff ffffffff   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     000000a0 ffffffff ffffffff ffffffff ffffffff   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     000000b0 ffffffff ffffffff ffffffff ffffffff   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     000000c0 ffffffff ffffffff ffffffff ffffffff   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     000000d0 ffffffff ffffffff ffffffff ffffffff   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     000000e0 ffffffff ffffffff ffffffff ffffffff   > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     000000f0 ffffffff ffffffff ffffffff ffffffff   > 11-09 13:17:00.617 1901-1901/? I/DEBUG: memory map around fault addr 5fd20ff5: > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     5fd1d000-5fd1e000 /data/data/ua.npost/files/default.realm.lock > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     (no map for address) > 11-09 13:17:00.617 1901-1901/? I/DEBUG:     5fd21000-5fd5d000  > 11-09 13:17:00.789 1901-1901/? I/DEBUG: !@dumpstate -k -t -z -d -o /data/log/dumpstate_app_native -m 4078 > 11-09 13:17:00.789 525-579/? I/BootReceiver: Copying /data/tombstones/tombstone_07 to DropBox (SYSTEM_TOMBSTONE)  Steps & Code to Reproduce Actually execute Realm.compact() Code Sample         Realm.init(context.getApplicationContext());         realmConfiguration = new RealmConfiguration.Builder()                 .schemaVersion(19)                 .migration(new Migration())                 .build();         Realm.compactRealm(realmConfiguration); // it crashes at this line Version of Realm and tooling Realm version(s): 2.0.2-SNAPSHOT  2.1.1 Realm sync feature enabled: no  but not sure. Android Studio version: 2.2.2 Which Android version and device: Samsung SM-T110 tablet with AOS 4.2.2 (API 17),0
3775,16-11-10,Issue 3775 : Fatal Exception: java.lang.NoSuchMethodError ， Issue #3775 ， realm/realm-java ， GitHub Expected Results Bug fix Actual Results Fatal Exception: java.lang.NoSuchMethodError: no static method with name='trace' signature='(Ljava/lang/String;[Ljava/lang/Object;)V' in class Lio/realm/log/RealmLog; at java.lang.Runtime.nativeLoad(Runtime.java) at java.lang.Runtime.doLoad(Runtime.java:418) at java.lang.Runtime.load(Runtime.java:328) at java.lang.System.load(System.java:511) at com.getkeepsafe.relinker.SystemLibraryLoader.loadPath(SystemLibraryLoader.java:29) at com.getkeepsafe.relinker.ReLinkerInstance.loadLibraryInternal(ReLinkerInstance.java:198) at com.getkeepsafe.relinker.ReLinkerInstance.loadLibrary(ReLinkerInstance.java:136) at com.getkeepsafe.relinker.ReLinker.loadLibrary(ReLinker.java:70) at com.getkeepsafe.relinker.ReLinker.loadLibrary(ReLinker.java:51) at io.realm.internal.RealmCore.loadLibrary(RealmCore.java:59) at io.realm.Realm.init(Realm.java:189) at com.xyz.controller.DatabaseHelper.setupDefaultConfig(DatabaseHelper.java:45) at com.xyz.MainApplication.onCreate(MainApplication.java:64) at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1007) at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4499) at android.app.ActivityThread.access$1300(ActivityThread.java:144) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1355) at android.os.Handler.dispatchMessage(Handler.java:99) at android.os.Looper.loop(Looper.java:150) at android.app.ActivityThread.main(ActivityThread.java:5162) at java.lang.reflect.Method.invokeNative(Method.java) at java.lang.reflect.Method.invoke(Method.java:525) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:744) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560) at dalvik.system.NativeStart.main(NativeStart.java) Steps & Code to Reproduce I can't reproduce this bug. But Crashlytics reported many crashes. Code Sample Realm.init(context); RealmConfiguration configuration = new RealmConfiguration.Builder()    .encryptionKey(KEY)    .schemaVersion(7)    .migration(new Migration())    .build(); Realm.setDefaultConfiguration(configuration);  Version of Realm and tooling Realm version(s): 2.1.1 Realm sync feature enabled: no Android Studio version: 2.2.2,0
3787,16-11-14,Issue 3787 : SyncConfiguration.toString() ， Issue #3787 ， realm/realm-java ， GitHub SyncConfiguration.toString() currently outputs an empty String. It should output debug information equal to RealmConfiguration.,0
3791,16-11-14,Issue 3791 : Realm.getLocalInstanceCount() can crash ， Issue #3791 ， realm/realm-java ， GitHub See #3788 (comment),0
3802,16-11-16,Issue 3802 : BadVersionException in TableQuery.cpp line 1131 ， Issue #3802 ， realm/realm-java ， GitHub Hi  I am using Realm version 2.2.0 in an Android app. I am using a Nexus 5 and Honor 7 lite. Both with android 6.0.1 Same crash happens on both phones. I am using findFirstAsync and findAllAsync queries including storeOrUpdate queries in different threads. Also I am removing change listeners in the UI Thread but only when the RealmObjects are valid. If I switch between my activities several times I get this Native JNI Exception from Realm. I am trying to debug and pinpoint what I am doing wrong and how I should instead use Realm so it doesn't generate these native exceptions. Any help from your end in which direction I should look at would be appreciated. I.e. does it have to do more with transactions and storing  or more with findAll and findFirst calls ? Kind regards  Siebe STACKTRACE Fatal Exception: java.lang.Error: io.realm.internal.async.BadVersionException: std::exception in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_TableQuery.cpp line 1131 at io.realm.AndroidNotifier.throwBackgroundException(AndroidNotifier.java:138) at io.realm.RealmQuery.closeSharedRealmAndSendEventToNotifier(RealmQuery.java:2201) at io.realm.RealmQuery.access$000(RealmQuery.java:62) at io.realm.RealmQuery$5.call(RealmQuery.java:2141) at io.realm.RealmQuery$5.call(RealmQuery.java:2115) at io.realm.internal.async.BgPriorityCallable.call(BgPriorityCallable.java:36) at java.util.concurrent.FutureTask.run(FutureTask.java:237) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588) at java.lang.Thread.run(Thread.java:818) Caused by io.realm.internal.async.BadVersionException: std::exception in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_TableQuery.cpp line 1131 at io.realm.internal.TableQuery.nativeFindWithHandover(TableQuery.java) at io.realm.internal.TableQuery.findWithHandover(TableQuery.java:446) at io.realm.RealmQuery$5.call(RealmQuery.java:2124) at io.realm.RealmQuery$5.call(RealmQuery.java:2115) at io.realm.internal.async.BgPriorityCallable.call(BgPriorityCallable.java:36) at java.util.concurrent.FutureTask.run(FutureTask.java:237) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588) at java.lang.Thread.run(Thread.java:818),1
3804,16-11-16,Issue 3804 : Realm crashes on Android 2.3 device ， Issue #3804 ， realm/realm-java ， GitHub This issue is reported by @takke on twitter (http://twitter.com/takke/status/798782520749801472). Goal Works on Android 2.3.x devices. Expected Results no crash Actual Results When executing Realm.getDefaultInstance()  the app crash with following dump in logcat. 01-06 10:32:12.689 I/DEBUG   (  747): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 01-06 10:32:12.689 I/DEBUG   (  747): Build fingerprint: 'google/passion/passion:2.3.6/GRK39F/189904:user/release-keys' 01-06 10:32:12.689 I/DEBUG   (  747): pid: 845  tid: 845  >>> jp.takke.realmandroid23issuesample <<< 01-06 10:32:12.689 I/DEBUG   (  747): signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr de5685a7 01-06 10:32:12.689 I/DEBUG   (  747):  r0 00000007  r1 00000001  r2 800a3d68  r3 00000000 01-06 10:32:12.689 I/DEBUG   (  747):  r4 0000ce60  r5 0000abe0  r6 de5685a7  r7 00000000 01-06 10:32:12.689 I/DEBUG   (  747):  r8 0000abe0  r9 4214cb28  10 0000abe0  fp 800a5368 01-06 10:32:12.689 I/DEBUG   (  747):  ip 800a56cc  sp beef23b0  lr 8004a719  pc 8004a718  cpsr 60000030 01-06 10:32:12.699 I/DEBUG   (  747):  d0  2e746c756166652e  d1  2f73656c69662f6e 01-06 10:32:12.699 I/DEBUG   (  747):  d2  646e616d6c61656f  d3  7369333264696f74 01-06 10:32:12.699 I/DEBUG   (  747):  d4  2f73656c69662f65  d5  2e746c7561666564 01-06 10:32:12.699 I/DEBUG   (  747):  d6  616d2e6d6c616572  d7  746e656d6567616e 01-06 10:32:12.699 I/DEBUG   (  747):  d8  0000000000000000  d9  0000000000000000 01-06 10:32:12.699 I/DEBUG   (  747):  d10 0000000000000000  d11 0000000000000000 01-06 10:32:12.699 I/DEBUG   (  747):  d12 0000000000000000  d13 0000000000000000 01-06 10:32:12.699 I/DEBUG   (  747):  d14 0000000000000000  d15 0000000000000000 01-06 10:32:12.699 I/DEBUG   (  747):  d16 beef21e4beef211c  d17 0000000000000000 01-06 10:32:12.699 I/DEBUG   (  747):  d18 42eccefa43de3400  d19 3fbc71c71c71c71c 01-06 10:32:12.699 I/DEBUG   (  747):  d20 4008000000000000  d21 3fd99a27ad32ddf5 01-06 10:32:12.699 I/DEBUG   (  747):  d22 3fd24998d6307188  d23 3fcc7288e957b53b 01-06 10:32:12.699 I/DEBUG   (  747):  d24 3fc74721cad6b0ed  d25 3fc39a09d078c69f 01-06 10:32:12.699 I/DEBUG   (  747):  d26 0000000000000000  d27 0000000000000000 01-06 10:32:12.699 I/DEBUG   (  747):  d28 0000000000000000  d29 0000000000000000 01-06 10:32:12.699 I/DEBUG   (  747):  d30 0000000000000000  d31 0000000000000000 01-06 10:32:12.699 I/DEBUG   (  747):  scr 20000012 01-06 10:32:12.699 I/DEBUG   (  747): 01-06 10:32:12.769 I/DEBUG   (  747):          #00  pc 0004a718  /system/lib/libdvm.so 01-06 10:32:12.769 I/DEBUG   (  747):          #01  lr 8004a719  /system/lib/libdvm.so 01-06 10:32:12.769 I/DEBUG   (  747): 01-06 10:32:12.769 I/DEBUG   (  747): code around pc: 01-06 10:32:12.769 I/DEBUG   (  747): 8004a6f8 21074620 fb00f008 b0049802 81f0e8bd 01-06 10:32:12.769 I/DEBUG   (  747): 8004a708 6904b570 4605460e 46202101 faf4f008 01-06 10:32:12.769 I/DEBUG   (  747): 8004a718 46286831 ff0ef7ff 46052107 f0084620 01-06 10:32:12.769 I/DEBUG   (  747): 8004a728 4628faeb bf00bd70 6904b5f7 4605460e 01-06 10:32:12.769 I/DEBUG   (  747): 8004a738 46202101 fae0f008 0307f006 2b074f16 01-06 10:32:12.769 I/DEBUG   (  747): 01-06 10:32:12.769 I/DEBUG   (  747): code around lr: 01-06 10:32:12.769 I/DEBUG   (  747): 8004a6f8 21074620 fb00f008 b0049802 81f0e8bd 01-06 10:32:12.769 I/DEBUG   (  747): 8004a708 6904b570 4605460e 46202101 faf4f008 01-06 10:32:12.769 I/DEBUG   (  747): 8004a718 46286831 ff0ef7ff 46052107 f0084620 01-06 10:32:12.769 I/DEBUG   (  747): 8004a728 4628faeb bf00bd70 6904b5f7 4605460e 01-06 10:32:12.769 I/DEBUG   (  747): 8004a738 46202101 fae0f008 0307f006 2b074f16 01-06 10:32:12.769 I/DEBUG   (  747): 01-06 10:32:12.769 I/DEBUG   (  747): stack: 01-06 10:32:12.769 I/DEBUG   (  747):     beef2370  40597a58 01-06 10:32:12.769 I/DEBUG   (  747):     beef2374  0000ce60 01-06 10:32:12.769 I/DEBUG   (  747):     beef2378  00000000 01-06 10:32:12.769 I/DEBUG   (  747):     beef237c  800aad38 01-06 10:32:12.769 I/DEBUG   (  747):     beef2380  0000abe0 01-06 10:32:12.769 I/DEBUG   (  747):     beef2384  8004aa71  /system/lib/libdvm.so 01-06 10:32:12.769 I/DEBUG   (  747):     beef2388  405973a0 01-06 10:32:12.769 I/DEBUG   (  747):     beef238c  00000000 01-06 10:32:12.769 I/DEBUG   (  747):     beef2390  beef211c 01-06 10:32:12.769 I/DEBUG   (  747):     beef2394  beef21e4 01-06 10:32:12.769 I/DEBUG   (  747):     beef2398  800aad38 01-06 10:32:12.769 I/DEBUG   (  747):     beef239c  0000ce60 01-06 10:32:12.769 I/DEBUG   (  747):     beef23a0  0000ce60 01-06 10:32:12.769 I/DEBUG   (  747):     beef23a4  0000abe0 01-06 10:32:12.769 I/DEBUG   (  747):     beef23a8  df002777 01-06 10:32:12.769 I/DEBUG   (  747):     beef23ac  e3a070ad 01-06 10:32:12.769 I/DEBUG   (  747): #00 beef23b0  002b2c50 01-06 10:32:12.769 I/DEBUG   (  747):     beef23b4  beef2418 01-06 10:32:12.769 I/DEBUG   (  747):     beef23b8  805bae10 01-06 10:32:12.769 I/DEBUG   (  747):     beef23bc  804583e1  /data/data/jp.takke.realmandroid23issuesample/lib/librealm-jni.so 01-06 10:32:12.769 I/DEBUG   (  747):     beef23c0  beef2428 01-06 10:32:12.769 I/DEBUG   (  747):     beef23c4  2020a000 01-06 10:32:12.769 I/DEBUG   (  747):     beef23c8  0000abe0 01-06 10:32:12.769 I/DEBUG   (  747):     beef23cc  4214cb28 01-06 10:32:12.769 I/DEBUG   (  747):     beef23d0  0000abe0 01-06 10:32:12.769 I/DEBUG   (  747):     beef23d4  afd13ec7  /system/lib/libc.so 01-06 10:32:12.769 I/DEBUG   (  747):     beef23d8  00000014 01-06 10:32:12.769 I/DEBUG   (  747):     beef23dc  805bae10 01-06 10:32:12.769 I/DEBUG   (  747):     beef23e0  002b29c0 01-06 10:32:12.769 I/DEBUG   (  747):     beef23e4  002b2c50 01-06 10:32:12.769 I/DEBUG   (  747):     beef23e8  beef2428 01-06 10:32:12.769 I/DEBUG   (  747):     beef23ec  00000000 01-06 10:32:12.769 I/DEBUG   (  747):     beef23f0  0000abe0 01-06 10:32:12.769 I/DEBUG   (  747):     beef23f4  4214cb28 01-06 10:32:13.029 I/ActivityManager(   92): Process jp.takke.realmandroid23issuesample (pid 845) has died. 01-06 10:32:13.049 W/InputManagerService(   92): Window already focused  ignoring focus gain of: com.android.internal.view.IInputMethodClient$Stub$Proxy@407d5bf0 01-06 10:32:13.059 D/Zygote  (   66): Process 845 terminated by signal (11)  Steps & Code to Reproduce A project which reproduce this issue: https://github.com/takke/RealmAndroid23IssueSample/blob/master/app/src/main/java/jp/takke/realmandroid23issuesample/MainActivity.java Version of Realm and tooling Realm version(s): 2.0.0 or later (works fine with Realm Java 1.2.0) Realm sync feature enabled: no Android Studio version: 2.3 canary 1 Which Android version and device: 2.3.6 (Nexus One),0
3810,16-11-17,Issue 3810 : RealmThreadPoolExecutor: desired CORE_POOL_SIZE != calculated ， Issue #3810 ， realm/realm-java ， GitHub Runtime.getRuntime().availableProcessors() Returns the number of online/active cores in Android. If the class is loaded while the phone was in heavy sleep  it may report value of 1 even when it has 8 cores which translates to a much lower CORE_POOL_SIZE for the duration of the app than desired. Referenced from http://stackoverflow.com/questions/10133570/availableprocessors-returns-1-for-dualcore-phones.,0
3821,16-11-21,Issue 3821 : OutOfMemoryError: std::bad_alloc in io_realm_internal_TableQuery.cpp line 1285 ， Issue #3821 ， realm/realm-java ， GitHub Goal Our app logs metrics from a wearable (sent via BTLE). Metrics are sent and saved to Realm every second. The Realm is observed to display the metrics back to the user. Other metrics are periodically sent to a backend (and then removed from the Realm). The app operates for about 5 hours before getting closed due to an OoM. The Realms all seem to be closed correctly (no warnings about about open Realms). Expected Results I'm expecting uninterrupted periods of use. Actual Results Logcat reveals the following at the point that the app is closed: 11-21 05:15:33.808 27702-28621/com.snuza.picoconnect E/REALM_JNI: jni: ThrowingException 4  std::bad_alloc in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_TableQuery.cpp line 1285  . 11-21 05:15:33.809 27702-28655/com.snuza.picoconnect E/REALM_JNI: jni: ThrowingException 4  std::bad_alloc in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_TableQuery.cpp line 1285  . 11-21 05:15:33.841 27702-28621/com.snuza.picoconnect E/REALM_JNI: Exception has been throw: std::bad_alloc in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_TableQuery.cpp line 1285 11-21 05:15:33.841 27702-28655/com.snuza.picoconnect E/REALM_JNI: Exception has been throw: std::bad_alloc in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_TableQuery.cpp line 1285 11-21 05:15:33.855 27702-28621/com.snuza.picoconnect E/REALM_JAVA: io.realm.internal.OutOfMemoryError: std::bad_alloc in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_TableQuery.cpp line 1285 at io.realm.internal.TableQuery.nativeBatchUpdateQueries(Native Method) at io.realm.internal.TableQuery.batchUpdateQueries(TableQuery.java:500) at io.realm.internal.async.QueryUpdateTask.run(QueryUpdateTask.java:87) at io.realm.internal.async.BgPriorityRunnable.run(BgPriorityRunnable.java:34) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:422) at java.util.concurrent.FutureTask.run(FutureTask.java:237) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587) at java.lang.Thread.run(Thread.java:818) Steps & Code to Reproduce Approximately 5 hours of runtime. Code Sample N/A Version of Realm and tooling Realm version(s): 2.2.1 Realm sync feature enabled: no Android Studio version: 2.3 Canary Which Android version and device: Android 5.1.1 on the Nexus 5,1
3825,16-11-21,Issue 3825 : io.realm.exceptions.RealmError: Unrecoverable error. ， Issue #3825 ， realm/realm-java ， GitHub Caused by: io.realm.exceptions.RealmError: Unrecoverable error. Failure when computing UTF-16 size error_code = 5; retcode = 56; StringData.size = 74; StringData.data = http://img4.bitautoimg.com/autoalbum/files/20160AAAA in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_UncheckedRow.cpp line 136 version 2.0.2,0
3859,16-11-30,Issue 3859 : io.realm.exceptions.RealmError  Unrecoverable error. Permission denied ， Issue #3859 ， realm/realm-java ， GitHub Version:Realm2.2.1 Realm mRealm = Realm.getDefaultInstance(); Unrecoverable error. Permission denied in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 92 io.realm.internal.SharedRealm.nativeGetSharedRealm(Native Method) io.realm.internal.SharedRealm.a(SharedRealm.java:205) io.realm.internal.SharedRealm.a(SharedRealm.java:182) io.realm.t.a(RealmCache.java:124) io.realm.r.l(Realm.java:209),0
3874,16-12-05,Issue 3874 : Realm 1.2.0 finalizer crash ， Issue #3874 ， realm/realm-java ， GitHub Goal Don't crash the jvm finalizer thread after corrupted realm open() call. Actual Results Crash. Steps & Code to Reproduce Create any corrupted realm file Use ShareGroup line 71 constructor   public SharedGroup(String canonicalPath  boolean enableImplicitTransactions  Durability durability  byte[] key) {         if (enableImplicitTransactions) {             nativeReplicationPtr = nativeCreateReplication(canonicalPath  key);             nativePtr = openSharedGroupOrFail(durability  key);             implicitTransactionsEnabled = true;         } else {             nativePtr = nativeCreate(canonicalPath  Durability.FULL.value  CREATE_FILE_YES  DISABLE_REPLICATION  key);         }         context = new Context();         path = canonicalPath;         checkNativePtrNotZero();     } Unlike the single param constructor  this one sets context AFTER native call which can fail with exception due to realm corruption. However  even after exception  the SharedGroup object is already created within jvm  now with null context and crashes finalizer since it is used a monitor/synchronized lock. This only applies to the 1.2.0 branch but since 2.X is not really stable yet (compatibility wise)  I think it would be prudent to backport the fix it for the 1.2 branch users out there since the impact is quite severe as there is absolutely no way to recover. Normally  if a realm db is corrupted  the app can recover by copying in a backup  or delete it out right. With this bug  it is impossible to recover. Fix is moving the context creation to first line like the first constructor in the class or add null protect to finalizer() block.,0
3892,16-12-10,Issue 3892 : It will cause crashed in HUAWEI mobile phone... ， Issue #3892 ， realm/realm-java ， GitHub No description provided.,0
3894,16-12-12,Issue 3894 : Observables on RealmObject containing a RealmList behaving unexpectedly ， Issue #3894 ， realm/realm-java ， GitHub Goal RealmObjectA contains an id  value  and RealmList. RealmObjectB contains just an id  and value. Observable on RealmObjectA should only call onNext for changes within RealmObjectA table. Expected Results Observable on RealmObjectA should only call onNext for changes within RealmObjectA table. Actual Results A change in RealmObjectB causes RealmObjectA Observable onNext to get called. Steps & Code to Reproduce See the code below. When committing a transaction to RealmObject2  RealmObject1 observable is called. Code Sample public class RealmObject1 extends RealmObject {     @PrimaryKey     Integer id;     String value;      RealmList<RealmObject2> relatedList1; }  public class RealmObject2 extends RealmObject {     @PrimaryKey     Integer id;     String value; }  Realm.init(getApplicationContext());         final Realm realm = Realm.getDefaultInstance();         RealmResults<RealmObject1> rr = realm.where(RealmObject1.class).findAll();          rr.asObservable().subscribe(new Action1<RealmResults<RealmObject1>>() {             @Override             public void call(RealmResults<RealmObject1> realmObject1) {                 Log.d("MainActivity"  "Observable Called");                 Log.d("MainActivity"  Integer.toString(realmObject1.size()));             }         });  Runnable runnable = new Runnable() {             @Override             public void run() {                 Log.d("MainActivity"  "Begin Transaction");                 realm.beginTransaction();                 RealmObject2 ro2 = new RealmObject2();                 ro2.id = 1;                 ro2.value = "some string";                 realm.copyToRealmOrUpdate(ro2);                 realm.commitTransaction();                 Log.d("MainActivity"  "Commit Transaction");             }         };          Handler handler = new Handler();         handler.postDelayed(runnable  5000); Version of Realm and tooling Realm version(s): 2.2.1 Realm sync feature enabled: no Android Studio version: 2.2.3 Which Android version and device: Nexus 5x Emulator (Android 6.0),0
3928,16-12-20,Issue 3928 : RealmLog causes IllegalStateException ， Issue #3928 ， realm/realm-java ， GitHub Steps Run an asynchronous query using Realm Use the RxJava API (query.asObservable) Inside of a map operator  check if the RealmObject returned is loaded and is valid Desired behavior The boolean checks return true or false and I go about my day. Encountered behavior In the case of isValid being false  RealmLog attempts to write this event and calls toString() on the Realm proxy class. This causes an IllegalStateException with the message: Can't access a row that hasn't been loaded or represents 'null'  make sure the instance is loaded and is valid by calling 'RealmObject.isLoaded() && RealmObject.isValid()'. StackTrace FATAL EXCEPTION: main Process: org.unos.transnet.release  PID: 12048 java.lang.IllegalStateException: Can't access a row that hasn't been loaded or represents 'null'  make sure the instance is loaded and is valid by calling 'RealmObject.isLoaded() && RealmObject.isValid()'. at io.realm.internal.Row$1.isNullLink(Row.java:191) at io.realm.ProfileEntityRealmProxy.realmGet$user(ProfileEntityRealmProxy.java:100) at org.unos.ett.api.entity.ProfileEntity.toString(ProfileEntity.java:31) at java.util.Formatter.transform(Formatter.java:1421) at java.util.Formatter.doFormat(Formatter.java:1081) at java.util.Formatter.format(Formatter.java:1042) at java.util.Formatter.format(Formatter.java:1011) at java.lang.String.format(String.java:1554) at java.lang.String.format(String.java:1528) at io.realm.log.RealmLog.log(RealmLog.java:360) at io.realm.log.RealmLog.trace(RealmLog.java:203) at io.realm.log.RealmLog.trace(RealmLog.java:192) at io.realm.HandlerController.completedAsyncRealmObject(HandlerController.java:636) at io.realm.HandlerController.handleMessage(HandlerController.java:131) at android.os.Handler.dispatchMessage(Handler.java:98) at android.os.Looper.loop(Looper.java:148) at android.app.ActivityThread.main(ActivityThread.java:5417) at java.lang.reflect.Method.invoke(Native Method) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616) Code Sample realm.where(entityClass)                 .findFirstAsync()                 .asObservable()                 .cast(entityClass)                 .map(new Func1<Entity  Optional<Entity>>() {             @Override             public Optional<Entity> call(Entity entity) {                 boolean loaded = entity.load();                 if (loaded && entity.isValid()) {                     return Optional.of(entity);                 } else {                     return Optional.absent();                 }             }         })                 .first();  Version of Realm and tooling Realm version(s): 2.1.1 Realm sync feature enabled: no Android Studio version: 2.2.3 Which Android version and device: Android Emulator  API 23,1
3938,16-12-22,Issue 3938 : findAllAsync() sometimes fails to return any results when using it in sync mode ， Issue #3938 ， realm/realm-java ， GitHub Sometimes findAllAsync() does not call the change listener. I created a sample project that demonstrates the issue. Actually  I just copied the RealmTasks example  removed the Facebook SDK and then replaced findAll() with findAllAsync(). You can find it here: https://github.com/joluet/RealmTasksDemo This project lets you reproduce the issue consistently. To reproduce it I follow these steps: Make sure Realm Object Server is running and connected Register a new user in the app Navigate back to get to the TaskListActivity Observe that there is no task list Rotating the phone or restarting the app will bring back the list called My Task Also  deleting  adding  or editing list items can make task lists disappear.,0
3945,16-12-24,Issue 3945 : UnsatisfiedLinkError while loading native library librealm-jni.so.2.2.1 ， Issue #3945 ， realm/realm-java ， GitHub Goal What do you want to achieve? Realm initialization with success Actual Results Exception java.lang.UnsatisfiedLinkError: Cannot load library: soinfo_relocate(linker.cpp:992): cannot locate symbol "pipe2" referenced by "librealm-jni.so.2.2.1"... java.lang.Runtime.load (Runtime.java:341) java.lang.System.load (System.java:500) com.getkeepsafe.a.e.b (SystemLibraryLoader.java:29) com.getkeepsafe.a.d.c (ReLinkerInstance.java:198) com.getkeepsafe.a.d.a (ReLinkerInstance.java:136) com.getkeepsafe.a.c.a (ReLinker.java:70) com.getkeepsafe.a.c.a (ReLinker.java:57) io.realm.internal.j.a (RealmCore.java:61) io.realm.v.a (Realm.java:187) io.github.rubensousa.euromillions.App.onCreate (App.java:45) android.app.Instrumentation.callApplicationOnCreate (Instrumentation.java:1065) android.app.ActivityThread.handleBindApplication (ActivityThread.java:4640) android.app.ActivityThread.access$1300 (ActivityThread.java:165) android.app.ActivityThread$H.handleMessage (ActivityThread.java:1433) android.os.Handler.dispatchMessage (Handler.java:107) android.os.Looper.loop (Looper.java:194) android.app.ActivityThread.main (ActivityThread.java:5370) java.lang.reflect.Method.invokeNative (Method.java) java.lang.reflect.Method.invoke (Method.java:525) com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:833) com.android.internal.os.ZygoteInit.main (ZygoteInit.java:600) dalvik.system.NativeStart.main (NativeStart.java)  Steps & Code to Reproduce Couldn't debug this since it happens in a rare chinese tablet: https://secretspecs.com/model/teclast/teclast-g17(b5dv/ The exception is thrown while attempting to call: Realm.init(this); I think this is probably a Relinker issue and not a realm one  but I figured I should post this here. Version of Realm and tooling Realm version(s): 2.2.1 Realm sync feature enabled: no Android Studio version: 2.2.3 Which Android version and device: Teclast G17(B5DV) API 17 (4.2.2) https://secretspecs.com/model/teclast/teclast-g17(b5dv/,0
3951,16-12-27,Issue 3951 : signal 7 (SIGBUS)  code 2 (BUS_ADRERR) ， Issue #3951 ， realm/realm-java ， GitHub Device : Nexus 5 OS : Android 6.0.1 Realm Version : 2.2.1 When it occurred: in other app  user share image/text to our app. when that time  it occurred after updating database. my application avoid to initiate in multi process like this: ActivityManager activityManager =         (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE); for (ActivityManager.RunningAppProcessInfo processInfo : activityManager.getRunningAppProcesses()) {     if (Process.myPid() == processInfo.pid) {         if (TextUtils.equals(processInfo.processName  BuildConfig.APPLICATION_ID)) {             Realm.init(context);             Realm.setDefaultConfiguration(realmConfiguration());         }         break;     } } error log  *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***  Build fingerprint: 'google/hammerhead/hammerhead:6.0.1/M4B30X/3237893:user/release-keys'  Revision: '11'  ABI: 'arm'  pid: 15476  tid: 15615  name: EventThread  >>> com.tosslab.jandi.app <<<  signal 7 (SIGBUS)  code 2 (BUS_ADRERR)  fault addr 0x94675000      r0 8d038090  r1 94674ff0  r2 00fc7f28  r3 00000008      r4 92618fa8  r5 00fffff0  r6 00fffff0  r7 00000000      r8 00000000  r9 00000000  sl 00fffff0  fp 92618f50 12-27 15:07:53.933 199-199/? A/DEBUG:     ip 00000000  sp 92618e30  lr 9e75a51b  pc b6c9765a  cpsr 200b0030  backtrace:      #00 pc 0001765a  /system/lib/libc.so (__memcpy_base+81)      #01 pc 000e1517  /data/app/com.tosslab.jandi.app-2/lib/arm/librealm-jni.so      #02 pc 000e14ef  /data/app/com.tosslab.jandi.app-2/lib/arm/librealm-jni.so      #03 pc 000e2cab  /data/app/com.tosslab.jandi.app-2/lib/arm/librealm-jni.so      #04 pc 000df94b  /data/app/com.tosslab.jandi.app-2/lib/arm/librealm-jni.so      #05 pc 000d78b3  /data/app/com.tosslab.jandi.app-2/lib/arm/librealm-jni.so      #06 pc 0005786d  /data/app/com.tosslab.jandi.app-2/lib/arm/librealm-jni.so (Java_io_realm_internal_UncheckedRow_nativeSetString+76)      #07 pc 024e57e5  /data/app/com.tosslab.jandi.app-2/oat/arm/base.odex (offset 0x15b3000),0
3964,16-12-30,Issue 3964 : ThrowingException 5 - Unrecoverable error ， Issue #3964 ， realm/realm-java ， GitHub Goal I've been performing further tests on Realms observable Realms models since I have experienced issues previously (see issue) in order measure memory usage and performance. Expected Results Did not expect the error to occurs so quickly. Actual Results Extending a test app created @beeender   I've managed to experience an exception ThrowingException 5 - Unrecoverable error when the RealmResult exceeds 65535  which looks suspicious: 12-29 20:35:11.926 14227-14277/tt.test.realmrxtest E/REALM_JNI: jni: ThrowingException 5  Try again in /tmp/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 123  . 12-29 20:35:11.926 14227-14277/tt.test.realmrxtest E/REALM_JNI: Exception has been throw: Unrecoverable error. Try again in /tmp/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 123  Steps & Code to Reproduce Describe your current debugging efforts. Code Sample I've issued a PR on the project created by @beeender Version of Realm and tooling Realm version(s): 2.3.0-SNAPSHOT Realm sync feature enabled: no Android Studio version: 2.3 Beta 1 Which Android version and device: Nexus 5 (5.1.1),0
3966,16-12-30,Issue 3966 : Realm 1.2.0: removing @PrimaryKey constraint does not trigger RealmMigrationNeededException ， Issue #3966 ， realm/realm-java ， GitHub I like the whole issue template thing  but this one really doesn't need one. deleteIfMigrationNeeded() did not delete Realm after removing @PrimaryKey annotation. Version of Realm and tooling Realm version(s): 1.2.0 Realm sync feature enabled: no Android Studio version: . Which Android version and device: .,0
3972,17-01-02,Issue 3972 : Unrecoverable error. Permission denied in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp ， Issue #3972 ， realm/realm-java ， GitHub Goal Sharing a crash log (as reported by Crashlytics) on specific devices. Expected Results To verify if my current API usage is correct and hopefully find a resolution. Actual Results Fatal Exception: io.realm.exceptions.RealmError: Unrecoverable error. Permission denied in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 92 at io.realm.internal.SharedRealm.nativeGetSharedRealm(SharedRealm.java) at io.realm.internal.SharedRealm.getInstance(SharedRealm.java:205) at io.realm.internal.SharedRealm.getInstance(SharedRealm.java:182) at io.realm.RealmCache.createRealmOrGetFromCache(RealmCache.java:124) at io.realm.Realm.getInstance(Realm.java:227) at com.project.base.BaseRealm.(BaseRealm.java) at com.project.helpers.RepoImpl.(RepoImpl.java) at com.project.MainActivity.initialiseHelpers(MainActivity.java:272) at com.project.MainActivity.onCreate(MainActivity.java:162) at android.app.ActivityThread.handleCreateService(ActivityThread.java:2937) at android.app.ActivityThread.access$1900(ActivityThread.java:174) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1403) at android.os.Handler.dispatchMessage(Handler.java:102) at android.os.Looper.loop(Looper.java:146) at android.app.ActivityThread.main(ActivityThread.java:5752) at java.lang.reflect.Method.invokeNative(Method.java) at java.lang.reflect.Method.invoke(Method.java:515) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1291) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1107) at dalvik.system.NativeStart.main(NativeStart.java) Code: public class BaseRealm {     private RealmConfiguration config = new RealmConfiguration.Builder().build();     protected Realm mRealm = Realm.getInstance(config); }  public class RepoImpl extends BaseRealm implements RepoInterface {     @Override     public void add(String item) {         MyPOJO data = new MyPOJO();         data.setItem(item);         data.setTimestamp(System.currentTimeMillis());         mRealm.beginTransaction();         mRealm.copyToRealmOrUpdate(data);         mRealm.commitTransaction();     }     @Override     public int getResultCount() {         return mRealm.where(MyPOJO.class).findAllSorted("timestamp"  Sort.DESCENDING).size();     }     @Override     public MyPOJO getItemObjectByIndex(int index) {         try {             return mRealm.where(MyPOJO.class).findAllSorted("timestamp"  Sort.DESCENDING).get(index);         } catch (Exception e) {             return null;         }     }     @Override     public void remove(int position) {         mRealm.beginTransaction();         mRealm.where(MyPOJO.class).findAllSorted("timestamp"  Sort.DESCENDING).deleteFromRealm(position);         mRealm.commitTransaction();     }     @Override     public void closeRealm() {         mRealm.close();     }     @Override     public Realm getRealm() {         return mRealm;     }     @Override     public void clearRealm() {         getRealm().beginTransaction();         getRealm().deleteAll();         getRealm().commitTransaction();     }  The RepoImpl instance is being created from two separate classes and the realm instance is being closed only when onDestroy() is triggered in each of the classes. clearRealm() is currently never called. Realm version(s): 2.2.1 Android Studio version: 2.2.3 Which Android version and device: Samsung SM-A500F (Android 6.0) and Lenovo S1a40 (Android 4.4.4) It's seemingly working well on other devices.,0
3993,17-01-06,Issue 3993 : Memory leak (Row) in Java_io_realm_internal_Table_nativeSetPrimaryKey ， Issue #3993 ， realm/realm-java ， GitHub I just stumbled across this while investigating a Core crash seems we're allocating a Row on the heap realm-java/realm/realm-library/src/main/cpp/io_realm_internal_Table.cpp Line 1508 in d547fde Row* row = new Row((*pk_table)[row_index]);,1
4002,17-01-07,Issue 4002 : could not create WeakRealmNotifier ALooper message pipe: Too many open files ， Issue #4002 ， realm/realm-java ， GitHub From realm/realm-object-store#319 (see attached files there) hello  I try to evaluate different databases inside one android app- Therefore I created different scenarios. The scenarios are different in the size and count of objects I will store. All calls to the realm database came from a class I called "RealmDataManager". Inside this I implement differend methods which I need for my evaluation. I use a IntentService which gets started from my Mainactivity. Inside my IntentService I defined the different scenarios and what to do for each. At the Moment I have one problem. After my 4th Szenario (from 90 szenario's) I got the following Output in Logcat  01-06 13:51:54.957 14995-15287/de.gerding.dbcompare E/REALM: could not create WeakRealmNotifier ALooper message pipe: Too many open files 01-06 13:51:54.959 14995-15287/de.gerding.dbcompare E/REALM: could not create WeakRealmNotifier ALooper message pipe: Too many open files 01-06 13:51:54.963 14995-15012/de.gerding.dbcompare E/Parcel: dup() failed in Parcel::read  i is 0  fds[i] is -1  fd_count is 1  error: Too many open files 01-06 13:51:54.966 14995-15287/de.gerding.dbcompare E/REALM: could not create WeakRealmNotifier ALooper message pipe: Too many open files 01-06 13:51:54.967 14995-15287/de.gerding.dbcompare E/REALM: could not create WeakRealmNotifier ALooper message pipe: Too many open files 01-06 13:51:54.972 14995-15287/de.gerding.dbcompare E/REALM: could not create WeakRealmNotifier ALooper message pipe: Too many open files 01-06 13:51:54.974 14995-15287/de.gerding.dbcompare E/REALM: could not create WeakRealmNotifier ALooper message pipe: Too many open files 01-06 13:51:54.980 14995-15012/de.gerding.dbcompare E/Parcel: dup() failed in Parcel::read  i is 0  fds[i] is -1  fd_count is 1  error: Too many open files 01-06 13:51:54.982 14995-15012/de.gerding.dbcompare E/Surface: queueBuffer: error queuing buffer to SurfaceTexture  -22 01-06 13:51:54.982 14995-15012/de.gerding.dbcompare I/Adreno: QueueBuffer: queueBuffer failed 01-06 13:51:54.982 14995-15012/de.gerding.dbcompare W/OpenGLRenderer: swapBuffers encountered EGL_BAD_SURFACE on 0x7f82d04940  halting rendering... 01-06 13:51:54.984 14995-15287/de.gerding.dbcompare E/REALM: could not create WeakRealmNotifier ALooper message pipe: Too many open files 01-06 13:51:54.985 14995-15287/de.gerding.dbcompare E/REALM: could not create WeakRealmNotifier ALooper message pipe: Too many open files 01-06 13:51:55.014 14995-15287/de.gerding.dbcompare E/REALM: could not create WeakRealmNotifier ALooper message pipe: Too many open files 01-06 13:51:55.016 14995-15287/de.gerding.dbcompare E/REALM: could not create WeakRealmNotifier ALooper message pipe: Too many open files ... Can you help me to figure out what I should change to solve this? It's not a big problem  it looks like it works although this logcat output gets spammed. But I am not sure if it works for a long time. In my mainactivity I show an ProgressDialog when I start my "MessService"  and this ProgressDialog in style circle doesn't move anymore when I got the logcat spam. I will attach you some of my classes. RealmDataManager - where all calls to the database are implemented. MessService - where all scenarios are defined and you can see how I use the RealmDataManager I take some comments inside my MessService so that not alle scenarios are used at the moment because some scenarios needs long time and this is not fine for debugging. RealmCANDaten - one of my two objecttypes stored in the database RealmFahrt - the other objecttype stored in the database If you need more information for reproducing please let me know that. I hope we can fix this issue together.,0
4023,17-01-12,Issue 4023 : Crash with encrypted Realm and RxJava ， Issue #4023 ， realm/realm-java ， GitHub I have been seeing below trace quite a lot while developing the app. I don't know steps how to reproduce this error. My setup is following: Realm 2.2.2 - encrypted database RxJava2 2.0.3 RxAndroid 2.0.1 Retrofit2 Rx adapter 1.0.0 The crash is related to Consumer accept callback where information is written to database in schedulers IO thread. 01-12 08:43:54.705 16215-30065/com.xxx.android A/libc: Fatal signal 7 (SIGBUS)  code 1  fault addr 0x3ab in tid 30065 (RxCachedThreadS) 01-12 08:43:54.818 490-490/? A/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 01-12 08:43:54.819 490-490/? A/DEBUG: Build fingerprint: 'google/bullhead/bullhead:6.0.1/MHC19Q/2705526:user/release-keys' 01-12 08:43:54.819 490-490/? A/DEBUG: Revision: 'rev_1.0' 01-12 08:43:54.820 490-490/? A/DEBUG: ABI: 'arm64' 01-12 08:43:54.820 490-490/? A/DEBUG: pid: 16215  tid: 30065  name: RxCachedThreadS >>> com.xxx.android <<< 01-12 08:43:54.821 490-490/? A/DEBUG: signal 7 (SIGBUS)  code 1 (BUS_ADRALN)  fault addr 0x3ab 01-12 08:43:54.856 490-490/? A/DEBUG: x0 0000007f766bf9a8 x1 00000000000003ab x2 0000000000000000 x3 0000007f93753f68 01-12 08:43:54.857 490-490/? A/DEBUG: x4 0000000000000000 x5 0000000000000000 x6 0000007f79c57c18 x7 0000007f753bf4f0 01-12 08:43:54.857 490-490/? A/DEBUG: x8 0000007f753bd3a8 x9 0000007f753bf4f0 x10 0000000000000001 x11 0000007f7470e4e0 01-12 08:43:54.858 490-490/? A/DEBUG: x12 0000007f980d5b40 x13 0000000000000003 x14 0000000000000004 x15 00000000000000a0 01-12 08:43:54.858 490-490/? A/DEBUG: x16 00000000000000a1 x17 0000007f980d5000 x18 0000007f7470e4e0 x19 0000007f79a6bb60 01-12 08:43:54.859 490-490/? A/DEBUG: x20 0000007f749be900 x21 0000000000000003 x22 0000007f766bf600 x23 0000000000000000 01-12 08:43:54.860 490-490/? A/DEBUG: x24 0000000000000010 x25 0000000000000000 x26 0000007f79af2500 x27 000000000000000c 01-12 08:43:54.860 490-490/? A/DEBUG: x28 0000007f79c57c18 x29 0000007f753bd660 x30 0000007f7c247cf0 01-12 08:43:54.861 490-490/? A/DEBUG: sp 0000007f753bd660 pc 0000007f7c247d60 pstate 0000000060000000 01-12 08:43:55.020 490-490/? A/DEBUG: backtrace: 01-12 08:43:55.021 490-490/? A/DEBUG: #00 pc 0000000000156d60 /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.022 490-490/? A/DEBUG: #1 pc 0000000000162240 /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.022 490-490/? A/DEBUG: #2 pc 000000000012a0d4 /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.023 490-490/? A/DEBUG: #3 pc 0000000000162204 /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.023 490-490/? A/DEBUG: #4 pc 000000000012a0d4 /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.024 490-490/? A/DEBUG: #5 pc 00000000001622c0 /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.024 490-490/? A/DEBUG: #6 pc 000000000012a0d4 /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.025 490-490/? A/DEBUG: #7 pc 00000000001622c0 /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.025 490-490/? A/DEBUG: #8 pc 000000000012a0d4 /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.026 490-490/? A/DEBUG: #9 pc 00000000001622c0 /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.026 490-490/? A/DEBUG: #10 pc 000000000012a0d4 /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.027 490-490/? A/DEBUG: #11 pc 0000000000162204 /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.027 490-490/? A/DEBUG: #12 pc 000000000012a0d4 /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.028 490-490/? A/DEBUG: #13 pc 00000000001622c0 /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.028 490-490/? A/DEBUG: #14 pc 000000000012a0d4 /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.029 490-490/? A/DEBUG: #15 pc 0000000000162204 /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.029 490-490/? A/DEBUG: #16 pc 000000000012a0d4 /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.030 490-490/? A/DEBUG: #17 pc 00000000000a4cac /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.030 490-490/? A/DEBUG: #18 pc 00000000000abeac /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.031 490-490/? A/DEBUG: #19 pc 00000000000be768 /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.031 490-490/? A/DEBUG: #20 pc 00000000000c26ec /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.032 490-490/? A/DEBUG: #21 pc 00000000000bbcd0 /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so 01-12 08:43:55.033 490-490/? A/DEBUG: #22 pc 000000000004d2c0 /data/app/com.xxx.android-1/lib/arm64/librealm-jni.so (Java_io_realm_internal_SharedRealm_nativeGetSharedRealm+384) 01-12 08:43:55.033 490-490/? A/DEBUG: #23 pc 000000000322afdc /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (long io.realm.internal.SharedRealm.nativeGetSharedRealm(long  io.realm.internal.RealmNotifier)+160) 01-12 08:43:55.034 490-490/? A/DEBUG: #24 pc 0000000003229fc8 /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (io.realm.internal.SharedRealm io.realm.internal.SharedRealm.getInstance(io.realm.RealmConfiguration  io.realm.internal.RealmNotifier  io.realm.internal.SharedRealm$SchemaVersionListener  boolean)+764) 01-12 08:43:55.034 490-490/? A/DEBUG: #25 pc 0000000002ff64ac /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (void io.realm.BaseRealm.(io.realm.RealmConfiguration)+608) 01-12 08:43:55.035 490-490/? A/DEBUG: #26 pc 000000000301f448 /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (void io.realm.Realm.(io.realm.RealmConfiguration)+76) 01-12 08:43:55.035 490-490/? A/DEBUG: #27 pc 000000000301ff8c /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (io.realm.Realm io.realm.Realm.createAndValidate(io.realm.RealmConfiguration  io.realm.internal.ColumnIndices[])+128) 01-12 08:43:55.036 490-490/? A/DEBUG: #28 pc 00000000030208bc /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (io.realm.Realm io.realm.Realm.createInstance(io.realm.RealmConfiguration  io.realm.internal.ColumnIndices[])+64) 01-12 08:43:55.036 490-490/? A/DEBUG: #29 pc 000000000307e0a4 /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (io.realm.BaseRealm io.realm.RealmCache.createRealmOrGetFromCache(io.realm.RealmConfiguration  java.lang.Class)+1240) 01-12 08:43:55.037 490-490/? A/DEBUG: #30 pc 0000000003021684 /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (io.realm.Realm io.realm.Realm.getInstance(io.realm.RealmConfiguration)+232) 01-12 08:43:55.037 490-490/? A/DEBUG: #31 pc 0000000002409014 /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (io.realm.Realm com.xxx.android.database.realm.RealmHelper.getRealm(io.realm.RealmConfiguration)+904) 01-12 08:43:55.038 490-490/? A/DEBUG: #32 pc 00000000026d6040 /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (boolean com.xxx.android.database.realm.RealmImpl.addContainers(java.util.List  boolean)+116) 01-12 08:43:55.039 490-490/? A/DEBUG: #33 pc 0000000002718d5c /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (void com.xxx.android.model.AccountsModel$2.accept(com.xxx.android.network.response.BaseResponse)+1584) 01-12 08:43:55.039 490-490/? A/DEBUG: #34 pc 0000000002719178 /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (void com.xxx.android.model.AccountsModel$2.accept(java.lang.Object)+108) 01-12 08:43:55.040 490-490/? A/DEBUG: #35 pc 0000000002f04fd0 /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (void io.reactivex.internal.operators.observable.ObservableDoOnEach$DoOnEachObserver.onNext(java.lang.Object)+132) 01-12 08:43:55.040 490-490/? A/DEBUG: #36 pc 0000000002f4d4a0 /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (void io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeOnObserver.onNext(java.lang.Object)+84) 01-12 08:43:55.041 490-490/? A/DEBUG: #37 pc 0000000002211e7c /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (void com.jakewharton.retrofit2.adapter.rxjava2.BodyObservable$BodyObserver.onNext(retrofit2.Response)+208) 01-12 08:43:55.041 490-490/? A/DEBUG: #38 pc 0000000002211d4c /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (void com.jakewharton.retrofit2.adapter.rxjava2.BodyObservable$BodyObserver.onNext(java.lang.Object)+112) 01-12 08:43:55.042 490-490/? A/DEBUG: #39 pc 00000000022431c0 /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (void com.jakewharton.retrofit2.adapter.rxjava2.CallObservable.subscribeActual(io.reactivex.Observer)+340) 01-12 08:43:55.042 490-490/? A/DEBUG: #40 pc 00000000022392e8 /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (void io.reactivex.Observable.subscribe(io.reactivex.Observer)+348) 01-12 08:43:55.043 490-490/? A/DEBUG: #41 pc 0000000002242dac /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (void com.jakewharton.retrofit2.adapter.rxjava2.BodyObservable.subscribeActual(io.reactivex.Observer)+160) 01-12 08:43:55.044 490-490/? A/DEBUG: #42 pc 00000000022392e8 /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (void io.reactivex.Observable.subscribe(io.reactivex.Observer)+348) 01-12 08:43:55.044 490-490/? A/DEBUG: #43 pc 0000000002f4cf5c /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (void io.reactivex.internal.operators.observable.ObservableSubscribeOn$1.run()+112) 01-12 08:43:55.044 490-490/? A/DEBUG: #44 pc 0000000002da1588 /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (void io.reactivex.Scheduler$1.run()+76) 01-12 08:43:55.045 490-490/? A/DEBUG: #45 pc 0000000002f96a48 /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (void io.reactivex.internal.schedulers.ScheduledRunnable.run()+92) 01-12 08:43:55.046 490-490/? A/DEBUG: #46 pc 0000000002f96500 /data/app/com.xxx.android-1/oat/arm64/base.odex (offset 0x1362000) (java.lang.Object io.reactivex.internal.schedulers.ScheduledRunnable.call()+68) 01-12 08:43:55.046 490-490/? A/DEBUG: #47 pc 000000007259ba80 /data/dalvik-cache/arm64/system@framework@boot.oat (offset 0x1ede000) 01-12 08:43:56.244 490-490/? A/DEBUG: Tombstone written to: /data/tombstones/tombstone_05 01-12 08:43:56.244 490-490/? E/DEBUG: AM write failed: Broken pipe,0
4038,17-01-13,Issue 4038 : SyncClient ignoring protocol error ， Issue #4038 ， realm/realm-java ， GitHub Errors can be either client error or protocol error not both the following condition is false  which result in ignoring all recoverable errors including new tokens.,1
4039,17-01-13,Issue 4039 : SyncClient Unable to renew Access Token ， Issue #4039 ， realm/realm-java ， GitHub REALM_SYNC_VERSION=1.0.0-BETA-7.0 ROS=v1.0.0-BETA-5.1 Using the RealmTasks you can reproduce the following error. After you create a new user & login  wait a couple of minutes then add a new task (commit) the SyncSession will stop syncing the changes because ROS send a fatal client error. The server first send an Access token expired (202) so the client can renew the access token The client receive this error but ignore it because of this bug #4038 Even if the Sync Client is not ignoring the error  it tries to bind again because session.isAuthenticated(session.configuration) can return true if the client consider the token to be still valid (based on timestamps for example) this is not true for the server who consider the token to be expired (hence the first 202) If the client continue binding with the expired token  the server will return a fatal error (203  Bad user authentication (BIND  REFRESH),0
4046,17-01-16,Issue 4046 : Ensure that Java ErrorCode's match Syncs ， Issue #4046 ， realm/realm-java ， GitHub The Sync Error codes has shuffled around a bit in the last few releases  and we need to ensure that the Java equivalents are aligned.,0
4047,17-01-16,Issue 4047 : Default ports not correct ， Issue #4047 ， realm/realm-java ， GitHub When setting a Realm URL it looks like it defaults to port 80 instead of 9080. This will cause it to throw a connection error if trying to connect to a default configured server. // Will default to port 80  should default to 9080 SyncConfiguration config = new SyncConfiguration.Builder(user  "realm://ros.realm.io/~/default");  Also verify that realms default to the correct port (9443),0
4062,17-01-18,Issue 4062 : SyncSession needs to handle SESSION_DISABLED ， Issue #4062 ， realm/realm-java ， GitHub Sync introduced a new error code (213 - SESSION_DISABLED). We need to handle it in Java until #3742 is completed.,0
4080,17-01-20,Issue 4080 : Sync- User should be notified about client reset ， Issue #4080 ， realm/realm-java ， GitHub currently error code related to the sync client reset are managed directly in JNI https://github.com/realm/realm-java/blob/master/realm/realm-library/src/main/cpp/objectserver_shared.hpp#L87-L110 the current implementation will schedule a Realm backup/reset when the app starts again  we need also to return an error code so the user have a chance to stop the app.,0
4081,17-01-20,Issue 4081 : RealmResults.sort() on asynchronous query removes all conditions. ， Issue #4081 ， realm/realm-java ， GitHub Goal Sort RealmResults. Expected Results Either sorted results or an exception. I know that I should have done findAllSortedAsync  however  after changing synchronous queries to asynchronous ones  this behaviour snuck up on me. I think there should be some kind of warning  right? Actual Results All objects of the given RealmModel  ignoring the conditions on the query behind the RealmResult. Code Sample // Query that returns a few objects results = query.findAllAsync();  // 0 Timber.w("Query returning %d results before sort."  results.size());  results = results.sort(new String[]{"fieldA"  "fieldB"  "fieldC"}  new Sort[]{Sort.DESCENDING  Sort.ASCENDING  Sort.ASCENDING});  // All objects Timber.w("Query returning %d results after sort."  results.size());  Version of Realm and tooling 2.3.0 Realm sync feature enabled: no Android Studio version: 2.2.3 Which Android version and device: Emulator API 25.,0
4086,17-01-21,Issue 4086 : NPE on handoverQueryPointer ， Issue #4086 ， realm/realm-java ， GitHub New random bug happended  this problem can be related with the #2021. java.lang.NullPointerException: Attempt to invoke virtual method 'long io.realm.RealmQuery.handoverQueryPointer()' on a null object reference   at io.realm.HandlerController.completedAsyncRealmObject(HandlerController.java:653)   at io.realm.HandlerController.handleMessage(HandlerController.java:132)   at android.os.Handler.dispatchMessage(Handler.java:98)   at android.os.Looper.loop(Looper.java:135)   at android.app.ActivityThread.main(ActivityThread.java:5343)   at java.lang.reflect.Method.invoke(Native Method)   at java.lang.reflect.Method.invoke(Method.java:372)   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:905)   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:700) Realm 2.3.0 Kotlin 1.0.4 Gradle 2.14.1,1
4087,17-01-21,Issue 4087 : AndroidTest for a Kotlin class does not compile ， Issue #4087 ， realm/realm-java ， GitHub Goal I want to run an Android Test for a Kotlin class that uses Realm Actual Results Error:Execution failed for task ':data:compileDebugAndroidTestJavaWithJavac'.  java.lang.NoClassDefFoundError: org/jetbrains/kotlin/annotation/AnnotationProcessorWrapper  Version of Realm and tooling Realm version(s): 2.3.0 (2.2.2 works) Realm sync feature enabled: no Android Studio version: 2.2.3 Kotlin: 1.0.6,0
4094,17-01-23,Issue 4094 : Access token should be refreshed before the current one expires ， Issue #4094 ， realm/realm-java ， GitHub I tested the 2.3.0 release with RealmTasks for Android and ROS 1.0.0 with the expiration time set to 60s. Right now  when the Android binding tries to send an UPLOAD message with and expired token  the server sends an error(Sending: ERROR(error_code=202  message_size=20  try_again=0  session_ident=1)) and closes the session. The client then connects to the auth server and gets a new token. This behaviour is incorrect  the client should request an access token before the current access token expires and send a REFRESH message to the server  so that the session does not get disconnected. Not sure how much of this behaviour should be in object-store and how much in the binding. cc @austinzheng @mrackwitz,0
4095,17-01-24,Issue 4095 : RealmObservableFactory unsubscription subscriber order and addChangeListener should be inverted ， Issue #4095 ， realm/realm-java ， GitHub Goal What do you want to achieve? Use take(1) Expected Results Unsubscribe as needed. Actual Results Not sure  but according to Jake Wharton  I think the code in RealmObservableFactory might not work as expected with take(1) and this change in RxBinding can be seen in JakeWharton/RxBinding@3ccbd00 Version of Realm and tooling Realm version(s): 2.3.0,0
4128,17-01-31,Issue 4128 : Database corruption after SEGV_MAPERR ， Issue #4128 ， realm/realm-java ， GitHub Hello  We're experiencing high incidents of SIGSEGV SEGV_MAPERR crashes on recent versions of Realm. We can reliably reproduce these crashes by opening realms on multiple threads and conducting operations. Crashing multiple times (1-5) will usually cause the database to corrupt. Most of our tests have been with encrypted realms  however  I was able to reproduce the same results using an unencrypted realm with much effort. Observations The probability of crash increases with the number of global realm instances open (N > 2 usually leads to crash). copyFromRealm increases probability of crashes Crashes usually occur during GC Crashes eventually lead to database corruption Corruption spreads  once a realm has corruption  doing operations on that realm will crash and eventually prevent the realm from opening entirely. Write operations on main thread increase crashes Encryption increases the probability but does not appear to be the cause Results This is a small set of crashes from production. I have hundreds  but they're much of the same. signal 11 (SIGSEGV)  code 1  fault addr 0x674db176 in tid 27384 (m.messenger.app) Revision: '0' ABI: 'arm' pid: 27384  tid: 27384  name: m.messenger.app  >>> com.messenger.app <<< signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x674db176     r0 674db172  r1 b7989f78  r2 00000861  r3 0000004e     r4 676e6172  r5 b7900f90  r6 00000068  r7 bef3c350     r8 00000001  r9 bef3c37c  sl 9ec858c0  fp b7fd5e78     ip b6cb05dc  sp bef3c348  lr b3b7152d  pc b3b5e6c2  cpsr 800e0030  Stack Trace:   RELADDR   FUNCTION                                                                             FILE:LINE   000846c2  realm::BpTreeNode::get_bptree_leaf(unsigned int) const+82                            unwind-c.c:?   00085b0b  realm::BpTree<realm::util::Optional<long long> >::get(unsigned int) const+20         unwind-c.c:?   0008da9f  realm::TimestampColumn::get(unsigned int) const+14                                   unwind-c.c:?   000babe9  realm::TimestampNode<realm::Equal>::find_first_local(unsigned int  unsigned int)+64  unwind-c.c:?   000c3215  realm::ParentNode::find_first(unsigned int  unsigned int)+44                         unwind-c.c:?   000c940f  realm::Query::count(unsigned int  unsigned int  unsigned int) const+166              unwind-c.c:?   0003cd51  Java_io_realm_internal_TableQuery_nativeCount+88                                     unwind-c.c:?   010092f3  offset 0xd10000                                                                      /data/app/com.messenger.app-1/oat/arm/base.odex  -----------------------------------------------------  signal 11 (SIGSEGV)  code 1  fault addr 0x4 in tid 6685 (IncomingMessage) Revision: '0' ABI: 'arm' pid: 6606  tid: 6685  name: IncomingMessage  >>> com.messenger.app <<< signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x4     r0 b80ccf60  r1 ffff97a0  r2 b80cd26c  r3 00000000     r4 b80ccf60  r5 ffff97a0  r6 00000000  r7 00000037     r8 00000001  r9 00000000  sl 000e0000  fp b3d62ab0     ip 0000000c  sp a0427cb0  lr b3c89e2b  pc b3c40540  cpsr 600f0030  Stack Trace:   RELADDR   FUNCTION                                                                                                               FILE:LINE   00097540  realm::SlabAlloc::do_translate(unsigned int) const+448                                                                 unwind-c.c:?   000e0e29  realm::ArrayStringLong::init_from_mem(realm::MemRef)+178                                                               unwind-c.c:?   000e0f5d  realm::StringColumn::StringColumn(realm::Allocator&  unsigned int  bool  unsigned int)+288                             unwind-c.c:?   000da4f1  realm::Table::refresh_column_accessors(unsigned int)+932                                                               unwind-c.c:?   000a7f4b  realm::Group::do_get_table(unsigned int  bool (*)(realm::Spec const&))+698                                             unwind-c.c:?   000da40b  realm::Table::refresh_column_accessors(unsigned int)+702                                                               unwind-c.c:?   000a7f4b  realm::Group::do_get_table(unsigned int  bool (*)(realm::Spec const&))+698                                             unwind-c.c:?   000a9cd5  realm::Group::do_get_or_add_table(realm::StringData  bool (*)(realm::Spec const&)  void (*)(realm::Table&)  bool*)+52  unwind-c.c:?   000243ed  Java_io_realm_internal_SharedRealm_nativeGetTable+172                                                                  unwind-c.c:?   00fff4e9  offset 0xd10000                                                                                                        /data/app/com.messenger.app-1/oat/arm/base.odex  -----------------------------------------------------  signal 11 (SIGSEGV)  code 1  fault addr 0xb766dfbf in tid 6722 (IncomingMessage) Revision: '0' ABI: 'arm' pid: 6695  tid: 6722  name: IncomingMessage  >>> com.messenger.app <<< signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0xb766dfbf     r0 b766dfc0  r1 b766dfbf  r2 ffcbf0af  r3 0000001c     r4 a027ad10  r5 00000114  r6 00000000  r7 00015b48     r8 00015b48  r9 00000001  sl 00000001  fp 00000000     ip e0000000  sp a027a998  lr b3c03539  pc b6cb24ac  cpsr a00d0010  Stack Trace:   RELADDR   FUNCTION                                                                                                                                                                       FILE:LINE   000184ac  memmove+444                                                                                                                                                                    bionic/libc/arch-arm/denver/bionic/memmove.S:210   000e1535  realm::ArrayBlob::replace(unsigned int  unsigned int  char const*  unsigned int  bool)+640                                                                                     unwind-c.c:?   000e2745  realm::ArrayStringLong::bptree_leaf_insert(unsigned int  realm::StringData  realm::TreeInsertBase&)+68                                                                         unwind-c.c:?   000de4e5  realm::StringColumn::leaf_insert(realm::MemRef  realm::ArrayParent&  unsigned int  realm::Allocator&  unsigned int  realm::BpTreeNode::TreeInsert<realm::StringColumn>&)+1052  unwind-c.c:?   000de897  unsigned int realm::BpTreeNode::bptree_append<realm::StringColumn>(realm::BpTreeNode::TreeInsert<realm::StringColumn>&)+94                                                     unwind-c.c:?   000dea9d  realm::StringColumn::bptree_insert(unsigned int  realm::StringData  unsigned int)+240                                                                                          unwind-c.c:?   000cb343  realm::StringColumn::insert_rows(unsigned int  unsigned int  unsigned int  bool)+54                                                                                            unwind-c.c:?   000cc28d  realm::Table::insert_empty_row(unsigned int  unsigned int)+64                                                                                                                  unwind-c.c:?   000269a9  Java_io_realm_internal_Table_nativeAddEmptyRow+164                                                                                                                             unwind-c.c:?   010012c7  offset 0xd10000    -----------------------------------------------------  signal 11 (SIGSEGV)  code 1  fault addr 0x20 in tid 28460 (m.messenger.app) Revision: '0' ABI: 'arm' pid: 28460  tid: 28460  name: m.messenger.app  >>> com.messenger.app <<< signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x20     r0 b79431f0  r1 00000008  r2 b3818008  r3 00000000     r4 b79431f0  r5 b77efef8  r6 00000008  r7 b79431f0     r8 00000020  r9 b79431f0  sl 00000008  fp 00000000     ip b6ca45dc  sp bedcfa40  lr b3b9bca3  pc b3b9a0fa  cpsr 40070030  Stack Trace:   RELADDR   FUNCTION                                                                                     FILE:LINE   000cc0fa  realm::Table::get_column_base(unsigned int)+18                                               unwind-c.c:?   000cdc9f  realm::Table::connect_opposite_link_columns(unsigned int  realm::Table&  unsigned int)+10    unwind-c.c:?   000da4dd  realm::Table::refresh_column_accessors(unsigned int)+912                                     unwind-c.c:?   000a7f4b  realm::Group::do_get_table(unsigned int  bool (*)(realm::Spec const&))+698                   unwind-c.c:?   0005bb9b  realm::ObjectSchema::ObjectSchema(realm::Group const&  realm::StringData  unsigned int)+810  unwind-c.c:?   00061641  realm::ObjectStore::schema_from_group(realm::Group const&)+160                               unwind-c.c:?   0006a445  realm::Realm::init(std::shared_ptr<realm::_impl::RealmCoordinator>)+268                      unwind-c.c:?   0006d9fb  realm::_impl::RealmCoordinator::get_realm(realm::Realm::Config)+542                          unwind-c.c:?   00068eb3  realm::Realm::get_shared_realm(realm::Realm::Config)+46                                      unwind-c.c:?   00024e95  Java_io_realm_internal_SharedRealm_nativeGetSharedRealm+224                                  unwind-c.c:?   00fff521  offset 0xd10000                                                                              /data/app/com.messenger.app-1/oat/arm/base.odex  -----------------------------------------------------  signal 11 (SIGSEGV)  code 1  fault addr 0x41 in tid 6212 (m.messenger.app) Revision: '0' ABI: 'arm' pid: 6212  tid: 6212  name: m.messenger.app  >>> com.messenger.app <<< signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x41     r0 b8b885a4  r1 00000001  r2 00000001  r3 00000000     r4 be9b6410  r5 b8b88598  r6 b3beeef7  r7 00000002     r8 00000001  r9 b88439a0  sl 00000000  fp 9ee2b9d0     ip b3bc76dd  sp be9b63d0  lr b3c44863  pc b3b8f9d0  cpsr 200e0030  Stack Trace:   RELADDR   FUNCTION                                                                                     FILE:LINE   0001f9d0  realm::BpTree<long long>::get(unsigned int) const+8                                          unwind-c.c:?   000d485f  realm::StringData realm::Table::get<realm::StringData>(unsigned int  unsigned int) const+84  unwind-c.c:?   000d4897  realm::Table::get_string(unsigned int  unsigned int) const+4                                 unwind-c.c:?   00057701  Java_io_realm_internal_UncheckedRow_nativeGetString+36                                       unwind-c.c:?   00ff98bb  offset 0xd10000                                                                              /data/app/com.messenger.app-2/oat/arm/base.odex  -----------------------------------------------------  signal 11 (SIGSEGV)  code 1  fault addr 0xfffd7dfc in tid 11074 (RxComputationSc) Revision: '0' ABI: 'arm' pid: 11041  tid: 11074  name: RxComputationSc  >>> com.messenger.app <<< signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0xfffd7dfc     r0 b842d560  r1 9f3950d8  r2 00000001  r3 00000030     r4 fffd7df8  r5 b842d560  r6 00024000  r7 b814c4e8     r8 9f3950d8  r9 b83dca8c  sl 1303d8b0  fp 00000001     ip 0000000c  sp 9f3950c0  lr b3bfb147  pc b3bf9e4c  cpsr 000f0030  Stack Trace:   RELADDR   FUNCTION                                                                          FILE:LINE   00086e4c  realm::Array::init_from_mem(realm::MemRef)+14                                     unwind-c.c:?   00088143  realm::Array::update_from_parent(unsigned int)+62                                 unwind-c.c:?   000d48eb  realm::Table::update_from_parent(unsigned int)+76                                 unwind-c.c:?   000a6bcb  realm::SharedGroup::commit_and_continue_as_read()+218                             unwind-c.c:?   00074af5  realm::_impl::transaction::commit(realm::SharedGroup&  realm::BindingContext*)+8  unwind-c.c:?   000685cd  realm::Realm::commit_transaction()+32                                             unwind-c.c:?   0002302b  Java_io_realm_internal_SharedRealm_nativeCommitTransaction+50                     unwind-c.c:?   00fd6555  offset 0xd10000                                                                   /data/app/com.messenger.app-1/oat/arm/base.odex  -----------------------------------------------------  Steps & Code to Reproduce Encryption: On. Minimum 1 contact  1 message  with body.length ~= 1000. At least 1 write thread  and 1 other thread. Global instance N=2 will eventually crash  N=3+ will crash faster. This code will often produce UTF-16 crash for us as well. We can provide the project if necessary  but this is the relevant code. public class Contact extends RealmObject { 	@PrimaryKey 	private String id;  	@Index 	@Required 	private String username;  	private String number;  	@Nullable 	private RealmList<Message> mMessageList;         ... } public class Message extends RealmObject { 	@PrimaryKey 	private String id;  	@Index 	private String contactId;  	@Required 	private String type;  	private String body;  	@Required 	private Date dateCreated; } Thread mWriteThread = new Thread(new Runnable() { 	@Override 	public void run() { 		final AtomicInteger i = new AtomicInteger(0); 		while(mRunThreads) { 			try (Realm realm = Realm.getInstance(REALM_CONFIG)) { 				realm.executeTransaction(new Realm.Transaction() { 					@Override 					public void execute(Realm realm) { 						Contact contact = realm.where(Contact.class).equalTo("id"  CONTACT_ID).findFirst(); 						contact.setUsername("User" + i.incrementAndGet()); 					} 				}); 			} 		} 	} }); Thread mReadThread = new Thread(new Runnable() { 	@Override 	public void run() { 		while(mRunThreads) { 			try (Realm realm = Realm.getInstance(REALM_CONFIG)) { 				try (Realm realm = Realm.getInstance(REALM_CONFIG)) { 					realm.where(Contact.class).equalTo("id"  CONTACT_ID).findAllSorted("username"); 					realm.copyFromRealm(realm.where(Contact.class).equalTo("id"  CONTACT_ID).findAllSorted("username") 0); 				} 			} 		} 	} });	 Mitigations Reducing global realm instances to N<=2 and reducing as much load on Realm as possible decreases the chances of crash and corruption. Version of Realm and tooling Realm version(s): 2.2.1  2.2.2  2.3.0 Realm sync feature enabled: no Encryption: yes Android Studio version: 2.2.2 Which Android version and device: Android 6.0.1 (CM13) / CAF 6.0.1  OnePlus One / OnePlus X Next steps This appears to be similar to issue reported here: realm/realm-core#2383 How can we further debug and fix these issues? Do you have any way to detect and/or recover from corruption? ie open realm in RO and verify integrity.,0
4131,17-02-01,Issue 4131 : Realm receives NPE when updating async queries after Realm is closed ， Issue #4131 ， realm/realm-java ， GitHub Goal What do you want to achieve? Write into Realm periodically and also run async queries. Expected Results No exceptions in the log Actual Results   2-01 09:53:49.315 4201-4229/com.zhuinden.realmbreak E/REALM_JAVA: java.lang.NullPointerException                                                                    at io.realm.AndroidNotifier.completeAsyncResults(AndroidNotifier.java:120)                                                                    at io.realm.RealmQuery.closeSharedRealmAndSendEventToNotifier(RealmQuery.java:2233)                                                                    at io.realm.RealmQuery.access$000(RealmQuery.java:62)                                                                    at io.realm.RealmQuery$3.call(RealmQuery.java:1863)                                                                    at io.realm.RealmQuery$3.call(RealmQuery.java:1845)                                                                    at io.realm.internal.async.BgPriorityCallable.call(BgPriorityCallable.java:36)                                                                    at java.util.concurrent.FutureTask.run(FutureTask.java:234)                                                                    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)                                                                    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)                                                                    at java.lang.Thread.run(Thread.java:856)   02-01 09:53:53.735 4201-4229/com.zhuinden.realmbreak E/REALM_JAVA: java.lang.NullPointerException                                                                    at io.realm.AndroidNotifier.completeUpdateAsyncQueries(AndroidNotifier.java:145)                                                                    at io.realm.internal.async.QueryUpdateTask.run(QueryUpdateTask.java:112)                                                                    at io.realm.internal.async.BgPriorityRunnable.run(BgPriorityRunnable.java:34)                                                                    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:390)                                                                    at java.util.concurrent.FutureTask.run(FutureTask.java:234)                                                                    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)                                                                    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)                                                                    at java.lang.Thread.run(Thread.java:856)  Steps & Code to Reproduce Describe your current debugging efforts. Code Sample Word table contains 440000 entries. public class MainActivity         extends AppCompatActivity {     @BindView(R.id.recycler_view)     RecyclerView recyclerView;      Realm realm;      Subscription subscription;      @Override     @SuppressWarnings("NewApi")     protected void onCreate(Bundle savedInstanceState) {         super.onCreate(savedInstanceState);         setContentView(R.layout.activity_main);         ButterKnife.bind(this);         realm = Realm.getDefaultInstance();         recyclerView.setLayoutManager(new LinearLayoutManager(this  LinearLayoutManager.VERTICAL  false));         recyclerView.setAdapter(new RealmRecyclerViewAdapter<Word  ViewHolder>(this  realm.where(Word.class).findAllSortedAsync(WordFields.WORD)  true) {             @Override             public ViewHolder onCreateViewHolder(ViewGroup parent  int viewType) {                 return new ViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.item_row  parent  false));             }              @Override             public void onBindViewHolder(ViewHolder holder  int position) {                 holder.bind(getData().get(position));             }         });         subscription = Observable.interval(50  TimeUnit.MILLISECONDS).subscribeOn(Schedulers.io()).subscribe(aLong -> {             try(Realm realm = Realm.getDefaultInstance()) {                 realm.executeTransaction(_realm -> {                     String dogName = DogNames.values()[(((Long)(aLong)).intValue()) % DogNames.values().length].name();                     Log.i("WRITE"  "Writing to Realm at [" + aLong + "]: [" + dogName + "]");                     Word word = new Word();                     word.setWord(dogName);                     CustomApplication.wordToLetters(word  dogName);                     _realm.insert(word);                 });             }         });     }      public static class ViewHolder extends RecyclerView.ViewHolder {         @BindView(R.id.row_text)         TextView word;          public ViewHolder(View itemView) {             super(itemView);             ButterKnife.bind(this  itemView);         }          public void bind(Word word) {             this.word.setText(word.getWord());         }     }      @Override     protected void onDestroy() {         if(subscription != null && !subscription.isUnsubscribed()) {             subscription.unsubscribe();             subscription = null;         }         if(realm != null && !realm.isClosed()) {             realm.close();             realm = null;         }         super.onDestroy();     } } Version of Realm and tooling Realm version(s): 2.3.0 Realm sync feature enabled: no Which Android version and device: 4.2.2,0
4137,17-02-02,Issue 4137 : asObservable doesn't support backpressure ， Issue #4137 ， realm/realm-java ， GitHub From http://stackoverflow.com/questions/37774954/onerrornotimplementedexception-caused-by-rx-exceptions-missingbackpressureexcep rx.exceptions.OnErrorNotImplementedException at rx.Observable$27.onError(Observable.java:8139)     at rx.observers.SafeSubscriber._onError(SafeSubscriber.java:157)     at rx.observers.SafeSubscriber.onError(SafeSubscriber.java:120)     at rx.internal.operators.OperatorZip$Zip$InnerSubscriber.onError(OperatorZip.java:325)     at rx.internal.operators.OperatorZip$Zip$InnerSubscriber.onNext(OperatorZip.java:333)     at io.realm.rx.RealmObservableFactory$5$1.onChange(RealmObservableFactory.java:143)     at io.realm.rx.RealmObservableFactory$5$1.onChange(RealmObservableFactory.java:139)     at io.realm.RealmResults.notifyChangeListeners(RealmResults.java:1010)     at io.realm.RealmResults.notifyChangeListeners(RealmResults.java:996)     at io.realm.HandlerController.notifyRealmResultsCallbacks(HandlerController.java:303)     at io.realm.HandlerController.notifySyncRealmResultsCallbacks(HandlerController.java:284)     at io.realm.HandlerController.notifyTypeBasedListeners(HandlerController.java:275)     at io.realm.HandlerController.notifyAllListeners(HandlerController.java:262)     at io.realm.HandlerController.realmChanged(HandlerController.java:385)     at io.realm.HandlerController.handleMessage(HandlerController.java:116)     at android.os.Handler.dispatchMessage(Handler.java:98)     at android.os.Looper.loop(Looper.java:148)     at android.app.ActivityThread.main(ActivityThread.java:5417)     at java.lang.reflect.Method.invoke(Native Method)     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616) Caused by: rx.exceptions.MissingBackpressureException     at rx.internal.util.RxRingBuffer.onNext(RxRingBuffer.java:352)     at rx.internal.operators.OperatorZip$Zip$InnerSubscriber.onNext(OperatorZip.java:331)     at io.realm.rx.RealmObservableFactory$5$1.onChange(RealmObservableFactory.java:143)      at io.realm.rx.RealmObservableFactory$5$1.onChange(RealmObservableFactory.java:139)      at io.realm.RealmResults.notifyChangeListeners(RealmResults.java:1010)      at io.realm.RealmResults.notifyChangeListeners(RealmResults.java:996)      at io.realm.HandlerController.notifyRealmResultsCallbacks(HandlerController.java:303)      at io.realm.HandlerController.notifySyncRealmResultsCallbacks(HandlerController.java:284)      at io.realm.HandlerController.notifyTypeBasedListeners(HandlerController.java:275)      at io.realm.HandlerController.notifyAllListeners(HandlerController.java:262)      at io.realm.HandlerController.realmChanged(HandlerController.java:385)      at io.realm.HandlerController.handleMessage(HandlerController.java:116)      at android.os.Handler.dispatchMessage(Handler.java:98)      at android.os.Looper.loop(Looper.java:148)      at android.app.ActivityThread.main(ActivityThread.java:5417)      at java.lang.reflect.Method.invoke(Native Method)      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)  It looks like we might not support backpressure correctly.,0
4140,17-02-03,Issue 4140 : Realm.compactRealm on external storage throws RealmError: Unrecoverable error. Read-only file system ， Issue #4140 ， realm/realm-java ， GitHub Introduction Hi  I have a complex app with more than one Realm (because of sandboxing) and Realms are stored on External Storage. Until recently I was stuck at v1.0.1 because of various problems that were fixed ;) But now I'm facing a new problem  the compact phase (which is started before opening the realm) is crashing the whole app. Even if I'm catching the RealmError  a native crash occurs afterwards. Goal Compact Realm before opening it  the Realm exists and is writable. Expected Results No explosion Actual Results io.realm.exceptions.RealmError: Unrecoverable error. Read-only file system in /home/cc/repo/realm/realm-java-release/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 414         at io.realm.internal.SharedRealm.nativeCompact(Native Method)         at io.realm.internal.SharedRealm.compact(SharedRealm.java:327)         at io.realm.BaseRealm.compactRealm(BaseRealm.java:586)         at io.realm.Realm.compactRealm(Realm.java:1612) Steps & Code to Reproduce Simple AndroidTestCase public class RealmExternalTest extends AndroidTestCase {      @Override     protected void setUp() throws Exception {         Realm.init(getContext());     }      @Override     protected void tearDown() throws Exception {     }      public void testRealmCompactExternal() {         File directory = getContext().getExternalFilesDir(null);         directory.mkdirs();          assertTrue(directory.exists());          RealmConfiguration config = new RealmConfiguration.Builder().directory(directory).name("somerealm.realm").build();         Realm realm = Realm.getInstance(config);          File realmFile = new File(config.getPath());         assertTrue(realmFile.exists() && realmFile.canWrite());          { // simple read/write             Test test = new Test();              realm.beginTransaction();             try {                 realm.copyToRealm(test);                  realm.commitTransaction();             } catch (Exception e) {                 realm.cancelTransaction();                 fail();             }              assertTrue(realm.where(Test.class).count() > 0);         }          realm.close();          assertTrue(Realm.compactRealm(config));     } } The whole test is passing  except the last line throwing the above exception :/ Version of Realm and tooling Realm version(s): 2.3.0 Realm sync feature enabled: no Android Studio version: 2.2.3 Which Android version and device: Samsung Galaxy Tab S2 (SM-T710) 6.0.1,0
4174,17-02-12,Issue 4174 : Invalid argument `EINVAL` when opening Realm on Xiaomi Mi5's external storage ， Issue #4174 ， realm/realm-java ， GitHub Configuring a Realm directory . I have the permission  uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"  Java:     RealmConfiguration myConfig = new RealmConfiguration.Builder()             .name("myrealm.realm")             .directory(new File("/storage/emulated/0/Realm"))             .build();      Realm myRealm = Realm.getInstance(myConfig);  Log: E/AndroidRuntime: FATAL EXCEPTION: main Process: com.test.zzlayers  PID: 19942 io.realm.exceptions.RealmError: Unrecoverable error. Invalid argument in /Users/blakemeike/Working/release/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 94 at io.realm.internal.SharedRealm.nativeGetSharedRealm(Native Method) at io.realm.internal.SharedRealm.getInstance(SharedRealm.java:211) at io.realm.internal.SharedRealm.getInstance(SharedRealm.java:188) at io.realm.RealmCache.createRealmOrGetFromCache(RealmCache.java:124) at io.realm.Realm.getInstance(Realm.java:227) at com.wshunli.zzlayers.MainActivity.onCreate(MainActivity.java:36) at android.app.Activity.performCreate(Activity.java:6679) at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1119) at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2618) at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2726) at android.app.ActivityThread.-wrap12(ActivityThread.java) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1477) at android.os.Handler.dispatchMessage(Handler.java:102) at android.os.Looper.loop(Looper.java:154) at android.app.ActivityThread.main(ActivityThread.java:6126) at java.lang.reflect.Method.invoke(Native Method) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776) Realm version: io.realm:realm-gradle-plugin:2.3.1 Realm sync feature enabled: no Android Studio version: 2.2.3 Physical Device: Xiaomi Mi5 Version 7.1.1,0
4176,17-02-13,Issue 4176 : Not a Realm file and Native exception ， Issue #4176 ， realm/realm-java ， GitHub Hi  My crash report keeps receiving these exceptions from some users. But it never happened on my test device or emulator. What is the possible cause? Here's how I write data to Realm: realm.executeTransactionAsync(new Realm.Transaction() {             @Override             public void execute(Realm realm) {                 autoIncrement ++;                 MyRealmObject data = realm.createObject(MyRealmObject.class  id);                 data.setContent( gson.toJson( myData ) ); // String  length range: 7000 ~ 60000                 data.setPage( page ); // int             }         });  Here's how I read data from Realm: RealmQuery<MyRealmObject> query = realm.where(MyRealmObject.class); query.findAllSorted( MyRealmObject.PAGE  Sort.ASCENDING );  It looks like the user has to remove the app or clear all data to make realm works again. Is this means the Realm database is crashed? Firebase Crash Report: Exception java.lang.RuntimeException: Unable to create application com.ihad.ptt.App: io.realm.exceptions.RealmFileException: Unable to open a realm at path '/data/data/com.ihad.ptt/files/default.realm': Not a Realm file. (Not a Realm file) in /home/cc/repo/realm/realm-java-release/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 87 Kind: ACCESS_ERROR. android.app.ActivityThread.handleBindApplication (ActivityThread.java:5665) android.app.ActivityThread.-wrap2 (ActivityThread.java) android.app.ActivityThread$H.handleMessage (ActivityThread.java:1573) android.os.Handler.dispatchMessage (Handler.java:102) android.os.Looper.loop (Looper.java:173) android.app.ActivityThread.main (ActivityThread.java:6459) java.lang.reflect.Method.invoke (Method.java) com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:938) com.android.internal.os.ZygoteInit.main (ZygoteInit.java:828) arrow_drop_down Caused by io.realm.exceptions.RealmFileException: Unable to open a realm at path '/data/data/com.ihad.ptt/files/default.realm': Not a Realm file. (Not a Realm file) in /home/cc/repo/realm/realm-java-release/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 87 io.realm.internal.SharedRealm.nativeGetSharedRealm (SharedRealm.java) io.realm.internal.SharedRealm.getInstance (SharedRealm.java:208) io.realm.internal.SharedRealm.getInstance (SharedRealm.java:186) io.realm.BaseRealm.compactRealm (BaseRealm.java:586) io.realm.Realm.compactRealm (Realm.java:1565) com.ihad.ptt.domain.dao.realm.impl.RealmMigration.init (RealmMigration.java:29) com.ihad.ptt.App.onCreate (App.java:95) android.app.Instrumentation.callApplicationOnCreate (Instrumentation.java:1037) android.app.ActivityThread.handleBindApplication (ActivityThread.java:5662) android.app.ActivityThread.-wrap2 (ActivityThread.java) android.app.ActivityThread$H.handleMessage (ActivityThread.java:1573) android.os.Handler.dispatchMessage (Handler.java:102) android.os.Looper.loop (Looper.java:173) android.app.ActivityThread.main (ActivityThread.java:6459) java.lang.reflect.Method.invoke (Method.java) com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:938) com.android.internal.os.ZygoteInit.main (ZygoteInit.java:828) Native Exception: Build fingerprint: 'htc/pmeuhl_00709/htc_pmeuhl:6.0.1/MMB29M/801953.5:user/release-keys' Revision: '0' ABI: 'arm64' pid: 13207  tid: 13207  name: com.ihad.ptt >>> com.ihad.ptt <<< signal 11 (SIGSEGV)  code 2 (SEGV_ACCERR)  fault addr 0x7f62978008 x0 0000000000000000 x1 0000007f62908ca0 x2 0000000000000008 x3 0000000000014b00 x4 0000000000ffffff x5 000000000000003f x6 0000000000000040 x7 0000007f62978008 x8 000000000000006d x9 0000000000000000 x10 0000000000000000 x11 0000000000000040 x12 0000000000000010 x13 0000007f84b37a90 x14 000000559a211000 x15 0000007f84b37ad8 x16 0000007f84b30a58 x17 0000000000000000 x18 0000000000000001 x19 000000559a563900 x20 0000000000000000 x21 0000007fdafd3230 x22 0000007fdafd3540 x23 000000559a5634f0 x24 0000007fdafd3640 x25 0000007f62995000 x26 000000559a563700 x27 0000007fdafd3440 x28 000000559a563710 x29 0000007fdafd3160 x30 0000007f627f87d8 sp 0000007fdafd3160 pc 0000007f627b346c pstate 0000000020000000 backtrace: #00 pc 00000000000e746c /data/app/com.ihad.ptt-1/lib/arm64/librealm-jni.so #1 pc 000000000012c7d4 /data/app/com.ihad.ptt-1/lib/arm64/librealm-jni.so #2 pc 00000000000a530c /data/app/com.ihad.ptt-1/lib/arm64/librealm-jni.so #3 pc 00000000000be754 /data/app/com.ihad.ptt-1/lib/arm64/librealm-jni.so #4 pc 00000000000c26ec /data/app/com.ihad.ptt-1/lib/arm64/librealm-jni.so #5 pc 00000000000bbcd0 /data/app/com.ihad.ptt-1/lib/arm64/librealm-jni.so #6 pc 000000000004d2c0 /data/app/com.ihad.ptt-1/lib/arm64/librealm-jni.so (Java_io_realm_internal_SharedRealm_nativeGetSharedRealm+384) #7 pc 000000000220c74c /data/app/com.ihad.ptt-1/oat/arm64/base.odex (offset 0x1051000) Version of Realm and tooling Realm version(s): 2.2.2 Realm sync feature enabled: no Android Studio version: IntelliJ IDEA 2016.3.4 Which Android version and device: Android 6.0 HTC 10,0
4177,17-02-13,Issue 4177 : Samsung Galaxy S3 mini: Heap memory corruption ， Issue #4177 ， realm/realm-java ， GitHub Samsung Galaxy S3 mini (i8200N) Trying to use Realm v2 we're getting the following crash: [02-10 16:15:02.593 10641-10641/link.thismo.app A/libc: Fatal signal 11 (SIGSEGV) at 0x5ab96ff6 (code=2)  thread 10641 (link.thismo.app) 02-10 16:15:02.601 10641-10713/link.thismo.app I/dalvikvm: JNI ERROR (app bug): accessed deleted local reference 0x23400005 02-10 16:15:02.601 10641-10713/link.thismo.app E/dalvikvm: VM aborting 02-10 16:15:02.601 10641-10713/link.thismo.app A/libc: Fatal signal 11 (SIGSEGV) at 0xdeadd00d (code=1)  thread 10713 (AnalyticsWorker) 02-10 16:15:10.054 10641-10647/link.thismo.app A/libc: @@@ ABORTING: LIBC: HEAP MEMORY CORRUPTION IN dlmalloc]  A more complete crash log that happened on version 2.4.0-SNAPSHOT: https://gist.github.com/jonasbark/26fbd60062ed9af981a3d0b19f91c62d It does not happen with e.g. 0.90.1.,0
4228,17-02-23,Issue 4228 : Do thread checking in `RealmQuery` ， Issue #4228 ， realm/realm-java ， GitHub Somehow most APIs in RealmQuery don't do thread checking  so user can: RealmQuery q1 = realm.where() in thread1  then do q2.equalTo() in thread2.,0
4234,17-02-23,Issue 4234 : Website header stuck in the middle of the screen on mobile ， Issue #4234 ， realm/realm-java ， GitHub Using Chrome and a Nexus 6P  browsing the realm java documentation online  I experience the following bug: When scrolling down  the header containing the version of Realm stays in the middle of the screen  instead of scrolling up like the top header. I've attached a screenshot for clarity.,0
4252,17-02-26,Issue 4252 : DynamicRealmObject.setList() does wrong type check ， Issue #4252 ， realm/realm-java ， GitHub Goal Set the value of a field with the type RealmList via DynamicRealmObject.setList(). Expected Results The value is set. Actual Results java.lang.IllegalArgumentException: The elements in the list is not the proper type. Was EmailAddress expected class_User. The type of the items of the passed in list are checked against the type of the table. Code Sample public class User extends RealmObject {     RealmList<EmailAddress> emailAddresses;      public User() {      } } public class EmailAddress extends RealmObject {     @PrimaryKey     String emailAddress;      public EmailAddress() {      } } dynamicRealm.beginTransaction();  DynamicRealmObject user = dynamicRealm.createObject(User.class.getSimpleName()); DynamicRealmObject email = dynamicRealm.createObject(EmailAddress.class.getSimpleName()  "email"); user.getList("emailAddresses").add(email);  DynamicRealmObject user2 = dynamicRealm.createObject(User.class.getSimpleName()); user2.setList("emailAddresses"  user.getList("emailAddresses"));  dynamicRealm.commitTransaction(); Version of Realm and tooling Realm version(s): 2.3.1 Realm sync feature enabled: no Android Studio version: 2.2.3 Which Android version and device: Android 7.1.2 Nexus 5X,0
4258,17-02-28,Issue 4258 : Do thread checking in DynamicRealmObject ， Issue #4258 ， realm/realm-java ， GitHub Methods in DynamicRealmObject don't have thread checks. I wrote following test to expose this bug.     private enum ThreadConfinedMethods {         GET_LONG      }      private static void callThreadConfinedMethod(DynamicRealmObject obj  ThreadConfinedMethods method) {         switch (method) {             case GET_LONG:                 obj.getLong(AllJavaTypes.FIELD_LONG);                 break;              default:                 throw new AssertionError("missing case for " + method);         }     }      @Test     public void callThreadConfinedMethodsFromWrongThread() throws Throwable {          dynamicRealm.beginTransaction();         dynamicRealm.deleteAll();         final DynamicRealmObject obj = dynamicRealm.createObject(AllJavaTypes.CLASS_NAME  100L);         dynamicRealm.commitTransaction();          final AtomicReference<Throwable> throwableFromThread = new AtomicReference<Throwable>();         final CountDownLatch testFinished = new CountDownLatch(1);          final String expectedMessage;         //noinspection TryWithIdenticalCatches         try {             final Field expectedMessageField = BaseRealm.class.getDeclaredField("INCORRECT_THREAD_MESSAGE");             expectedMessageField.setAccessible(true);             expectedMessage = (String) expectedMessageField.get(null);         } catch (NoSuchFieldException e) {             throw new AssertionError(e);         } catch (IllegalAccessException e) {             throw new AssertionError(e);         }          final Thread thread = new Thread("callThreadConfinedMethodsFromWrongThread") {             @Override             public void run() {                 try {                     for (ThreadConfinedMethods method : ThreadConfinedMethods.values()) {                         try {                             callThreadConfinedMethod(obj  method);                             fail("IllegalStateException must be thrown.");                         } catch (Throwable e) {                             if (e instanceof IllegalStateException && expectedMessage.equals(e.getMessage())) {                                 // expected exception                                 continue;                             }                             throwableFromThread.set(e);                             return;                         }                     }                 } finally {                     testFinished.countDown();                 }             }         };         thread.start();          TestHelper.awaitOrFail(testFinished);         final Throwable throwable = throwableFromThread.get();         if (throwable != null) {             throw throwable;         }     },0
4310,17-03-11,Issue 4310 : [Sync] ExponentialBackoffTask not retrying ， Issue #4310 ， realm/realm-java ， GitHub ExponentialBackoffTask should retry the query with incremental backoff. However  if you use Airplane mode in the device  the OkHttp query will fail  with an unknown -1 code causing the ExponentialBackoffTask no to retry when the network is back 03-10 14:50:23.002  1732  1810 E REALM_JAVA: Unrecoverable error  while refreshing the access Token (UNKNOWN(-1) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: java.net.ConnectException: Failed to connect to /172.19.216.95:9080 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:189) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at okhttp3.internal.connection.RealConnection.buildConnection(RealConnection.java:173) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:114) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:193) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:129) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:98) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:109) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:124) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:170) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at okhttp3.RealCall.execute(RealCall.java:60) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at io.realm.internal.network.OkHttpAuthenticationServer.authenticate(OkHttpAuthenticationServer.java:110) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at io.realm.internal.network.OkHttpAuthenticationServer.refreshUser(OkHttpAuthenticationServer.java:73) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at io.realm.SyncSession$4.execute(SyncSession.java:264) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at io.realm.SyncSession$4.execute(SyncSession.java:260) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at io.realm.internal.network.ExponentialBackoffTask.run(ExponentialBackoffTask.java:66) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:423) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at java.util.concurrent.FutureTask.run(FutureTask.java:237) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: 	at java.lang.Thread.run(Thread.java:818) 03-10 14:50:23.002  1732  1810 E REALM_JAVA: ) reschedule will not happen,1
4334,17-03-17,Issue 4334 : Crash In Android 4.2.1&Android 4.2.2  With Realm 3.0 ， Issue #4334 ， realm/realm-java ， GitHub please help me. I use realm 3.0. and collect crash in android 4.2.1& android 4.2.2 (level 17) . It looks like only crash in level 17. This is crash log: main(1) SIGSEGV(SEGV_ACCERR) #00 pc 00018b6c /system/lib/libc.so (memcpy+1324) [armeabi-v7a] java: io.realm.internal.SharedRealm.long nativeGetTable(long java.lang.String)(Native Method) io.realm.internal.SharedRealm.io.realm.internal.Table getTable(java.lang.String)(ProGuard:271) io.realm.MasteryRealmBeanRealmProxy.io.realm.internal.Table initTable(io.realm.internal.SharedRealm)(ProGuard:149) io.realm.PersonSchemaMediator.io.realm.internal.Table createTable(java.lang.Class io.realm.internal.SharedRealm)(ProGuard:58) io.realm.Realm.void initializeRealm(io.realm.Realm)(ProGuard:347) io.realm.Realm.io.realm.Realm createAndValidate(io.realm.RealmConfiguration io.realm.internal.ColumnIndices[])(ProGuard:314) io.realm.Realm.io.realm.Realm createInstance(io.realm.RealmConfiguration io.realm.internal.ColumnIndices[])(ProGuard:265) io.realm.RealmCache.io.realm.BaseRealm createRealmOrGetFromCache(io.realm.RealmConfiguration java.lang.Class)(ProGuard:143) io.realm.Realm.io.realm.Realm getInstance(io.realm.RealmConfiguration)(ProGuard:228) com.shensz.student.service.storage.StorageService.io.realm.Realm getPersonRealm()(ProGuard:120) This is my code: private static final String REALM_NAME_PREFIX = "person."; private static final String REALM = ".realm"; private RealmConfiguration getPersonRealmConfiguration(String uid) { Check.notNull(uid); Check.notEmpty(uid); String realmName; if (TextUtils.isEmpty(uid)) { realmName = REALM_NAME_PREFIX + "unknown" + REALM; } else { realmName = REALM_NAME_PREFIX + uid + REALM; } return new RealmConfiguration.Builder() .name(realmName) .deleteRealmIfMigrationNeeded() .modules(new PersonSchema()) .schemaVersion(USER_REALM_VERSION) .build(); },0
4343,17-03-19,Issue 4343 : SEGV_MAPERR  Failure when converting short string to UTF-16 ， Issue #4343 ， realm/realm-java ， GitHub We're experiencing easily reproducible crashes when using copyFromRealm while simultaneously writing on a separate thread. May be related to #2492 Observations Crashes only occur with at least 1 write thread Crashes occur with relatively few iterations Crashes appear to only occur when using encryption Crashes do not appear to lead to corruption (as in #4128) Results Below is a sampling of crashes on 3.0.0. I can generate crash reports on 2.3.2 if necessary. E/REALM_JNI: jni: ThrowingException 5  Failure when converting short string to UTF-16 error_code = 1; retcode = 0; StringData.size = 13; StringData.data = class_Message; StringData as hex =  0x63 0x6c 0x61 0x73 0x73 0x5f 0x4d 0x65 0x73 0x73 0x61 0x67 0x65; in_begin = class_Message; in_end = ; out_curr = 0x941812e0; out_end = 0x94181340; in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_Table.cpp line 1294  . E/REALM_JNI: Exception has been thrown: Unrecoverable error. Failure when converting short string to UTF-16 error_code = 1; retcode = 0; StringData.size = 13; StringData.data = class_Message; StringData as hex =  0x63 0x6c 0x61 0x73 0x73 0x5f 0x4d 0x65 0x73 0x73 0x61 0x67 0x65; in_begin = class_Message; in_end = ; out_curr = 0x941812e0; out_end = 0x94181340; in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_Table.cpp line 1294 E/AndroidRuntime: FATAL EXCEPTION: Thread-312 Process: io.binarysolutions.realmmemtest  PID: 12344 io.realm.exceptions.RealmError: Unrecoverable error. Failure when converting short string to UTF-16 error_code = 1; retcode = 0; StringData.size = 13; StringData.data = class_Message; StringData as hex =  0x63 0x6c 0x61 0x73 0x73 0x5f 0x4d 0x65 0x73 0x73 0x61 0x67 0x65; in_begin = class_Message; in_end = ; out_curr = 0x941812e0; out_end = 0x94181340; in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_Table.cpp line 1294   at io.realm.internal.Table.nativeGetName(Native Method)   at io.realm.internal.Table.getName(Table.java:1097)   at io.realm.MessageRealmProxy.hashCode(MessageRealmProxy.java:804)   at java.util.Collections.secondaryHash(Collections.java:3427)   at java.util.HashMap.put(HashMap.java:385)   at io.realm.MessageRealmProxy.createDetachedCopy(MessageRealmProxy.java:749)   at io.realm.ContactRealmProxy.createDetachedCopy(ContactRealmProxy.java:774)   at io.realm.DefaultRealmModuleMediator.createDetachedCopy(DefaultRealmModuleMediator.java:268)   at io.realm.Realm.createDetachedCopy(Realm.java:1520)   at io.realm.Realm.copyFromRealm(Realm.java:1252)   at io.realm.Realm.copyFromRealm(Realm.java:1225)   at io.binarysolutions.realmtest.MainActivity$6.run(MainActivity.java:308)   at java.lang.Thread.run(Thread.java:818)  signal 11 (SIGSEGV)  code 1  fault addr 0x4 in tid 11192 (Thread-302) Revision: '0' ABI: 'arm' pid: 10959  tid: 11192  name: Thread-302  >>> io.binarysolutions.realmmemtest <<< signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x4     r0 b826dc70  r1 00000018  r2 b826de08  r3 00000000     r4 0a000000  r5 b826dc70  r6 2d353535  r7 00000018     r8 00000000  r9 b8147890  sl 00000000  fp 00000000     ip b3ac813d  sp 94245358  lr b3b9c6ad  pc b3affa72  cpsr 600f0030  Stack Trace:   RELADDR   FUNCTION                                                FILE:LINE   0008ea72  realm::SlabAlloc::do_translate(unsigned int) const+206  libgcc2.c:?   0012b6a9  realm::StringColumn::get(unsigned int) const+200        libgcc2.c:?  -----------------------------------------------------  signal 11 (SIGSEGV)  code 1  fault addr 0x4 in tid 12135 (Thread-308) Revision: '0' ABI: 'arm' pid: 11985  tid: 12135  name: Thread-308  >>> io.binarysolutions.realmmemtest <<< signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x4     r0 b823b948  r1 00000000  r2 b823c434  r3 00000000     r4 0a000000  r5 b823b948  r6 e281e559  r7 000000df     r8 00000000  r9 b7f07dc0  sl 00000000  fp 00000000     ip b3ac813d  sp 94184318  lr b3b9a0ef  pc b3affa72  cpsr 600f0030  Stack Trace:   RELADDR   FUNCTION                                                                            FILE:LINE   0008ea72  realm::SlabAlloc::do_translate(unsigned int) const+206                              libgcc2.c:?   001290eb  realm::ArrayStringLong::get(char const*  unsigned int  realm::Allocator&  bool)+36  libgcc2.c:?  -----------------------------------------------------  signal 11 (SIGSEGV)  code 1  fault addr 0x41 in tid 12811 (Thread-316) Revision: '0' ABI: 'arm' pid: 12677  tid: 12811  name: Thread-316  >>> io.binarysolutions.realmmemtest <<< signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x41     r0 b7e9bf1c  r1 0000011a  r2 0000011a  r3 00000000     r4 941813d8  r5 b7e9bf10  r6 0000011a  r7 b7f20ba8     r8 b80812e4  r9 b8081258  sl 6fbf6508  fp 941816bc     ip b3ac813d  sp 94181390  lr b3b8ae7f  pc b3a958c8  cpsr 200f0030  Stack Trace:   RELADDR   FUNCTION                                             FILE:LINE   000248c8  realm::BpTree<long long>::get(unsigned int) const+8  libgcc2.c:?   00119e7b  realm::StringEnumColumn::get(unsigned int) const+12  libgcc2.c:?  -----------------------------------------------------  signal 11 (SIGSEGV)  code 1  fault addr 0x4 in tid 13354 (Thread-320) Revision: '0' ABI: 'arm' pid: 12963  tid: 13354  name: Thread-320  >>> io.binarysolutions.realmmemtest <<< signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x4     r0 b8202a30  r1 00000000  r2 b820366c  r3 00000000     r4 0a000000  r5 b8202a30  r6 212a4ebe  r7 000000fb     r8 00000000  r9 00000379  sl 00000000  fp 00000000     ip b3ac813d  sp 941812f8  lr b3b4ddad  pc b3affa72  cpsr 600f0030  Stack Trace:   RELADDR   FUNCTION                                                                                       FILE:LINE   0008ea72  realm::SlabAlloc::do_translate(unsigned int) const+206                                         libgcc2.c:?   000dcda9  (anonymous namespace)::find_bptree_child(long long  unsigned int  realm::Allocator const&)+60  libgcc2.c:?  -----------------------------------------------------  signal 11 (SIGSEGV)  code 1  fault addr 0x4 in tid 13632 (Thread-324) Revision: '0' ABI: 'arm' pid: 13498  tid: 13632  name: Thread-324  >>> io.binarysolutions.realmmemtest <<< signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x4     r0 b80eabe8  r1 00002cc8  r2 b80eb710  r3 00000000     r4 0a000000  r5 b80eabe8  r6 f4e842ba  r7 000000e4     r8 00000000  r9 b7f24580  sl 00000000  fp 00000000     ip b3ac813d  sp 9417e318  lr b3b9a119  pc b3affa72  cpsr 600f0030  Stack Trace:   RELADDR   FUNCTION                                                                            FILE:LINE   0008ea72  realm::SlabAlloc::do_translate(unsigned int) const+206                              libgcc2.c:?   00129115  realm::ArrayStringLong::get(char const*  unsigned int  realm::Allocator&  bool)+78  libgcc2.c:?  -----------------------------------------------------  signal 11 (SIGSEGV)  code 1  fault addr 0x4 in tid 14178 (Thread-329) Revision: '0' ABI: 'arm' pid: 14062  tid: 14178  name: Thread-329  >>> io.binarysolutions.realmmemtest <<< signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x4     r0 b81dc3b8  r1 0001cbf8  r2 b81dc688  r3 00000000     r4 0a000000  r5 b81dc3b8  r6 38f331c8  r7 00000032     r8 00000000  r9 0000010f  sl 00000000  fp 00000000     ip b3ac813d  sp 940822f8  lr b3b4ddad  pc b3affa72  cpsr 600f0030  Stack Trace:   RELADDR   FUNCTION                                                                                       FILE:LINE   0008ea72  realm::SlabAlloc::do_translate(unsigned int) const+206                                         libgcc2.c:?   000dcda9  (anonymous namespace)::find_bptree_child(long long  unsigned int  realm::Allocator const&)+60  libgcc2.c:?  Code https://github.com/bios-seiji/realm-crash/tree/300 Version of Realm and tooling Realm version(s): <=3.0.0 Sync: no Encryption: yes Android Studio version: 2.2.2 Which Android version and device: 6.0.1,0
4352,17-03-21,Issue 4352 : Issue with addChangeListener on async query  without objects created. ， Issue #4352 ， realm/realm-java ， GitHub Goal In Realm 3.0.0  the following code  documented in isLoaded() method  doesn't seem to work  if there aren't any Person objects created in the database. Person person = realm.where(Person.class).findFirstAsync(); person.isLoaded(); // == false person.addChangeListener(new RealmChangeListener() {     @Override     public void onChange(Person person) {         person.isLoaded(); // Always true here         if (person.isValid()) {             // It is safe to access the person.         }     } }); Expected Results onChange() should be called with person.isLoaded() == true and person.isValid() == false. Actual Results onChange() is never called. Version of Realm and tooling Realm version: 3.0.0,0
4369,17-03-23,Issue 4369 : uncaught exception in notifier thread: N5realm10LogicErrorE: Bad version number ， Issue #4369 ， realm/realm-java ， GitHub Steps & Code to Reproduce Unfortunately  don't have any specific steps or code sample to reproduce. It is just randomly crash and it sometimes crashes in different places  but we cannot get it in Realm v2.3.1. I found similar issue in realm-cocoa @ realm/realm-cocoa#4422. Version of Realm and tooling Realm version(s): 3.0.0 Realm sync feature enabled: no Android Studio version: 2.3 Which Android version and device: Android 7.1.1 on Nexus 5X  Android 4.3 on Samsung S3 GT-I9300  Emulator Android Logcat 03-29 18:15:00.773 27003-27038 E/REALM: uncaught exception in notifier thread: N5realm10LogicErrorE: Bad version number --------- beginning of crash 03-29 18:15:00.776 27003-27038 A/libc: Fatal signal 6 (SIGABRT)  code -6 in tid 27038 (-//-) [ 03-29 18:15:00.785 367: 367 W/] debuggerd: handling request: pid=27003 uid=10376 gid=10376 tid=27038 03-29 18:15:01.005 27758-27758 A/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 03-29 18:15:01.005 27758-27758 A/DEBUG: Build fingerprint: 'google/bullhead/bullhead:7.1.1/N4F26I/3532671:user/release-keys' 03-29 18:15:01.005 27758-27758 A/DEBUG: Revision: 'rev_1.0' 03-29 18:15:01.005 27758-27758 A/DEBUG: ABI: 'arm' 03-29 18:15:01.005 27758-27758 A/DEBUG: pid: 27003  tid: 27038  name: -//- >>> -//- <<< 03-29 18:15:01.005 27758-27758 A/DEBUG: signal 6 (SIGABRT)  code -6 (SI_TKILL)  fault addr -------- 03-29 18:15:01.005 27758-27758 A/DEBUG: r0 00000000 r1 0000699e r2 00000006 r3 00000008 03-29 18:15:01.005 27758-27758 A/DEBUG: r4 e3e69978 r5 00000006 r6 e3e69920 r7 0000010c 03-29 18:15:01.005 27758-27758 A/DEBUG: r8 ff9c25c4 r9 decde3cc sl d106275c fp e3e698f4 03-29 18:15:01.005 27758-27758 A/DEBUG: ip 00000011 sp e3e69888 lr ec867557 pc ec869db4 cpsr 200f0010 03-29 18:15:01.015 27758-27758 A/DEBUG: backtrace: 03-29 18:15:01.017 27758-27758 A/DEBUG: #00 pc 00049db4 /system/lib/libc.so (tgkill+12) 03-29 18:15:01.017 27758-27758 A/DEBUG: #1 pc 00047553 /system/lib/libc.so (pthread_kill+34) 03-29 18:15:01.017 27758-27758 A/DEBUG: #2 pc 0001d8a5 /system/lib/libc.so (raise+10) 03-29 18:15:01.017 27758-27758 A/DEBUG: #3 pc 000193f1 /system/lib/libc.so (__libc_android_abort+34) 03-29 18:15:01.017 27758-27758 A/DEBUG: #4 pc 00017034 /system/lib/libc.so (abort+4) 03-29 18:15:01.017 27758-27758 A/DEBUG: #5 pc 0015d938 /data/app/{package}/base.apk (offset 0x1689000) 03-29 18:15:01.017 27758-27758 A/DEBUG: #6 pc 001307ec /data/app/{package}/base.apk (offset 0x1689000) 03-29 18:15:01.017 27758-27758 A/DEBUG: #7 pc 0013088c /data/app/{package}/base.apk (offset 0x1689000) 03-29 18:15:01.017 27758-27758 A/DEBUG: #8 pc 0015c828 /data/app/{package}/base.apk (offset 0x1689000) 03-29 18:15:01.017 27758-27758 A/DEBUG: #9 pc 00047023 /system/lib/libc.so (_ZL15__pthread_startPv+22) 03-29 18:15:01.017 27758-27758 A/DEBUG: #10 pc 00019e3d /system/lib/libc.so (__start_thread+6) 03-29 18:15:03.357 881-27759 W/ActivityManager: Force finishing activity *.MainActivity,1
4371,17-03-24,Issue 4371 : Sync certificate verify failed only in android ， Issue #4371 ， realm/realm-java ， GitHub realm-mobile-platform version : 1.2.1 realm-java version : 3.0.0 realm-cocoa version : 2.4.4 ream-browser(Mac APP) version : 2.1.5 This issue exists only in Android. Connection[1]: SSL handshake failed: certificate verify failed  realm-cocoa / realm-browser has been confirmed to work..,1
4378,17-03-24,Issue 4378 : Reach the Local Ref Table size limit when 512+ fields changes for the same object. ， Issue #4378 ， realm/realm-java ， GitHub Currently the String array of changed field names are created from JNI which may reach the local ref table size limits. Idea to fix it is creating JavaString class and acquire a global ref then release the local ref. Test to reproduce it:     @Test     @RunTestInLooperThread     public void moreFieldsChangedThanLocalRefTableSize() {         final String CLASS_NAME = "ManyFields";         final int FIELD_COUNT = 1024;         RealmConfiguration config = looperThread.createConfiguration("many_fields");         DynamicRealm realm = DynamicRealm.getInstance(config);          realm.beginTransaction();         RealmSchema schema = realm.getSchema();         RealmObjectSchema objectSchema = schema.create(CLASS_NAME);         for (int i = 0; i < FIELD_COUNT; i++) {             objectSchema.addField("field" + i  int.class);         }         DynamicRealmObject obj = realm.createObject(CLASS_NAME);         realm.commitTransaction();          obj.addChangeListener(new RealmObjectChangeListener<DynamicRealmObject>() {             @Override             public void onChange(DynamicRealmObject object  ObjectChangeSet changeSet) {                 assertEquals(FIELD_COUNT  changeSet.getChangedFields().length);                 looperThread.testComplete();             }         });          realm.beginTransaction();         for (int i = 0; i < FIELD_COUNT; i++) {             obj.setInt("field" + i  42);         }         realm.commitTransaction();     },0
4381,17-03-25,Issue 4381 : Fatal signal 11 (SIGSEGV)  code 1  fault addr 0x69 in tid 6254 ， Issue #4381 ， realm/realm-java ， GitHub I'm working with encrypted realm 2.3.2. and I got this issue sometimes  I really don't understand why. I'm doing nothing special when it happens... Here is the logs: A/libc: Fatal signal 11 (SIGSEGV)  code 1  fault addr 0x69 in tid 6254 (mmunities.debug)  *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** Build fingerprint: 'google/bullhead/bullhead:7.1.2/NPG05D/3635581:user/release-keys' Revision: 'rev_1.0' ABI: 'arm64' pid: 6254  tid: 6254  name: mmunities.debug  >>> com.facetts.communities.debug <<< signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x69   x0   0000000000000000  x1   0000000000000002  x2   0000000000000002  x3   0000000000000002   x4   000000000000000c  x5   00000074886d28e4  x6   00000074886d28f0  x7   00340037006a0036   x8   0000000000000000  x9   0000000000000000  x10  0000000000430000  x11  00000000ffffffff   x12  0000007fe9be8558  x13  0000000000000000  x14  00000074a0a5ea88  x15  0000000000000000   x16  0000007fe9be8680  x17  00000074a2dfa908  x18  00000074a21ec068  x19  0000007484f31e70   x20  0000007495664400  x21  0000000000000002  x22  0000000012e83580  x23  0000000012de95c0   x24  000000001305d790  x25  000000001305d7e0  x26  0000000012eb1400  x27  0000000012e83580   x28  0000000012f0ce08  x29  0000007fe9be8570  x30  000000749ad120a0   sp   0000007fe9be8570  pc   000000749ab9ea34  pstate 0000000020000000 backtrace:   #00 pc 0000000000039a34  /data/app/com.facetts.communities.debug-2/lib/arm64/librealm-jni.so   #01 pc 00000000001ad09c  /data/app/com.facetts.communities.debug-2/lib/arm64/librealm-jni.so   #02 pc 00000000001ad0f8  /data/app/com.facetts.communities.debug-2/lib/arm64/librealm-jni.so   #03 pc 00000000001ad110  /data/app/com.facetts.communities.debug-2/lib/arm64/librealm-jni.so   #04 pc 000000000009a4a0  /data/app/com.facetts.communities.debug-2/lib/arm64/librealm-jni.so Java_io_realm_internal_UncheckedRow_nativeGetString+72)   #05 pc 00000000008b83c0  /data/app/com.facetts.communities.debug-2/oat/arm64/base.odex (offset 0x7f3000),0
4405,17-03-30,Issue 4405 : Random crash on 3.1-SNAPSHOT ， Issue #4405 ， realm/realm-java ， GitHub schemaVersion_throwsIfNotUpdatedForSchemaUpgrade 03-30 10:00:39.196  7319  7845 F libc    : Fatal signal 11 (SIGSEGV)  code 1  fault addr 0xde39095c in tid 7845 (Thread-710) 03-30 10:00:39.297   102   102 F DEBUG   : *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 03-30 10:00:39.297   102   102 F DEBUG   : Build fingerprint: 'Android/vbox86p/vbox86p:6.0/MRA58K/genymotion08241314:userdebug/test-keys' 03-30 10:00:39.297   102   102 F DEBUG   : Revision: '0' 03-30 10:00:39.297   102   102 F DEBUG   : ABI: 'x86' 03-30 10:00:39.297   102   102 F DEBUG   : pid: 7319  tid: 7845  name: Thread-710  >>> io.realm.test <<< 03-30 10:00:39.297   102   102 F DEBUG   : signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0xde39095c 03-30 10:00:39.301   102   102 F DEBUG   :     eax da9f5578  ebx deb92ce4  ecx 00000004  edx da9f5578 03-30 10:00:39.301   102   102 F DEBUG   :     esi dc470cc8  edi de390958 03-30 10:00:39.301   102   102 F DEBUG   :     xcs 00000023  xds 0000002b  xes 0000002b  xfs 000000cf  xss 0000002b 03-30 10:00:39.301   102   102 F DEBUG   :     eip de8fc16b  ebp da9f5558  esp da9f5540  flags 00210206 03-30 10:00:39.303   102   102 F DEBUG   :  03-30 10:00:39.303   102   102 F DEBUG   : backtrace: 03-30 10:00:39.303   102   102 F DEBUG   :     #00 pc 0026b16b  /data/app/io.realm.test-1/lib/x86/librealm-jni.so 03-30 10:00:39.303   102   102 F DEBUG   :     #01 pc 0016e74f  /data/app/io.realm.test-1/lib/x86/librealm-jni.so 03-30 10:00:39.303   102   102 F DEBUG   :     #02 pc 002ebdcf  /data/app/io.realm.test-1/lib/x86/librealm-jni.so 03-30 10:00:39.303   102   102 F DEBUG   :     #03 pc 002ec17e  /data/app/io.realm.test-1/lib/x86/librealm-jni.so 03-30 10:00:39.303   102   102 F DEBUG   :     #04 pc 002f01aa  /data/app/io.realm.test-1/lib/x86/librealm-jni.so 03-30 10:00:39.303   102   102 F DEBUG   :     #05 pc 002f0247  /data/app/io.realm.test-1/lib/x86/librealm-jni.so 03-30 10:00:39.303   102   102 F DEBUG   :     #06 pc 00177deb  /data/app/io.realm.test-1/lib/x86/librealm-jni.so 03-30 10:00:39.303   102   102 F DEBUG   :     #07 pc 001767a9  /data/app/io.realm.test-1/lib/x86/librealm-jni.so 03-30 10:00:39.303   102   102 F DEBUG   :     #08 pc 0016290b  /data/app/io.realm.test-1/lib/x86/librealm-jni.so 03-30 10:00:39.303   102   102 F DEBUG   :     #09 pc 00163039  /data/app/io.realm.test-1/lib/x86/librealm-jni.so 03-30 10:00:39.303   102   102 F DEBUG   :     #10 pc 0017c8b0  /data/app/io.realm.test-1/lib/x86/librealm-jni.so 03-30 10:00:39.303   102   102 F DEBUG   :     #11 pc 0016d671  /data/app/io.realm.test-1/lib/x86/librealm-jni.so 03-30 10:00:39.303   102   102 F DEBUG   :     #12 pc 0014eed5  /data/app/io.realm.test-1/lib/x86/librealm-jni.so (_ZNSt6thread5_ImplISt12_Bind_simpleIFZN5realm5_impl10SyncClientC4ESt10unique_ptrINS2_4util6LoggerESt14default_deleteIS7_EENS2_4sync6Client13ReconnectModeEbEUlvE_vEEE6_M_runEv+75) 03-30 10:00:39.303   102   102 F DEBUG   :     #13 pc 0038cf7e  /data/app/io.realm.test-1/lib/x86/librealm-jni.so 03-30 10:00:39.303   102   102 F DEBUG   :     #14 pc 000807f3  /system/lib/libc.so (__pthread_start(void*)+56) 03-30 10:00:39.303   102   102 F DEBUG   :     #15 pc 00021952  /system/lib/libc.so (__start_thread+25) 03-30 10:00:39.303   102   102 F DEBUG   :     #16 pc 000170b6  /system/lib/libc.so (__bionic_clone+70) 03-3  io.realm.objectserver.ProgressListenerTests.downloadProgressListener_indefinitely 03-30 15:54:39.591 E/AndroidRuntime(17519): FATAL EXCEPTION: Thread-3174 03-30 15:54:39.591 E/AndroidRuntime(17519): Process: io.realm.test  PID: 17519 03-30 15:54:39.591 E/AndroidRuntime(17519): junit.framework.AssertionFailedError: Test took longer than 60 seconds 03-30 15:54:39.591 E/AndroidRuntime(17519): 	at junit.framework.Assert.fail(Assert.java:50) 03-30 15:54:39.591 E/AndroidRuntime(17519): 	at io.realm.TestHelper.awaitOrFail(TestHelper.java:791) 03-30 15:54:39.591 E/AndroidRuntime(17519): 	at io.realm.TestHelper.awaitOrFail(TestHelper.java:781) 03-30 15:54:39.591 E/AndroidRuntime(17519): 	at io.realm.objectserver.ProgressListenerTests.createRemoteData(ProgressListenerTests.java:96) 03-30 15:54:39.591 E/AndroidRuntime(17519): 	at io.realm.objectserver.ProgressListenerTests.access$100(ProgressListenerTests.java:50) 03-30 15:54:39.591 E/AndroidRuntime(17519): 	at io.realm.objectserver.ProgressListenerTests$3.run(ProgressListenerTests.java:144) 03-30 15:54:39.591 E/AndroidRuntime(17519): 	at java.lang.Thread.run(Thread.java:818) 03-30 15:54:39.673 W/ActivityManager(  628): Error in app io.realm.test running instrumentation ComponentInfo{io.realm.test/android.support.test.runner.AndroidJUnitRunner}: 03-30 15:54:39.674 W/ActivityManager(  628):   junit.framework.AssertionFailedError 03-30 15:54:39.675 W/ActivityManager(  628):   junit.framework.AssertionFailedError: Test took longer than 60 seconds 03-30 15:54:39.799 D/AndroidRuntime(17505): Shutting down VM 03-30 15:54:40.217 I/ActivityManager(  628): Force stopping io.realm.test appid=11451 user=0: finished inst 03-30 15:54:40.221 I/ActivityManager(  628): Killing 17519:io.realm.test/u0a1451 (adj 0): stop io.realm.test  io.realm.SyncConfigurationTests.schemaVersion_bumpWhenUpgradingSchema --------- beginning of crash 03-30 12:15:27.353 F/libc    (12283): Fatal signal 11 (SIGSEGV)  code 1  fault addr 0x1bc in tid 12829 (Thread-2777) 03-30 12:15:27.457 I/DEBUG   (  189): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 03-30 12:15:27.457 I/DEBUG   (  189): Build fingerprint: 'nvidia/sb_na_wf/shieldtablet:5.1.1/LMY48C/37154_590.0364:user/release-keys' 03-30 12:15:27.457 I/DEBUG   (  189): Revision: '0' 03-30 12:15:27.457 I/DEBUG   (  189): ABI: 'arm' 03-30 12:15:27.458 I/DEBUG   (  189): pid: 12283  tid: 12829  name: Thread-2777  >>> io.realm.test <<< 03-30 12:15:27.458 I/DEBUG   (  189): signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x1bc 03-30 12:15:27.487 I/DEBUG   (  189):     r0 88829b74  r1 42621b38  r2 00000000  r3 000001b8 03-30 12:15:27.492 I/DEBUG   (  189):     r4 88829b78  r5 88829b78  r6 88829b74  r7 42724010 03-30 12:15:27.494 I/DEBUG   (  189):     r8 42621b38  r9 88829bd0  sl 88829bd4  fp 00000000 03-30 12:15:27.494 I/DEBUG   (  189):     ip 401d27d4  sp 88829b30  lr 79808887  pc 79776c20  cpsr 600f0030 03-30 12:15:27.495 I/DEBUG   (  189):  03-30 12:15:27.495 I/DEBUG   (  189): backtrace: 03-30 12:15:27.495 I/DEBUG   (  189):     #00 pc 0006cc20  /data/app/io.realm.test-1/lib/arm/librealm-jni.so 03-30 12:15:27.495 I/DEBUG   (  189):     #01 pc 000fe883  /data/app/io.realm.test-1/lib/arm/librealm-jni.so 03-30 12:15:27.495 I/DEBUG   (  189):     #02 pc 000fcb8d  /data/app/io.realm.test-1/lib/arm/librealm-jni.so 03-30 12:15:27.495 I/DEBUG   (  189):     #03 pc 000fce5b  /data/app/io.realm.test-1/lib/arm/librealm-jni.so 03-30 12:15:27.495 I/DEBUG   (  189):     #04 pc 000f07ef  /data/app/io.realm.test-1/lib/arm/librealm-jni.so 03-30 12:15:27.495 I/DEBUG   (  189):     #05 pc 000f0bd9  /data/app/io.realm.test-1/lib/arm/librealm-jni.so 03-30 12:15:27.496 I/DEBUG   (  189):     #06 pc 001024cf  /data/app/io.realm.test-1/lib/arm/librealm-jni.so 03-30 12:15:27.496 I/DEBUG   (  189):     #07 pc 000f6ed7  /data/app/io.realm.test-1/lib/arm/librealm-jni.so 03-30 12:15:27.496 I/DEBUG   (  189):     #08 pc 000e4a87  /data/app/io.realm.test-1/lib/arm/librealm-jni.so (_ZNSt6thread5_ImplISt12_Bind_simpleIFZN5realm5_impl10SyncClientC4ESt10unique_ptrINS2_4util6LoggerESt14default_deleteIS7_EENS2_4sync6Client13ReconnectModeEbEUlvE_vEEE6_M_runEv+34) 03-30 12:15:27.496 I/DEBUG   (  189):     #09 pc 002c158c  /data/app/io.realm.test-1/lib/arm/librealm-jni.so 03-30 12:15:27.496 I/DEBUG   (  189):     #10 pc 000178df  /system/lib/libc.so (__pthread_start(void*)+30) 03-30 12:15:27.496 I/DEBUG   (  189):     #11 pc 00015823  /system/lib/libc.so (__start_thread+6) 03-30 12:15:28.354 I/DEBUG   (  189):  03-30 12:15:28.354 I/DEBUG   (  189): Tombstone written to: /data/tombstones/tombstone_03  uploadProgressListener_changesOnly 03-30 22:13:14.607 I/TestRunner(32525): started: uploadProgressListener_changesOnly(io.realm.objectserver.ProgressListenerTests) 03-30 22:13:14.611 I/MonitoringInstrumentation(32525): Activities that are still in CREATED to STOPPED: 0 --------- beginning of crash 03-30 22:13:14.774 F/libc    (32525): Fatal signal 6 (SIGABRT)  code -6 in tid 1003 (Thread-57251) 03-30 22:13:14.881 F/DEBUG   (  485): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 03-30 22:13:14.881 F/DEBUG   (  485): Build fingerprint: 'google/bullhead/bullhead:6.0/MDA89E/2296692:user/release-keys' 03-30 22:13:14.882 F/DEBUG   (  485): Revision: 'rev_1.0' 03-30 22:13:14.882 F/DEBUG   (  485): ABI: 'arm64' 03-30 22:13:14.883 F/DEBUG   (  485): pid: 32525  tid: 1003  name: Thread-57251  >>> io.realm.test <<< 03-30 22:13:14.884 F/DEBUG   (  485): signal 6 (SIGABRT)  code -6 (SI_TKILL)  fault addr -------- 03-30 22:13:14.879 W/debuggerd64(  485): type=1400 audit(0.0:13828): avc: denied { search } for name="io.realm.test" dev="dm-2" ino=392526 scontext=u:r:debuggerd:s0 tcontext=u:object_r:app_data_file:s0:c512 c768 tclass=dir permissive=0 03-30 22:13:14.921 F/DEBUG   (  485): Abort message: 'TEST_FATAL' 03-30 22:13:14.922 F/DEBUG   (  485):     x0   0000000000000000  x1   00000000000003eb  x2   0000000000000006  x3   0000000000000000 03-30 22:13:14.922 F/DEBUG   (  485):     x4   0000000000000000  x5   0000000000000001  x6   0000000000000000  x7   0000000000000000 03-30 22:13:14.922 F/DEBUG   (  485):     x8   0000000000000083  x9   0000007f5298d5b0  x10  0000000000000001  x11  0000000000004000 03-30 22:13:14.923 F/DEBUG   (  485):     x12  0000000000004001  x13  0000000000000000  x14  0000000000000001  x15  00000000ffffffff 03-30 22:13:14.923 F/DEBUG   (  485):     x16  0000007f79d22568  x17  0000007f79cb4f9c  x18  0000007f79d30738  x19  0000007f5298d500 03-30 22:13:14.923 F/DEBUG   (  485):     x20  0000007f5298d440  x21  0000000000000073  x22  0000000000000006  x23  00000000000ff000 03-30 22:13:14.923 F/DEBUG   (  485):     x24  0000000000000002  x25  0000007f5d8cae30  x26  0000007f79cb1000  x27  0000007f556e7390 03-30 22:13:14.923 F/DEBUG   (  485):     x28  0000000000001000  x29  0000007f5298d2b0  x30  0000007f79cb2858 03-30 22:13:14.923 F/DEBUG   (  485):     sp   0000007f5298d2b0  pc   0000007f79cb4fa4  pstate 0000000020000000 03-30 22:13:14.930 F/DEBUG   (  485):  03-30 22:13:14.930 F/DEBUG   (  485): backtrace: 03-30 22:13:14.931 F/DEBUG   (  485):     #00 pc 000000000006afa4  /system/lib64/libc.so (tgkill+8) 03-30 22:13:14.931 F/DEBUG   (  485):     #01 pc 0000000000068854  /system/lib64/libc.so (pthread_kill+68) 03-30 22:13:14.931 F/DEBUG   (  485):     #02 pc 0000000000023838  /system/lib64/libc.so (raise+28) 03-30 22:13:14.931 F/DEBUG   (  485):     #03 pc 000000000001dfd8  /system/lib64/libc.so (abort+60) 03-30 22:13:14.932 F/DEBUG   (  485):     #04 pc 00000000003b4f04  /data/app/io.realm.test-1/lib/arm64/librealm-jni.so (__gnu_cxx::__verbose_terminate_handler()+348) 03-30 22:13:14.932 F/DEBUG   (  485):     #05 pc 0000000000386c20  /data/app/io.realm.test-1/lib/arm64/librealm-jni.so (__cxxabiv1::__terminate(void (*)())+8) 03-30 22:13:14.932 F/DEBUG   (  485):     #06 pc 0000000000386c8c  /data/app/io.realm.test-1/lib/arm64/librealm-jni.so (std::terminate()+12) 03-30 22:13:14.932 F/DEBUG   (  485):     #07 pc 00000000003b3cac  /data/app/io.realm.test-1/lib/arm64/librealm-jni.so 03-30 22:13:14.932 F/DEBUG   (  485):     #08 pc 0000000000067ca4  /system/lib64/libc.so (__pthread_start(void*)+52) 03-30 22:13:14.933 F/DEBUG   (  485):     #09 pc 000000000001eb84  /system/lib64/libc.so (__start_thread+16) 0,0
4430,17-04-05,Issue 4430 : failed to create temporary directory /data/user/0/xxx/files/.realm.temp ， Issue #4430 ， realm/realm-java ， GitHub Reported on SO http://stackoverflow.com/questions/43219226/realm-init-fails-data-user?noredirect=1#comment73512411_43219226 Realm.init(this); Realm.setDefaultConfiguration(new RealmConfiguration.Builder()         .name("default.realm")         .modules(Realm.getDefaultModule()  new RealmCoreModule())         .schemaVersion(10)         .migration(new SampleRealmMigration())         .build()); Fatal Exception: java.lang.RuntimeException: Unable to create application com.zappos.android.ZapposApplication: io.realm.internal.IOException: failed to create temporary directory: /data/user/0/com.zappos.android/files/.realm.temp at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4800) at android.app.ActivityThread.access$1600(ActivityThread.java:157) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1417) at android.os.Handler.dispatchMessage(Handler.java:102) at android.os.Looper.loop(Looper.java:148) at android.app.ActivityThread.main(ActivityThread.java:5527) at java.lang.reflect.Method.invoke(Method.java) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:730) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:620) Caused by io.realm.internal.IOException: failed to create temporary directory: /data/user/0/com.sample.android/files/.realm.temp at io.realm.internal.SharedRealm.initialize(SharedRealm.java:48) at io.realm.Realm.init(Realm.java:191) at com.sample.android.SampleApplication.onCreate(SampleApplication.java:223) at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1014) at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4797) at android.app.ActivityThread.access$1600(ActivityThread.java:157) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1417) at android.os.Handler.dispatchMessage(Handler.java:102) at android.os.Looper.loop(Looper.java:148) at android.app.ActivityThread.main(ActivityThread.java:5527) at java.lang.reflect.Method.invoke(Method.java) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:730) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:620) I've noticed that this fails sometimes and more regularly on LG devices on Android 6. Disk space was not an issue and neither was RAM. From a little more research it says /data/user/0 is something that gets returned during multiple user profiles on the phone. I haven't had luck trying to replicate it.,0
4437,17-04-05,Issue 4437 : JNI Error ， Issue #4437 ， realm/realm-java ， GitHub Goal To be able to commit a transaction Expected Results To succeed and save to the Realm Database Actual Results Crashes Code Sample Affected Code  crashes on the first line (executeTransaction) Realm.getDefaultInstance().executeTransaction(new Realm.Transaction() {                         @Override                         public void execute(Realm realm) {                             getDepartures().clear();                              if(result.getTrainServices() != null && !result.getTrainServices().isEmpty()) {                                 for (Service service : result.getTrainServices()) {                                     service.setId(getCrs()  true);                                     getDepartures().add(realm.copyToRealmOrUpdate(service));                                 }                             }                              setDeparturesGathered(Calendar.getInstance().getTime());                         }                     }); Stack Trace: 04-05 15:29:59.122 12199-12199/com.github.binpower93.stationhubapp E/art: JNI ERROR (app bug): attempt to use stale Local 0x100019 (should be 0x19) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470] JNI DETECTED ERROR IN APPLICATION: use of deleted local reference 0x100019 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]     from void io.realm.internal.SharedRealm.nativeCommitTransaction(long) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470] "main" prio=5 tid=1 Runnable 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   | group="main" sCount=0 dsCount=0 obj=0x74130000 self=0xeec05400 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   | sysTid=12199 nice=-10 cgrp=default sched=0/0 handle=0xf18d2534 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   | state=R schedstat=( 2844241477 208878546 2183 ) utm=256 stm=27 core=4 HZ=100 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   | stack=0xff336000-0xff338000 stackSize=8MB 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   | held mutexes= "mutator lock"(shared held) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #00 pc 00350ab5  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiP12BacktraceMapPKcPNS_9ArtMethodEPv+128) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #01 pc 003311f9  /system/lib/libart.so (_ZNK3art6Thread9DumpStackERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEbP12BacktraceMap+308) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #02 pc 00239895  /system/lib/libart.so (_ZN3art9JavaVMExt8JniAbortEPKcS2_+848) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #03 pc 00239e2b  /system/lib/libart.so (_ZN3art9JavaVMExt9JniAbortFEPKcS2_z+66) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #04 pc 00334c25  /system/lib/libart.so (_ZNK3art6Thread13DecodeJObjectEP8_jobject+240) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #05 pc 000ca321  /system/lib/libart.so (_ZN3art11ScopedCheck13CheckInstanceERNS_18ScopedObjectAccessENS0_12InstanceKindEP8_jobjectb+120) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #06 pc 000c98d3  /system/lib/libart.so (_ZN3art11ScopedCheck22CheckPossibleHeapValueERNS_18ScopedObjectAccessEcNS_12JniValueTypeE+190) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #07 pc 000ca90b  /system/lib/libart.so (_ZN3art11ScopedCheck12CheckVarArgsERNS_18ScopedObjectAccessEPKNS_7VarArgsE+186) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #08 pc 000c9881  /system/lib/libart.so (_ZN3art11ScopedCheck22CheckPossibleHeapValueERNS_18ScopedObjectAccessEcNS_12JniValueTypeE+108) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #09 pc 000c8d0b  /system/lib/libart.so (_ZN3art11ScopedCheck5CheckERNS_18ScopedObjectAccessEbPKcPNS_12JniValueTypeE+802) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #10 pc 000cceb7  /system/lib/libart.so (_ZN3art8CheckJNI13CheckCallArgsERNS_18ScopedObjectAccessERNS_11ScopedCheckEP7_JNIEnvP8_jobjectP7_jclassP10_jmethodIDNS_10InvokeTypeEPKNS_7VarArgsE+114) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #11 pc 000cc4e5  /system/lib/libart.so (_ZN3art8CheckJNI11CallMethodVEPKcP7_JNIEnvP8_jobjectP7_jclassP10_jmethodIDSt9__va_listNS_9Primitive4TypeENS_10InvokeTypeE+512) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #12 pc 000c26b9  /system/lib/libart.so (_ZN3art8CheckJNI15CallVoidMethodVEP7_JNIEnvP8_jobjectP10_jmethodIDSt9__va_list+44) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #13 pc 00022c63  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #14 pc 0005df55  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #15 pc 0002c605  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #16 pc 0007b345  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #17 pc 0007b465  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #18 pc 0008f697  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #19 pc 0008f84d  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #20 pc 00080dcb  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #21 pc 000734a9  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #22 pc 0002df31  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (Java_io_realm_internal_SharedRealm_nativeCommitTransaction+64) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   native: #23 pc 0001a78d  /data/app/com.github.binpower93.stationhubapp-2/oat/arm/base.odex (Java_io_realm_internal_SharedRealm_nativeCommitTransaction__J+80) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   at io.realm.internal.SharedRealm.nativeCommitTransaction(Native method) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   at io.realm.internal.SharedRealm.commitTransaction(SharedRealm.java:251) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   at io.realm.BaseRealm.commitTransaction(BaseRealm.java:320) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   at io.realm.Realm.commitTransaction(Realm.java:127) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   at io.realm.Realm.executeTransaction(Realm.java:1348) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   at com.github.binpower93.stationhubapp.dataaccess.database.Station$4.success(Station.java:198) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   at com.github.binpower93.stationhubapp.dataaccess.database.Station$4.success(Station.java:193) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   at com.github.binpower93.stationhubapp.dataaccess.APIHelper$1.success(APIHelper.java:96) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   at com.github.binpower93.stationhubapp.dataaccess.APIHelper$1.success(APIHelper.java:93) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   at retrofit.CallbackRunnable$1.run(CallbackRunnable.java:45) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   at android.os.Handler.handleCallback(Handler.java:751) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   at android.os.Handler.dispatchMessage(Handler.java:95) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   at android.os.Looper.loop(Looper.java:154) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   at android.app.ActivityThread.main(ActivityThread.java:6121) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   at java.lang.reflect.Method.invoke!(Native method) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/java_vm_ext.cc:470]  04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422] Runtime aborting... 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422] Aborting thread: 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422] "main" prio=10 tid=1 Native 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | group="" sCount=0 dsCount=0 obj=0x74130000 self=0xeec05400 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | sysTid=12199 nice=-10 cgrp=default sched=0/0 handle=0xf18d2534 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | state=R schedstat=( 2869857571 209014744 2191 ) utm=257 stm=28 core=4 HZ=100 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | stack=0xff336000-0xff338000 stackSize=8MB 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | held mutexes= "abort lock" 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #00 pc 00350ab5  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiP12BacktraceMapPKcPNS_9ArtMethodEPv+128) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #01 pc 003311f9  /system/lib/libart.so (_ZNK3art6Thread9DumpStackERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEbP12BacktraceMap+308) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #02 pc 003242b1  /system/lib/libart.so (_ZNK3art10AbortState10DumpThreadERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEPNS_6ThreadE+24) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #03 pc 00324139  /system/lib/libart.so (_ZNK3art10AbortState4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+424) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #04 pc 0031ae25  /system/lib/libart.so (_ZN3art7Runtime5AbortEPKc+92) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #05 pc 000b5285  /system/lib/libart.so (_ZN3art10LogMessageD2Ev+1132) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #06 pc 00239bc5  /system/lib/libart.so (_ZN3art9JavaVMExt8JniAbortEPKcS2_+1664) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #07 pc 00239e2b  /system/lib/libart.so (_ZN3art9JavaVMExt9JniAbortFEPKcS2_z+66) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #08 pc 00334c25  /system/lib/libart.so (_ZNK3art6Thread13DecodeJObjectEP8_jobject+240) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #09 pc 000ca321  /system/lib/libart.so (_ZN3art11ScopedCheck13CheckInstanceERNS_18ScopedObjectAccessENS0_12InstanceKindEP8_jobjectb+120) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #10 pc 000c98d3  /system/lib/libart.so (_ZN3art11ScopedCheck22CheckPossibleHeapValueERNS_18ScopedObjectAccessEcNS_12JniValueTypeE+190) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #11 pc 000ca90b  /system/lib/libart.so (_ZN3art11ScopedCheck12CheckVarArgsERNS_18ScopedObjectAccessEPKNS_7VarArgsE+186) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #12 pc 000c9881  /system/lib/libart.so (_ZN3art11ScopedCheck22CheckPossibleHeapValueERNS_18ScopedObjectAccessEcNS_12JniValueTypeE+108) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #13 pc 000c8d0b  /system/lib/libart.so (_ZN3art11ScopedCheck5CheckERNS_18ScopedObjectAccessEbPKcPNS_12JniValueTypeE+802) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #14 pc 000cceb7  /system/lib/libart.so (_ZN3art8CheckJNI13CheckCallArgsERNS_18ScopedObjectAccessERNS_11ScopedCheckEP7_JNIEnvP8_jobjectP7_jclassP10_jmethodIDNS_10InvokeTypeEPKNS_7VarArgsE+114) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #15 pc 000cc4e5  /system/lib/libart.so (_ZN3art8CheckJNI11CallMethodVEPKcP7_JNIEnvP8_jobjectP7_jclassP10_jmethodIDSt9__va_listNS_9Primitive4TypeENS_10InvokeTypeE+512) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #16 pc 000c26b9  /system/lib/libart.so (_ZN3art8CheckJNI15CallVoidMethodVEP7_JNIEnvP8_jobjectP10_jmethodIDSt9__va_list+44) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #17 pc 00022c63  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #18 pc 0005df55  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #19 pc 0002c605  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #20 pc 0007b345  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #21 pc 0007b465  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #22 pc 0008f697  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #23 pc 0008f84d  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #24 pc 00080dcb  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #25 pc 000734a9  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #26 pc 0002df31  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (Java_io_realm_internal_SharedRealm_nativeCommitTransaction+64) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #27 pc 0001a78d  /data/app/com.github.binpower93.stationhubapp-2/oat/arm/base.odex (???) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at io.realm.internal.SharedRealm.nativeCommitTransaction(Native method) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at io.realm.internal.SharedRealm.commitTransaction(SharedRealm.java:251) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at io.realm.BaseRealm.commitTransaction(BaseRealm.java:320) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at io.realm.Realm.commitTransaction(Realm.java:127) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at io.realm.Realm.executeTransaction(Realm.java:1348) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at com.github.binpower93.stationhubapp.dataaccess.database.Station$4.success(Station.java:198) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at com.github.binpower93.stationhubapp.dataaccess.database.Station$4.success(Station.java:193) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at com.github.binpower93.stationhubapp.dataaccess.APIHelper$1.success(APIHelper.java:96) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at com.github.binpower93.stationhubapp.dataaccess.APIHelper$1.success(APIHelper.java:93) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at retrofit.CallbackRunnable$1.run(CallbackRunnable.java:45) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at android.os.Handler.handleCallback(Handler.java:751) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at android.os.Handler.dispatchMessage(Handler.java:95) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at android.os.Looper.loop(Looper.java:154) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at android.app.ActivityThread.main(ActivityThread.java:6121) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.reflect.Method.invoke!(Native method) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422] Dumping all threads without appropriate locks held: thread list lock mutator lock 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422] All threads: 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422] DALVIK THREADS (48): 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422] "main" prio=10 tid=1 Runnable 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | group="" sCount=0 dsCount=0 obj=0x74130000 self=0xeec05400 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | sysTid=12199 nice=-10 cgrp=default sched=0/0 handle=0xf18d2534 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | state=R schedstat=( 2899954027 209045942 2195 ) utm=258 stm=30 core=4 HZ=100 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | stack=0xff336000-0xff338000 stackSize=8MB 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | held mutexes= "abort lock" "mutator lock"(shared held) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #00 pc 00350ab5  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiP12BacktraceMapPKcPNS_9ArtMethodEPv+128) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #01 pc 003311f9  /system/lib/libart.so (_ZNK3art6Thread9DumpStackERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEbP12BacktraceMap+308) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #02 pc 00343221  /system/lib/libart.so (_ZN3art14DumpCheckpoint3RunEPNS_6ThreadE+620) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #03 pc 0033d22b  /system/lib/libart.so (_ZN3art10ThreadList13RunCheckpointEPNS_7ClosureE+330) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #04 pc 0033cf27  /system/lib/libart.so (_ZN3art10ThreadList4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEb+586) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #05 pc 00324105  /system/lib/libart.so (_ZNK3art10AbortState4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+372) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #06 pc 0031ae25  /system/lib/libart.so (_ZN3art7Runtime5AbortEPKc+92) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #07 pc 000b5285  /system/lib/libart.so (_ZN3art10LogMessageD2Ev+1132) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #08 pc 00239bc5  /system/lib/libart.so (_ZN3art9JavaVMExt8JniAbortEPKcS2_+1664) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #09 pc 00239e2b  /system/lib/libart.so (_ZN3art9JavaVMExt9JniAbortFEPKcS2_z+66) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #10 pc 00334c25  /system/lib/libart.so (_ZNK3art6Thread13DecodeJObjectEP8_jobject+240) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #11 pc 000ca321  /system/lib/libart.so (_ZN3art11ScopedCheck13CheckInstanceERNS_18ScopedObjectAccessENS0_12InstanceKindEP8_jobjectb+120) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #12 pc 000c98d3  /system/lib/libart.so (_ZN3art11ScopedCheck22CheckPossibleHeapValueERNS_18ScopedObjectAccessEcNS_12JniValueTypeE+190) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #13 pc 000ca90b  /system/lib/libart.so (_ZN3art11ScopedCheck12CheckVarArgsERNS_18ScopedObjectAccessEPKNS_7VarArgsE+186) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #14 pc 000c9881  /system/lib/libart.so (_ZN3art11ScopedCheck22CheckPossibleHeapValueERNS_18ScopedObjectAccessEcNS_12JniValueTypeE+108) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #15 pc 000c8d0b  /system/lib/libart.so (_ZN3art11ScopedCheck5CheckERNS_18ScopedObjectAccessEbPKcPNS_12JniValueTypeE+802) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #16 pc 000cceb7  /system/lib/libart.so (_ZN3art8CheckJNI13CheckCallArgsERNS_18ScopedObjectAccessERNS_11ScopedCheckEP7_JNIEnvP8_jobjectP7_jclassP10_jmethodIDNS_10InvokeTypeEPKNS_7VarArgsE+114) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #17 pc 000cc4e5  /system/lib/libart.so (_ZN3art8CheckJNI11CallMethodVEPKcP7_JNIEnvP8_jobjectP7_jclassP10_jmethodIDSt9__va_listNS_9Primitive4TypeENS_10InvokeTypeE+512) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #18 pc 000c26b9  /system/lib/libart.so (_ZN3art8CheckJNI15CallVoidMethodVEP7_JNIEnvP8_jobjectP10_jmethodIDSt9__va_list+44) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #19 pc 00022c63  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #20 pc 0005df55  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #21 pc 0002c605  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #22 pc 0007b345  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.389 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #23 pc 0007b465  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #24 pc 0008f697  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #25 pc 0008f84d  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #26 pc 00080dcb  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #27 pc 000734a9  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #28 pc 0002df31  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (Java_io_realm_internal_SharedRealm_nativeCommitTransaction+64) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #29 pc 0001a78d  /data/app/com.github.binpower93.stationhubapp-2/oat/arm/base.odex (Java_io_realm_internal_SharedRealm_nativeCommitTransaction__J+80) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at io.realm.internal.SharedRealm.nativeCommitTransaction(Native method) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at io.realm.internal.SharedRealm.commitTransaction(SharedRealm.java:251) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at io.realm.BaseRealm.commitTransaction(BaseRealm.java:320) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at io.realm.Realm.commitTransaction(Realm.java:127) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at io.realm.Realm.executeTransaction(Realm.java:1348) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at com.github.binpower93.stationhubapp.dataaccess.database.Station$4.success(Station.java:198) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at com.github.binpower93.stationhubapp.dataaccess.database.Station$4.success(Station.java:193) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at com.github.binpower93.stationhubapp.dataaccess.APIHelper$1.success(APIHelper.java:96) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at com.github.binpower93.stationhubapp.dataaccess.APIHelper$1.success(APIHelper.java:93) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at retrofit.CallbackRunnable$1.run(CallbackRunnable.java:45) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at android.os.Handler.handleCallback(Handler.java:751) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at android.os.Handler.dispatchMessage(Handler.java:95) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at android.os.Looper.loop(Looper.java:154) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at android.app.ActivityThread.main(ActivityThread.java:6121) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.reflect.Method.invoke!(Native method) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]  04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422] "Jit thread pool worker thread 0" prio=10 tid=2 Native 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | group="" sCount=1 dsCount=0 obj=0x12c710d0 self=0xe7892000 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | sysTid=12204 nice=9 cgrp=default sched=0/0 handle=0xee324920 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | state=S schedstat=( 779551443 125639352 894 ) utm=66 stm=11 core=5 HZ=100 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | stack=0xee226000-0xee228000 stackSize=1022KB 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | held mutexes= 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: __switch_to+0x8c/0x98 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: futex_wait_queue_me+0xd4/0x130 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: futex_wait+0xfc/0x210 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: do_futex+0xe0/0x920 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: compat_SyS_futex+0xe8/0x17c 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: cpu_switch_to+0x48/0x4c 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #00 pc 00017404  /system/lib/libc.so (syscall+28) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #01 pc 000b6e49  /system/lib/libart.so (_ZN3art17ConditionVariable16WaitHoldingLocksEPNS_6ThreadE+92) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #02 pc 00344785  /system/lib/libart.so (_ZN3art10ThreadPool7GetTaskEPNS_6ThreadE+160) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #03 pc 00343fa7  /system/lib/libart.so (_ZN3art16ThreadPoolWorker3RunEv+62) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #04 pc 00343acf  /system/lib/libart.so (_ZN3art16ThreadPoolWorker8CallbackEPv+78) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #05 pc 000470b3  /system/lib/libc.so (_ZL15__pthread_startPv+22) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #06 pc 00019e3d  /system/lib/libc.so (__start_thread+6) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   (no managed stack frames) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]  04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422] "Signal Catcher" prio=10 tid=3 WaitingInMainSignalCatcherLoop 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | group="" sCount=1 dsCount=0 obj=0x12c71160 self=0xe4e49800 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | sysTid=12205 nice=0 cgrp=default sched=0/0 handle=0xee223920 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | state=S schedstat=( 503750 0 3 ) utm=0 stm=0 core=1 HZ=100 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | stack=0xee127000-0xee129000 stackSize=1014KB 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | held mutexes= 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: __switch_to+0x8c/0x98 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: do_sigtimedwait+0xec/0x1dc 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: compat_SyS_rt_sigtimedwait+0xc4/0x124 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: cpu_switch_to+0x48/0x4c 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #00 pc 00048894  /system/lib/libc.so (__rt_sigtimedwait+12) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #01 pc 0001e24b  /system/lib/libc.so (sigwait+34) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #02 pc 00327363  /system/lib/libart.so (_ZN3art9SignalSet4WaitEv+22) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #03 pc 00326f5d  /system/lib/libart.so (_ZN3art13SignalCatcher13WaitForSignalEPNS_6ThreadERNS_9SignalSetE+168) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #04 pc 00325cc1  /system/lib/libart.so (_ZN3art13SignalCatcher3RunEPv+276) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #05 pc 000470b3  /system/lib/libc.so (_ZL15__pthread_startPv+22) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #06 pc 00019e3d  /system/lib/libc.so (__start_thread+6) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   (no managed stack frames) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]  04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422] "JDWP" prio=10 tid=4 WaitingInMainDebuggerLoop 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | group="" sCount=1 dsCount=0 obj=0x12c711f0 self=0xe7893400 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | sysTid=12206 nice=0 cgrp=default sched=0/0 handle=0xee124920 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | state=S schedstat=( 4221825 1624114 13 ) utm=0 stm=0 core=3 HZ=100 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | stack=0xee028000-0xee02a000 stackSize=1014KB 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | held mutexes= 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: __switch_to+0x8c/0x98 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: poll_schedule_timeout+0x54/0xbc 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: do_select+0x454/0x4c0 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: compat_core_sys_select+0x178/0x240 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: compat_sys_pselect6+0x1a4/0x254 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: cpu_switch_to+0x48/0x4c 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #00 pc 0004876c  /system/lib/libc.so (__pselect6+20) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #01 pc 0001d045  /system/lib/libc.so (select+88) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #02 pc 003fba77  /system/lib/libart.so (_ZN3art4JDWP12JdwpAdbState15ProcessIncomingEv+302) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #03 pc 002487a7  /system/lib/libart.so (_ZN3art4JDWP9JdwpState3RunEv+650) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #04 pc 00247f4b  /system/lib/libart.so (_ZN3art4JDWPL15StartJdwpThreadEPv+22) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #05 pc 000470b3  /system/lib/libc.so (_ZL15__pthread_startPv+22) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #06 pc 00019e3d  /system/lib/libc.so (__start_thread+6) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   (no managed stack frames) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]  04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422] "ReferenceQueueDaemon" prio=10 tid=5 Waiting 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | group="" sCount=1 dsCount=0 obj=0x12c71280 self=0xe4e4ac00 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | sysTid=12207 nice=0 cgrp=default sched=0/0 handle=0xee025920 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | state=S schedstat=( 13942188 2871564 45 ) utm=1 stm=0 core=1 HZ=100 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | stack=0xedf23000-0xedf25000 stackSize=1038KB 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | held mutexes= 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: __switch_to+0x8c/0x98 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: futex_wait_queue_me+0xd4/0x130 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: futex_wait+0xfc/0x210 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: do_futex+0xe0/0x920 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: compat_SyS_futex+0xe8/0x17c 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: cpu_switch_to+0x48/0x4c 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #00 pc 00017404  /system/lib/libc.so (syscall+28) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #01 pc 000b6e49  /system/lib/libart.so (_ZN3art17ConditionVariable16WaitHoldingLocksEPNS_6ThreadE+92) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #02 pc 0029f17b  /system/lib/libart.so (_ZN3art7Monitor4WaitEPNS_6ThreadExibNS_11ThreadStateE+514) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #03 pc 002a09ab  /system/lib/libart.so (_ZN3art7Monitor4WaitEPNS_6ThreadEPNS_6mirror6ObjectExibNS_11ThreadStateE+258) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #04 pc 002af1c7  /system/lib/libart.so (_ZN3artL11Object_waitEP7_JNIEnvP8_jobject+32) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #05 pc 00000557  /system/framework/arm/boot.oat (Java_java_lang_Object_wait__+74) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.Object.wait!(Native method) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   - waiting on <0x0675d174> (a java.lang.Class<java.lang.ref.ReferenceQueue>) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.Daemons$ReferenceQueueDaemon.run(Daemons.java:150) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   - locked <0x0675d174> (a java.lang.Class<java.lang.ref.ReferenceQueue>) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.Thread.run(Thread.java:761) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]  04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422] "FinalizerDaemon" prio=10 tid=6 Waiting 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | group="" sCount=1 dsCount=0 obj=0x12c71310 self=0xe4e4b100 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | sysTid=12208 nice=0 cgrp=default sched=0/0 handle=0xedf20920 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | state=S schedstat=( 14659900 11089527 72 ) utm=0 stm=0 core=1 HZ=100 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | stack=0xede1e000-0xede20000 stackSize=1038KB 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | held mutexes= 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: __switch_to+0x8c/0x98 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: futex_wait_queue_me+0xd4/0x130 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: futex_wait+0xfc/0x210 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: do_futex+0xe0/0x920 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: compat_SyS_futex+0xe8/0x17c 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: cpu_switch_to+0x48/0x4c 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #00 pc 00017404  /system/lib/libc.so (syscall+28) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #01 pc 000b6e49  /system/lib/libart.so (_ZN3art17ConditionVariable16WaitHoldingLocksEPNS_6ThreadE+92) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #02 pc 0029f17b  /system/lib/libart.so (_ZN3art7Monitor4WaitEPNS_6ThreadExibNS_11ThreadStateE+514) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #03 pc 002a09ab  /system/lib/libart.so (_ZN3art7Monitor4WaitEPNS_6ThreadEPNS_6mirror6ObjectExibNS_11ThreadStateE+258) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #04 pc 002af1f3  /system/lib/libart.so (_ZN3artL13Object_waitJIEP7_JNIEnvP8_jobjectxi+36) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #05 pc 00000655  /system/framework/arm/boot.oat (Java_java_lang_Object_wait__JI+96) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.Object.wait!(Native method) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   - waiting on <0x09b3b69d> (a java.lang.Object) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.Object.wait(Object.java:407) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:188) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   - locked <0x09b3b69d> (a java.lang.Object) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:209) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.Daemons$FinalizerDaemon.run(Daemons.java:204) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.Thread.run(Thread.java:761) 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]  04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422] "FinalizerWatchdogDaemon" prio=10 tid=7 Sleeping 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | group="" sCount=1 dsCount=0 obj=0x12c713a0 self=0xe4e4b600 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | sysTid=12209 nice=0 cgrp=default sched=0/0 handle=0xede1b920 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | state=S schedstat=( 962653 6709530 17 ) utm=0 stm=0 core=1 HZ=100 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | stack=0xedd19000-0xedd1b000 stackSize=1038KB 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | held mutexes= 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: __switch_to+0x8c/0x98 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: futex_wait_queue_me+0xd4/0x130 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: futex_wait+0xfc/0x210 04-05 15:29:59.390 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: do_futex+0xe0/0x920 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: compat_SyS_futex+0xe8/0x17c 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: cpu_switch_to+0x48/0x4c 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #00 pc 00017408  /system/lib/libc.so (syscall+32) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #01 pc 000b7271  /system/lib/libart.so (_ZN3art17ConditionVariable9TimedWaitEPNS_6ThreadExi+108) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #02 pc 0029f18b  /system/lib/libart.so (_ZN3art7Monitor4WaitEPNS_6ThreadExibNS_11ThreadStateE+530) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #03 pc 002a09ab  /system/lib/libart.so (_ZN3art7Monitor4WaitEPNS_6ThreadEPNS_6mirror6ObjectExibNS_11ThreadStateE+258) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #04 pc 002b3b79  /system/lib/libart.so (_ZN3artL12Thread_sleepEP7_JNIEnvP7_jclassP8_jobjectxi+56) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #05 pc 0008543b  /system/framework/arm/boot.oat (Java_java_lang_Thread_sleep__Ljava_lang_Object_2JI+126) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.Thread.sleep!(Native method) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   - sleeping on <0x0d96c712> (a java.lang.Object) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.Thread.sleep(Thread.java:371) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   - locked <0x0d96c712> (a java.lang.Object) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.Thread.sleep(Thread.java:313) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.Daemons$FinalizerWatchdogDaemon.sleepFor(Daemons.java:314) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.Daemons$FinalizerWatchdogDaemon.waitForFinalization(Daemons.java:336) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.Daemons$FinalizerWatchdogDaemon.run(Daemons.java:253) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.Thread.run(Thread.java:761) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]  04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422] "HeapTaskDaemon" prio=10 tid=8 Blocked 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | group="" sCount=1 dsCount=0 obj=0x12c71430 self=0xe4e4bb00 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | sysTid=12210 nice=0 cgrp=default sched=0/0 handle=0xedd16920 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | state=S schedstat=( 312438219 25726722 165 ) utm=28 stm=2 core=5 HZ=100 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | stack=0xedc14000-0xedc16000 stackSize=1038KB 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | held mutexes= 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: __switch_to+0x8c/0x98 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: futex_wait_queue_me+0xd4/0x130 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: futex_wait+0xfc/0x210 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: do_futex+0xe0/0x920 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: compat_SyS_futex+0xe8/0x17c 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: cpu_switch_to+0x48/0x4c 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #00 pc 00017408  /system/lib/libc.so (syscall+32) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #01 pc 000b7271  /system/lib/libart.so (_ZN3art17ConditionVariable9TimedWaitEPNS_6ThreadExi+108) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #02 pc 001b4da9  /system/lib/libart.so (_ZN3art2gc13TaskProcessor7GetTaskEPNS_6ThreadE+228) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #03 pc 001b545d  /system/lib/libart.so (_ZN3art2gc13TaskProcessor11RunAllTasksEPNS_6ThreadE+44) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #04 pc 001615cf  /system/framework/arm/boot-core-libart.oat (Java_dalvik_system_VMRuntime_runHeapTasks__+74) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at dalvik.system.VMRuntime.runHeapTasks(Native method) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   - waiting to lock an unknown object 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.Daemons$HeapTaskDaemon.run(Daemons.java:433) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.Thread.run(Thread.java:761) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]  04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422] "Binder:12199_1" prio=10 tid=9 Native 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | group="" sCount=1 dsCount=0 obj=0x12c715e0 self=0xeec05e00 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | sysTid=12212 nice=0 cgrp=default sched=0/0 handle=0xedb13920 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | state=S schedstat=( 21030519 9319843 73 ) utm=1 stm=0 core=1 HZ=100 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | stack=0xeda17000-0xeda19000 stackSize=1014KB 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | held mutexes= 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: __switch_to+0x8c/0x98 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: binder_thread_read+0xedc/0x1024 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: binder_ioctl+0x428/0x894 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: compat_sys_ioctl+0x120/0x1238 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: cpu_switch_to+0x48/0x4c 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #00 pc 00048668  /system/lib/libc.so (__ioctl+8) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #01 pc 0001ae3f  /system/lib/libc.so (ioctl+38) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #02 pc 0003cc87  /system/lib/libbinder.so (_ZN7android14IPCThreadState14talkWithDriverEb+202) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #03 pc 0003cd9d  /system/lib/libbinder.so (_ZN7android14IPCThreadState20getAndExecuteCommandEv+8) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #04 pc 0003d31b  /system/lib/libbinder.so (_ZN7android14IPCThreadState14joinThreadPoolEb+46) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #05 pc 0004f8c5  /system/lib/libbinder.so (???) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #06 pc 0000e345  /system/lib/libutils.so (_ZN7android6Thread11_threadLoopEPv+140) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #07 pc 000665f5  /system/lib/libandroid_runtime.so (_ZN7android14AndroidRuntime15javaThreadShellEPv+80) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #03 pc 0003cd9d  /system/lib/libbinder.so (_ZN7android14IPCThreadState20getAndExecuteCommandEv+8) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #04 pc 0003d31b  /system/lib/libbinder.so (_ZN7android14IPCThreadState14joinThreadPoolEb+46) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #05 pc 0004f8c5  /system/lib/libbinder.so (???) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #06 pc 0000e345  /system/lib/libutils.so (_ZN7android6Thread11_threadLoopEPv+140) 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | held mutexes= 04-05 15:29:59.391 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: do_futex+0xe0/0x920 04-05 15:29:59.392 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | sysTid=12233 nice=10 cgrp=bg_non_interactive sched=0/0 handle=0xd41f5920 04-05 15:29:59.392 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | state=S schedstat=( 612838966 42007916 246 ) utm=60 stm=0 core=2 HZ=100 04-05 15:29:59.392 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #05 pc 00029101  /system/lib/libhwui.so (_ZN7android10uirenderer12renderthread12RenderThread10threadLoopEv+284) 04-05 15:29:59.392 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]  04-05 15:29:59.392 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: do_futex+0xe0/0x920 04-05 15:29:59.393 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #04 pc 002af1f3  /system/lib/libart.so (_ZN3artL13Object_waitJIEP7_JNIEnvP8_jobjectxi+36) 04-05 15:29:59.393 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   - waiting on <0x009a1f99> (a java.lang.Object) 04-05 15:29:59.393 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at sun.misc.Unsafe.park(Unsafe.java:325) 04-05 15:29:59.393 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #05 pc 000665f5  /system/lib/libandroid_runtime.so (_ZN7android14AndroidRuntime15javaThreadShellEPv+80) 04-05 15:29:59.393 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #06 pc 000470b3  /system/lib/libc.so (_ZL15__pthread_startPv+22) 04-05 15:29:59.393 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #07 pc 00019e3d  /system/lib/libc.so (__start_thread+6) 04-05 15:29:59.393 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   (no managed stack frames) 04-05 15:29:59.393 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | state=S schedstat=( 10616207 5243332 255 ) utm=0 stm=0 core=2 HZ=100 04-05 15:29:59.393 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.Object.wait!(Native method) 04-05 15:29:59.393 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at com.android.okhttp.okio.AsyncTimeout.awaitTimeout(AsyncTimeout.java:323) 04-05 15:29:59.394 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: futex_wait_queue_me+0xd4/0x130 04-05 15:29:59.394 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: cpu_switch_to+0x48/0x4c 04-05 15:29:59.394 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #04 pc 0000e3c1  /system/lib/libutils.so (_ZN7android6Thread11_threadLoopEPv+264) 04-05 15:29:59.394 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #05 pc 000665f5  /system/lib/libandroid_runtime.so (_ZN7android14AndroidRuntime15javaThreadShellEPv+80) 04-05 15:29:59.394 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]  04-05 15:29:59.394 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #00 pc 00048668  /system/lib/libc.so (__ioctl+8) 04-05 15:29:59.395 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #08 pc 000470b3  /system/lib/libc.so (_ZL15__pthread_startPv+22) 04-05 15:29:59.395 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: futex_wait+0xfc/0x210 04-05 15:29:59.396 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: futex_wait_queue_me+0xd4/0x130 04-05 15:29:59.396 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | state=S schedstat=( 28125105 4358959 16 ) utm=2 stm=0 core=5 HZ=100 04-05 15:29:59.397 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #05 pc 00000655  /system/framework/arm/boot.oat (Java_java_lang_Object_wait__JI+96) 04-05 15:29:59.397 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422] "androidmapsapi-vts_com.github.binpower93.stationhubapp_default" prio=10 tid=33 Native 04-05 15:29:59.397 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]  04-05 15:29:59.397 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | sysTid=12463 nice=10 cgrp=bg_non_interactive sched=0/0 handle=0xc7681920 04-05 15:29:59.398 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at android.os.MessageQueue.nativePollOnce(Native method) 04-05 15:29:59.398 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at android.os.MessageQueue.next(MessageQueue.java:323) 04-05 15:29:59.398 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: SyS_epoll_wait+0x2d0/0x358 04-05 15:29:59.398 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #06 pc 006276ed  /system/framework/arm/boot-framework.oat (Java_android_os_MessageQueue_nativePollOnce__JI+96) 04-05 15:29:59.398 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at com.google.maps.api.android.lib6.gmm6.store.d.run(:com.google.android.gms.DynamiteModulesB:20094) 04-05 15:29:59.398 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | held mutexes= 04-05 15:29:59.398 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: compat_SyS_epoll_pwait+0xd8/0x178 04-05 15:29:59.398 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | stack=0xc6f61000-0xc6f63000 stackSize=1038KB 04-05 15:29:59.399 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: cpu_switch_to+0x48/0x4c 04-05 15:29:59.399 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422] "androidmapsapi-ula-1" prio=10 tid=43 Waiting 04-05 15:29:59.399 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: cpu_switch_to+0x48/0x4c 04-05 15:29:59.399 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #00 pc 00017404  /system/lib/libc.so (syscall+28) 04-05 15:29:59.399 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #01 pc 000b6e49  /system/lib/libart.so (_ZN3art17ConditionVariable16WaitHoldingLocksEPNS_6ThreadE+92) 04-05 15:29:59.399 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #02 pc 0029f17b  /system/lib/libart.so (_ZN3art7Monitor4WaitEPNS_6ThreadExibNS_11ThreadStateE+514) 04-05 15:29:59.399 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #03 pc 002a09ab  /system/lib/libart.so (_ZN3art7Monitor4WaitEPNS_6ThreadEPNS_6mirror6ObjectExibNS_11ThreadStateE+258) 04-05 15:29:59.399 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607) 04-05 15:29:59.400 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | state=S schedstat=( 296146 0 1 ) utm=0 stm=0 core=0 HZ=100 04-05 15:29:59.400 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   | stack=0xc4c08000-0xc4c0a000 stackSize=1038KB 04-05 15:29:59.400 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1118) 04-05 15:29:59.401 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #03 pc 002a09ab  /system/lib/libart.so (_ZN3art7Monitor4WaitEPNS_6ThreadEPNS_6mirror6ObjectExibNS_11ThreadStateE+258) 04-05 15:29:59.401 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: futex_wait_queue_me+0xd4/0x130 04-05 15:29:59.401 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: compat_SyS_futex+0xe8/0x17c 04-05 15:29:59.401 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   - waiting on <0x08952109> (a java.lang.Object) 04-05 15:29:59.401 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   kernel: __switch_to+0x8c/0x98 04-05 15:29:59.402 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #05 pc 00000655  /system/framework/arm/boot.oat (Java_java_lang_Object_wait__JI+96) 04-05 15:29:59.402 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   - waiting on <0x0d85ff0e> (a java.lang.Object) 04-05 15:29:59.402 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.Thread.run(Thread.java:761) 04-05 15:29:59.402 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #03 pc 002a09ab  /system/lib/libart.so (_ZN3art7Monitor4WaitEPNS_6ThreadEPNS_6mirror6ObjectExibNS_11ThreadStateE+258) 04-05 15:29:59.402 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   native: #03 pc 002a09ab  /system/lib/libart.so (_ZN3art7Monitor4WaitEPNS_6ThreadEPNS_6mirror6ObjectExibNS_11ThreadStateE+258) 04-05 15:29:59.402 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.Object.wait!(Native method) 04-05 15:29:59.403 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:422]   at java.lang.Thread.run(Thread.java:761) 04-05 15:29:59.403 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:427] JNI DETECTED ERROR IN APPLICATION: use of deleted local reference 0x100019 04-05 15:29:59.403 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:427]     from void io.realm.internal.SharedRealm.nativeCommitTransaction(long) 04-05 15:29:59.403 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:427] "main" prio=5 tid=1 Runnable 04-05 15:29:59.403 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:427]   | group="main" sCount=0 dsCount=0 obj=0x74130000 self=0xeec05400 04-05 15:29:59.403 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:427]   | sysTid=12199 nice=-10 cgrp=default sched=0/0 handle=0xf18d2534 04-05 15:29:59.403 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:427]   native: #11 pc 000cc4e5  /system/lib/libart.so (_ZN3art8CheckJNI11CallMethodVEPKcP7_JNIEnvP8_jobjectP7_jclassP10_jmethodIDSt9__va_listNS_9Primitive4TypeENS_10InvokeTypeE+512) 04-05 15:29:59.403 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:427]   native: #20 pc 00080dcb  /data/app/com.github.binpower93.stationhubapp-2/lib/arm/librealm-jni.so (???) 04-05 15:29:59.403 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:427]   at io.realm.internal.SharedRealm.nativeCommitTransaction(Native method) 04-05 15:29:59.403 12199-12199/com.github.binpower93.stationhubapp A/art: art/runtime/runtime.cc:427]   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889) 04-05 15:29:59.416 12199-12199/com.github.binpower93.stationhubapp A/libc: Fatal signal 6 (SIGABRT)  code -6 in tid 12199 (3.stationhubapp)  Version of Realm and tooling Realm version(s): 3.1.0 (worked on 3.0.1 SNAPSHOT) Realm sync feature enabled: no Android Studio version: 2.3 Which Android version and device: Nexus 5X 7.1.2 (Beta),1
4443,17-04-06,Issue 4443 : realm getSchema incorrect return type ， Issue #4443 ， realm/realm-java ， GitHub realm.getSchema() function return object from type StandardRealmSchema this type is object have packcge only access so it is impossible to access his methods  the only way is to convert this object to (RealmSchema)  i think it is mistake the return type need to be RealmSchema and not StandardRealmSchema realm version in use :3.1.0,0
4452,17-04-07,Issue 4452 : com.android.build.api.transform.TransformException: java.util.zip.ZipException: duplicate entry: io/realm/DefaultRealmModule.class ， Issue #4452 ， realm/realm-java ， GitHub In my app: Realm.init(this); RealmConfiguration realmConfiguration = new RealmConfiguration.Builder()     .name("myrealm.app")     .modules(Realm.getDefaultModule() new SampleRealmModule())     .schemaVersion(1)     .build();  Realm.setDefaultConfiguration(realmConfiguration); In my library @RealmModule(library = true allClasses = true) public class SampleRealmModule {  },0
4461,17-04-10,Issue 4461 : In one plus mobile phone has a problem  trouble to help solve the next  the mobile phone system 7.0  thanks ， Issue #4461 ， realm/realm-java ， GitHub FATAL EXCEPTION: main Process: cn.funtalk.miao  PID: 21507 io.realm.exceptions.RealmError: Unrecoverable error. Invalid argument in /home/cc/repo/realm/realm-java-release/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 87 at io.realm.internal.SharedRealm.nativeGetSharedRealm(Native Method) at io.realm.internal.SharedRealm.getInstance(SharedRealm.java:208) at io.realm.internal.SharedRealm.getInstance(SharedRealm.java:186) at io.realm.RealmCache.createRealmOrGetFromCache(RealmCache.java:124) at io.realm.Realm.getDefaultInstance(Realm.java:209) at cn.funtalk.miao.pojo.DbUtils$dbWhereBuilder.(DbUtils.java:67) at cn.funtalk.miao.packaging.service.business.StepManager.getCurrentStep(StepManager.java:354) at cn.funtalk.miao.packaging.service.business.StepManager.(StepManager.java:74) at cn.funtalk.miao.packaging.service.business.StepManager.init(StepManager.java:89) at cn.funtalk.miao.packaging.service.CommonService.onBind(CommonService.java:73) at android.app.ActivityThread.handleBindService(ActivityThread.java:3281) at android.app.ActivityThread.-wrap3(ActivityThread.java) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1598) at android.os.Handler.dispatchMessage(Handler.java:102) at android.os.Looper.loop(Looper.java:154) at android.app.ActivityThread.main(ActivityThread.java:6209) at java.lang.reflect.Method.invoke(Native Method) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755),0
4463,17-04-11,Issue 4463 : OsObject.notifyChangeListeners() get obfuscated by the proguard ， Issue #4463 ， realm/realm-java ， GitHub I've got this error on LTE. No wifi. What's matter? I tested with proguard. 04-11 10:11:52.025 19739-19739/? E/BoostFramework: BoostFramework() : Exception_1 = java.lang.ClassNotFoundException: Didn't find class "com.qualcomm.qti.Performance" on path: DexPathList[[] nativeLibraryDirectories=[/system/lib  /vendor/lib]] 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] JNI DETECTED ERROR IN APPLICATION: mid == null 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] in call to CallVoidMethodV 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] from void android.os.MessageQueue.nativePollOnce(long  int) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] "main" prio=5 tid=1 Runnable 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] | group="main" sCount=0 dsCount=0 obj=0x7660c968 self=0xeda85400 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] | sysTid=19739 nice=0 cgrp=default sched=0/0 handle=0xf1038534 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] | state=R schedstat=( 694933766 45404731 1180 ) utm=55 stm=14 core=5 HZ=100 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] | stack=0xff704000-0xff706000 stackSize=8MB 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] | held mutexes= "mutator lock"(shared held) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] native: #00 pc 00350b49 /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiP12BacktraceMapPKcPNS_9ArtMethodEPv+128) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] native: #1 pc 00331079 /system/lib/libart.so (_ZNK3art6Thread9DumpStackERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEbP12BacktraceMap+304) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] native: #2 pc 00239873 /system/lib/libart.so (ZN3art9JavaVMExt8JniAbortEPKcS2+846) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] native: #3 pc 00239e1f /system/lib/libart.so (_ZN3art9JavaVMExt9JniAbortFEPKcS2_z+66) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] native: #4 pc 0026a759 /system/lib/libart.so (_ZN3art3JNI15CallVoidMethodVEP7_JNIEnvP8_jobjectP10_jmethodIDSt9__va_list+524) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] native: #5 pc 00022cd7 /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] native: #6 pc 0005e111 /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] native: #7 pc 0002c685 /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] native: #8 pc 0007b501 /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] native: #9 pc 0007b615 /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] native: #10 pc 0008f853 /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] native: #11 pc 0008fa09 /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] native: #12 pc 00080e3d /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] native: #13 pc 00073bf1 /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] native: #14 pc 0009152d /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] native: #15 pc 00091e21 /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] native: #16 pc 00011e77 /system/lib/libutils.so (_ZN7android6Looper9pollInnerEi+614) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] native: #17 pc 00011b83 /system/lib/libutils.so (_ZN7android6Looper8pollOnceEiPiS1_PPv+26) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] native: #18 pc 00097c2d /system/lib/libandroid_runtime.so (_ZN7android18NativeMessageQueue8pollOnceEP7_JNIEnvP8_jobjecti+22) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] native: #19 pc 007035d5 /system/framework/arm/boot-framework.oat (Java_android_os_MessageQueue_nativePollOnce__JI+96) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] at android.os.MessageQueue.nativePollOnce(Native method) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] at android.os.MessageQueue.next(MessageQueue.java:323) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] at android.os.Looper.loop(Looper.java:136) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] at android.app.ActivityThread.main(ActivityThread.java:6692) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] at java.lang.reflect.Method.invoke!(Native method) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1468) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1358) 04-11 10:11:52.593 19739-19739/? A/art: art/runtime/java_vm_ext.cc:470] 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] Runtime aborting... 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] Aborting thread: 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] "main" prio=5 tid=1 Native 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] | group="" sCount=0 dsCount=0 obj=0x7660c968 self=0xeda85400 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] | sysTid=19739 nice=0 cgrp=default sched=0/0 handle=0xf1038534 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] | state=R schedstat=( 763534573 48718771 1287 ) utm=58 stm=18 core=4 HZ=100 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] | stack=0xff704000-0xff706000 stackSize=8MB 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] | held mutexes= "abort lock" 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #00 pc 00350b49 /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiP12BacktraceMapPKcPNS_9ArtMethodEPv+128) 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #1 pc 00331079 /system/lib/libart.so (_ZNK3art6Thread9DumpStackERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEbP12BacktraceMap+304) 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #2 pc 00324069 /system/lib/libart.so (_ZNK3art10AbortState10DumpThreadERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEPNS_6ThreadE+24) 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #3 pc 00323ef1 /system/lib/libart.so (_ZNK3art10AbortState4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+424) 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #4 pc 0031ad03 /system/lib/libart.so (_ZN3art7Runtime5AbortEv+90) 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #5 pc 000b4ac7 /system/lib/libart.so (_ZN3art10LogMessageD2Ev+866) 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #6 pc 00239b55 /system/lib/libart.so (ZN3art9JavaVMExt8JniAbortEPKcS2+1584) 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #7 pc 00239e1f /system/lib/libart.so (_ZN3art9JavaVMExt9JniAbortFEPKcS2_z+66) 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #8 pc 0026a759 /system/lib/libart.so (_ZN3art3JNI15CallVoidMethodVEP7_JNIEnvP8_jobjectP10_jmethodIDSt9__va_list+524) 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #9 pc 00022cd7 /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #10 pc 0005e111 /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #11 pc 0002c685 /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #12 pc 0007b501 /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #13 pc 0007b615 /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #14 pc 0008f853 /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #15 pc 0008fa09 /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #16 pc 00080e3d /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #17 pc 00073bf1 /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #18 pc 0009152d /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #19 pc 00091e21 /data/app/com.product.app-1/lib/arm/librealm-jni.so (???) 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #20 pc 00011e77 /system/lib/libutils.so (_ZN7android6Looper9pollInnerEi+614) 04-11 10:11:52.766 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #21 pc 00011b83 /system/lib/libutils.so (_ZN7android6Looper8pollOnceEiPiS1_PPv+26) 04-11 10:11:52.767 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #22 pc 00097c2d /system/lib/libandroid_runtime.so (_ZN7android18NativeMessageQueue8pollOnceEP7_JNIEnvP8_jobjecti+22) 04-11 10:11:52.767 19739-19739/? A/art: art/runtime/runtime.cc:403] native: #23 pc 007035d5 /system/framework/arm/boot-framework.oat (???) 04-11 10:11:52.767 19739-19739/? A/art: art/runtime/runtime.cc:403] at android.os.MessageQueue.nativePollOnce(Native method) 04-11 10:11:52.767 19739-19739/? A/art: art/runtime/runtime.cc:403] at android.os.MessageQueue.next(MessageQueue.java:323) 04-11 10:11:52.767 19739-19739/? A/art: art/runtime/runtime.cc:403] at android.os.Looper.loop(Looper.java:136) 04-11 10:11:52.767 19739-19739/? A/art: art/runtime/runtime.cc:403] at android.app.ActivityThread.main(ActivityThread.java:6692) 04-11 10:11:52.767 19739-19739/? A/art: art/runtime/runtime.cc:403] at java.lang.reflect.Method.invoke!(Native method) 04-11 10:11:52.767 19739-19739/? A/art: art/runtime/runtime.cc:403] at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1468) 04-11 10:11:52.767 19739-19739/? A/art: art/runtime/runtime.cc:403] at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1358) 04-11 10:11:52.767 19739-19739/? A/art: art/runtime/runtime.cc:403] Pending exception java.lang.NoSuchMethodError: no non-static method "Lio/realm/internal/OsObject;.notifyChangeListeners([Ljava/lang/String;)V" 04-11 10:11:52.767 19739-19739/? A/art: art/runtime/runtime.cc:403] at void android.os.MessageQueue.nativePollOnce(long  int) (MessageQueue.java:-2) 04-11 10:11:52.767 19739-19739/? A/art: art/runtime/runtime.cc:403] at android.os.Message android.os.MessageQueue.next() (MessageQueue.java:323) 04-11 10:11:52.767 19739-19739/? A/art: art/runtime/runtime.cc:403] at void android.os.Looper.loop() (Looper.java:136) 04-11 10:11:52.767 19739-19739/? A/art: art/runtime/runtime.cc:403] at void android.app.ActivityThread.main(java.lang.String[]) (ActivityThread.java:6692) 04-11 10:11:52.767 19739-19739/? A/art: art/runtime/runtime.cc:403] at java.lang.Object java.lang.reflect.Method.invoke!(java.lang.Object  java.lang.Object[]) (Method.java:-2) 04-11 10:11:52.767 19739-19739/? A/art: art/runtime/runtime.cc:403] at void com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run() (ZygoteInit.java:1468) 04-11 10:11:52.767 19739-19739/? A/art: art/runtime/runtime.cc:403] at void com.android.internal.os.ZygoteInit.main(java.lang.String[]) (ZygoteInit.java:1358) 04-11 10:11:52.767 19739-19739/? A/art: art/runtime/runtime.cc:403] Dumping all threads without appropriate locks held: thread list lock mutator lock Version of Realm and tooling Realm version(s): 3.1.1 Realm sync feature enabled: no Android Studio version: 2.3.1 Which Android version and device: Galaxy S7 7.0,0
4471,17-04-11,Issue 4471 : Don't reset the `SharedRealm.nativePtr` in `close()` ， Issue #4471 ， realm/realm-java ， GitHub Goal What do you want to achieve? I want to get List from realm db. Expected Results Get filled list. Actual Results 04-11 15:48:04.274 7158-7158/org.kaaproject.kaa.examples.gpiocontrol A/libc: Fatal signal 11 (SIGSEGV)  code 1  fault addr 0x0 in tid 7158 (les.gpiocontrol) 04-11 15:48:04.376 192-192/? A/DEBUG: pid: 7158  tid: 7158  name: les.gpiocontrol  >>> org.kaaproject.kaa.examples.gpiocontrol <<< 04-11 15:48:04.438 192-192/? A/DEBUG:     #00 pc 0002ace6  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/lib/arm/librealm-jni.so (Java_io_realm_internal_SharedRealm_nativeIsInTransaction+21) 04-11 15:48:04.439 192-192/? A/DEBUG:     #01 pc 011b6265  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (boolean io.realm.internal.SharedRealm.nativeIsInTransaction(long)+88) 04-11 15:48:04.439 192-192/? A/DEBUG:     #02 pc 011b7b91  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (boolean io.realm.internal.SharedRealm.isInTransaction()+68) 04-11 15:48:04.439 192-192/? A/DEBUG:     #03 pc 00d8fe15  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (void io.realm.internal.Collection$Iterator.<init>(io.realm.internal.Collection)+296) 04-11 15:48:04.439 192-192/? A/DEBUG:     #04 pc 0119fe53  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (void io.realm.OrderedRealmCollectionImpl$RealmCollectionIterator.<init>(io.realm.OrderedRealmCollectionImpl)+102) 04-11 15:48:04.439 192-192/? A/DEBUG:     #05 pc 014ce709  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (java.util.Iterator io.realm.OrderedRealmCollectionImpl.iterator()+76) 04-11 15:48:04.439 192-192/? A/DEBUG:     #06 pc 01603e99  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (java.util.Iterator io.realm.RealmResults.iterator()+60) 04-11 15:48:04.439 192-192/? A/DEBUG:     #07 pc 00f23f41  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (java.util.List org.kaaproject.kaa.examples.gpiocontrol.utils.Utils.getViewDeviceListFromGroup(java.util.List)+100) 04-11 15:48:04.439 192-192/? A/DEBUG:     #08 pc 00f23805  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (java.util.List org.kaaproject.kaa.examples.gpiocontrol.utils.Utils.getMockedHeaderList(org.kaaproject.kaa.examples.gpiocontrol.storage.Repository)+128) 04-11 15:48:04.439 192-192/? A/DEBUG:     #09 pc 01580557  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (void org.kaaproject.kaa.examples.gpiocontrol.screen.deviceSwitchManagement.DeviceSwitchManagementFragment.setupRecyclerView(android.content.Context  android.os.Bundle)+442) 04-11 15:48:04.439 192-192/? A/DEBUG:     #10 pc 015823fd  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (android.view.View org.kaaproject.kaa.examples.gpiocontrol.screen.deviceSwitchManagement.DeviceSwitchManagementFragment.onCreateView(android.view.LayoutInflater  android.view.ViewGroup  android.os.Bundle)+568) 04-11 15:48:04.439 192-192/? A/DEBUG:     #11 pc 00a4d889  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (android.view.View android.support.v4.app.Fragment.performCreateView(android.view.LayoutInflater  android.view.ViewGroup  android.os.Bundle)+132) 04-11 15:48:04.439 192-192/? A/DEBUG:     #12 pc 00f9b179  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (void android.support.v4.app.FragmentManagerImpl.moveToState(android.support.v4.app.Fragment  int  int  int  boolean)+6196) 04-11 15:48:04.439 192-192/? A/DEBUG:     #13 pc 00f98f6d  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (void android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(android.support.v4.app.Fragment)+352) 04-11 15:48:04.439 192-192/? A/DEBUG:     #14 pc 00f9956d  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (void android.support.v4.app.FragmentManagerImpl.moveToState(int  boolean)+456) 04-11 15:48:04.440 192-192/? A/DEBUG:     #15 pc 00f841ff  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (void android.support.v4.app.BackStackRecord.executeOps()+1378) 04-11 15:48:04.440 192-192/? A/DEBUG:     #16 pc 00f8c44b  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (void android.support.v4.app.FragmentManagerImpl.executeOps(java.util.ArrayList  java.util.ArrayList  int  int)+462) 04-11 15:48:04.440 192-192/? A/DEBUG:     #17 pc 00f8c945  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (void android.support.v4.app.FragmentManagerImpl.executeOpsTogether(java.util.ArrayList  java.util.ArrayList  int  int)+1128) 04-11 15:48:04.440 192-192/? A/DEBUG:     #18 pc 00f8e4fd  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (void android.support.v4.app.FragmentManagerImpl.optimizeAndExecuteOps(java.util.ArrayList  java.util.ArrayList)+944) 04-11 15:48:04.440 192-192/? A/DEBUG:     #19 pc 00f96c17  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (boolean android.support.v4.app.FragmentManagerImpl.execPendingActions()+218) 04-11 15:48:04.440 192-192/? A/DEBUG:     #20 pc 00a52cb1  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (boolean android.support.v4.app.FragmentController.execPendingActions()+76) 04-11 15:48:04.440 192-192/? A/DEBUG:     #21 pc 016dcae5  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (void android.support.v4.app.FragmentActivity.onStart()+296) 04-11 15:48:04.440 192-192/? A/DEBUG:     #22 pc 01748fad  /data/app/org.kaaproject.kaa.examples.gpiocontrol-2/oat/arm/base.odex (offset 0x9e7000) (void android.support.v7.app.AppCompatActivity.onStart()+56)  E.g. full stack trace with exception Steps & Code to Reproduce Here is the full project https://github.com/iamtodor/gpio-control/tree/realm-report It appearances once DeviceSwitchManagementFragment will start Describe your current debugging efforts. If I use List<Group> groupList = instance.where(Group.class).findAll(); - app crashes with the stacktrace  that I attached above either I use this option List<Group> groupList = instance.copyFromRealm(instance.where(Group.class).findAll()); getting data is okay  but after all operations I have to write within transaction realm.insertOrUpdate(group); Code Sample https://github.com/iamtodor/gpio-control/tree/realm-report  > Your code here. Bigger samples should ideally be as separate Android Studio project   > in gists/repositories or privately at help@realm.io)  Version of Realm and tooling Realm version(s): 3.0.0 Realm sync feature enabled: no Android Studio version: 2.2.3 Which Android version and device: Nexus 7 2013  6.0.1,0
4474,17-04-12,Issue 4474 : OrderedRealmCollectionChangeListener issue when a change causes insertion or removal ， Issue #4474 ， realm/realm-java ， GitHub Goal Have RealmResults filtered by a field (isBoomarked  in my case)  change value of the field to insert or remove objects. Expected Results Change isBookmarked value on a single object  and get a changeSet with a single deletionRange or insertionRange. Actual Results Sometimes a "random" changeRange is included in the changeSet. Example When isBookmarked is changed to false on single object  the changeSet usually comes with: a deletionRange with the startIndex of the deleted object and length = 1 -> this is correct; a changeRange with startIndex = 0 and length = 1 -> this seems like a bug  and it happens very often (not always). The removed object doesn't have startIndex = 0. Code (Kotlin) where(Item::class.java).equalTo("isBookmarked"  true).findAllSortedAsync("id"  Sort.DESCENDING) realm.executeTransaction { realm ->     item.isBookmarked = !item.isBookmarked } Version of Realm and tooling Realm version(s): 3.1.1,0
4487,17-04-13,Issue 4487 : RealmObjects from linking objects hold wrong table. ， Issue #4487 ， realm/realm-java ， GitHub Following test fails because of Table object in sourceFromBacklinks is wrong.         realm.beginTransaction();         final BacklinksTarget target = realm.createObject(BacklinksTarget.class);         target.setId(1);         final BacklinksSource source = realm.createObject(BacklinksSource.class);         source.setChild(target);         realm.commitTransaction();          final RealmResults<BacklinksSource> parents = target.getParents();         final BacklinksSource sourceFromBacklinks = parents.first();          assertEquals(source  sourceFromBacklinks);  The Table object is only used in equals()  hashCode()  and default value assignment. Since RealmObjects from linking objects never set default values  this bug affects only equals() and hashCode().,0
4493,17-04-14,Issue 4493 : Cannot get Realm instance: io.realm.exceptions.RealmFileException: Unable to open a realm at path  ， Issue #4493 ， realm/realm-java ， GitHub Goal Call Realm realm = Realm.getInstance(mRealmConfig); where mRealmConfig = RealmConfiguration.Builder() .schemaVersion(2) .deleteRealmIfMigrationNeeded() .build(); Expected Results Get a Realm without exception. Actual Results The following exception is thrown: io.realm.exceptions.RealmFileException: Unable to open a realm at path '/data/data/com.dropbox.paper/files/default.realm.management': make_dir() failed: No such file or directory. (make_dir() failed: No such file or directory) (/data/data/com.dropbox.paper/files/default.realm.management) in /home/cc/repo/realm/release/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 217 Kind: ACCESS_ERROR. More here: realm-exception.txt Steps & Code to Reproduce This happens on first launch of the app. Version of Realm and tooling Realm version(s): 2.2.1 Tried upgrading to 3.1.2 but still seeing the same issue. Realm sync feature enabled: unsure. Would this affect this? How can I turn this on/off? Android Studio version: 2.3 Which Android version and device: Nexus 5 on 6.0.1 Google Pixel 7.1.1,1
4495,17-04-14,Issue 4495 : NullPointerException on RealmChangeListener with async queries workflow ， Issue #4495 ， realm/realm-java ， GitHub Goal By making use of two RealmChangeListeners and one async query  my goal is to reutilize objects when possible  or create a new ones if needed. Results Before Realm 3.0 this workflow worked well; On 3.0.0 it stopped working  because of #4352; On 3.1.1 it throws a NullPointerException. java.lang.NullPointerException: Attempt to invoke virtual method 'void io.realm.internal.Collection.removeListener(java.lang.Object  io.realm.RealmChangeListener)' on a null object reference 	at io.realm.internal.PendingRow.clearPendingCollection(PendingRow.java:205) 	at io.realm.internal.PendingRow.notifyFrontEnd(PendingRow.java:236) 	at io.realm.internal.PendingRow.access$000(PendingRow.java:18) 	at io.realm.internal.PendingRow$1.onChange(PendingRow.java:46) 	at io.realm.internal.PendingRow$1.onChange(PendingRow.java:43) 	at io.realm.internal.Collection$RealmChangeListenerWrapper.onChange(Collection.java:62) 	at io.realm.internal.Collection$CollectionObserverPair.onChange(Collection.java:43) 	at io.realm.internal.Collection$Callback.onCalled(Collection.java:87) 	at io.realm.internal.Collection$Callback.onCalled(Collection.java:77) 	at io.realm.internal.ObserverPairList.foreach(ObserverPairList.java:108) 	at io.realm.internal.Collection.notifyChangeListeners(Collection.java:524) 	at android.os.MessageQueue.nativePollOnce(Native Method) 	at android.os.MessageQueue.next(MessageQueue.java:143) 	at android.os.Looper.loop(Looper.java:122) 	at android.app.ActivityThread.main(ActivityThread.java:5254) 	at java.lang.reflect.Method.invoke(Native Method) 	at java.lang.reflect.Method.invoke(Method.java:372) 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903) 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)  Steps & Code to Reproduce The bug seems to occur when the last Transaction tries to call its listeners  after item.reset(); doThings(item); is never called. Classes public class Item extends RealmObject {      public static Item create(Long id) {         Item item = new Item();         item.id = id;         return item;     }      @PrimaryKey     public Long id;      public String name;      public Feed parentFeed;       public void reset() {         name = "";     } } public class Feed extends RealmObject {      @PrimaryKey     public Long id;      public String name; } Code Sample final Item item = getRealm().where(Item.class).isNull("parentFeed").findFirstAsync();  // Create a new item  if no valid item is found. item.addChangeListener(new RealmChangeListener<Item>() {      @Override     public void onChange(Item item) {         if (!item.isValid()) {             item.removeChangeListener(this);              getRealm().executeTransaction(new Realm.Transaction() {                  @Override                 public void execute(Realm realm) {                     getRealm().copyToRealm(Item.create(getLastId()));                 }             });         }     } });  // Wait for valid item  reset  and use it to do things. item.addChangeListener(new RealmChangeListener<Item>() {      @Override     public void onChange(final Item item) {         if (item.isValid()) {             item.removeChangeListener(this);              getRealm().executeTransaction(new Realm.Transaction() {                  @Override                 public void execute(Realm realm) {                     item.reset();                 }             });              doThings(item);         }     } }); Notes I could use just a single RealmChangeListener  but I'm using Kotlin in my project  and I'm making use of two different extensions functions  which is why I end up using two different listeners. Version of Realm Realm version(s): 3.1.1,0
4499,17-04-14,Issue 4499 : Accessing backlinks field should throw IllegalState instead of IllegalArgument if the object is deleted or not loaded ， Issue #4499 ， realm/realm-java ， GitHub accessing backlinks of deleted or not loaded object is now throwing IllegalArgumentException. This should be IllegalStateException.,0
4502,17-04-16,Issue 4502 : add/remove listeners in onStart/onStop causes crash ， Issue #4502 ， realm/realm-java ， GitHub Goal Starting with Realm 3.1.0  I can cause a crash by adding/removing a RealmObject listener in onStart/onStop. I have created a test project  with a junit test. The junit test passes when using Realm 3.0.0  but crashes with Realm 3.1.0  3.1.1  and 3.1.2 Goal: not crash. Actual Results The junit error is: Test failed to run to completion. Reason: 'Instrumentation run failed due to 'Native crash''. Check device logcat for details The logcat: logcat.txt Steps & Code to Reproduce To reproduce the problem  download the Android Studio project (RealmBug) in the given repo  and run the test "test()". The test project is comprised of 2 activities. MainActivity has a RealmObject. It adds/removes a listener to the RealmObject in onStart/onStop. SecondActivity is effectively empty. To see the problem (this is what the junit test "test()" does): start MainActivity MainActivity.onStart() will attach listener to RealmObject click on the button to launch SecondActivity MainActivity.onStop() will remove listener from RealmObject click on the back arrow  to return to MainActivity MainActivity.onStart() is called  then crash happens Observations: If the call to "removeAllChangeListeners" in onStop() is commented out  the program no longer crashes If the call to "removeAllChangeListeners" is replaced by "removeChangeListener"  the program still crashes Code Sample https://clo_knibbe@bitbucket.org/clo_knibbe/realmbug.git Version of Realm and tooling Realm version(s): 3.1.0  3.1.1  3.1.2 Realm sync feature enabled: no Android Studio version: 2.3 Which Android version and device: Nexus 7 AVD  API 23,0
4517,17-04-19,Issue 4517 : RealmRecyclerView not showing data on initial sync then crash ， Issue #4517 ， realm/realm-java ， GitHub Bug Description The RealmRecyclerView does not show data on initial login to a new Realm Object Server. It shows the correct number of items in the list  but the data is all blank. The next item that comes in  which matches the criteria for the query backing the list  causes the app to crash. Alternatively  tapping either of the buttons in any cell causes a crash. The only way around to resolve this is to destroy the activity and relaunch. Either by rotating the screen or manually closing it through the task manager/recents button. This happens on a Nexus 6p device as well as a simulated Nexus 6P AVD. Steps to reproduce Generically you could produced this via Deploy a Realm Object Server  connect to it and create data. Create a fresh Nexus 6p (or other) AVD device in Android studio (or just wipe the data of an existing). Need to have the app freshly installed. Launch the app  the test app should login (similar to that of this example)  then go to an activity with just a RecyclerView showing the data (similar to this example). Specifically you can quickly reproduce this using the RealmSurvey demo app. Deploy a Realm Object Server. Follow the instructions to connect the the RealmSurvey admin client to the survey realm (https://github.com/realm-demos/realm-surveys/tree/master/macOS) This requires XCODE. Using the Admin app  enter some questions. Optionally  connect a Realm Object Browser to validate the data is present. Open and run the Realm Surveys Android client  per the instructions here. Expected Result The data would show with e.g. Actual Result But instead it is blank with the other crashing as described above. e.g. Additional Info Versions RMP: 1.4.1 Realm Gradle Plugin Versions: 2.3.2-3.1.3 Realm Adapters Version: 1.4.0  2.0.0 Note: I've also tried versions 3.0.0/2.0.0 and 2.3.2/1.4.0 and experienced the same issue. I do not see this issue in the iOS realm SDK. I also did not see this issue back with really old versions of RMP  perhaps 1.0 something around there. I haven't eliminated the possibility that I'm doing something wrong  however it seems that if this were the case rotating the device would have no effect. But just to be sure  here are the 2 class responsible for logging in and syncing: Main launcher activity: SplashActivity.java public class SplashActivity extends AppCompatActivity {      public static final String TAG = SplashActivity.class.getName();      public static final String HOST = "192.168.1.162"; // <-- Enter your Realm Object Server IP here     public static final String REALM_URL = "realm://" + HOST + ":9080/~/survey";     public static final String SERVER_URL = "http://" + HOST + ":9080/auth";     public static final String ID = "survey@demo.io";     public static final String PASSWORD = "password";      @Override     protected void onCreate(@Nullable Bundle savedInstanceState) {         super.onCreate(savedInstanceState);         setContentView(R.layout.activity_splash);         login();     }      private void login() {          SyncUser user = SyncUser.currentUser();         if(user != null) {             postLogin(user);          } else {              final SyncCredentials syncCredentials = SyncCredentials.usernamePassword(ID  PASSWORD  false);              SyncUser.loginAsync(syncCredentials  SERVER_URL  new SyncUser.Callback() {                 @Override                 public void onSuccess(SyncUser user) { postLogin(user); }                  @Override                 public void onError(ObjectServerError error) {                     logError(error);                 }             });         }      }      private void postLogin(SyncUser user) {         setRealmDefaultConfig(user);         goTo(SurveyActivity.class);     }      private void setRealmDefaultConfig(SyncUser user) {         Log.d(TAG  "Connecting to Sync Server at : ["  + REALM_URL.replaceAll("~"  user.getIdentity()) + "]");         final SyncConfiguration syncConfiguration = new SyncConfiguration.Builder(user  REALM_URL).schemaVersion(1).build();         Realm.setDefaultConfiguration(syncConfiguration);     }      private void goTo(Class<? extends AppCompatActivity> activityClass) {         Intent intent = new Intent(this  activityClass);         startActivity(intent);         finish();     }      private void logError(Throwable e) {         Log.e(TAG  "Realm Error"  e);     }  }  Recycler view activity: SurveyActivity.java public class SurveyActivity extends AppCompatActivity  {      private RecyclerView recyclerView;     private SharedPreferences sharedPreferences;     private Realm realm;     private RealmResults<Question> questions;      @Override     protected void onCreate(Bundle savedInstanceState) {         super.onCreate(savedInstanceState);         setContentView(R.layout.activity_survey);         recyclerView = (RecyclerView) findViewById(R.id.questionsList);          realm = Realm.getDefaultInstance();          questions = realm                 .where(Question.class)                 .isEmpty("answers")                 .or()                 .beginGroup()                 .not()                 .contains("answers.userId"  uniqueUserId())                 .endGroup()                 .findAllSortedAsync("timestamp");          recyclerView.setAdapter(new QuestionViewAdapter(this  questions  true));      }      @Override     protected void onDestroy() {         super.onDestroy();         recyclerView.setAdapter(null);         realm.close();     }      public void onQuestionAnswered(final String questionId  final boolean response) {         final String deviceUserId = uniqueUserId();         realm.executeTransactionAsync(new Realm.Transaction() {             @Override             public void execute(Realm bgRealm) {                 Question question = bgRealm.where(Question.class).equalTo("questionId"  questionId).findFirst();                 if(question != null) {                     Answer answer = question.getAnswers().where()                             .equalTo("userId" deviceUserId)                             .findFirst();                     if(answer == null) {                         answer = bgRealm.createObject(Answer.class);                         answer.setUserId(deviceUserId);                         answer.setQuestion(question);                         answer.setResponse(response);                         question.getAnswers().add(answer);                     }                 }             }         });     }      private String uniqueUserId() {          if(sharedPreferences == null) {             sharedPreferences = PreferenceManager.getDefaultSharedPreferences(getApplication());         }          String idForCurrentUser = sharedPreferences.getString(BuildConfig.APPLICATION_ID  null);         if (idForCurrentUser == null) {             idForCurrentUser = UUID.randomUUID().toString();             sharedPreferences.edit().putString(BuildConfig.APPLICATION_ID  idForCurrentUser).apply();         }          return idForCurrentUser;     }      } RecyclerViewAdapter: QuestionViewAdapter.java public class QuestionViewAdapter extends RealmRecyclerViewAdapter<Question  QuestionViewAdapter.ViewHolder> {      private SurveyActivity surveyResponseHandler;      public QuestionViewAdapter(@NonNull SurveyActivity surveyActivity  @Nullable OrderedRealmCollection<Question> data  boolean autoUpdate) {         super(data  autoUpdate);         surveyResponseHandler = surveyActivity;      }      @Override     public ViewHolder onCreateViewHolder(ViewGroup parent  int viewType) {         View view = LayoutInflater.from(parent.getContext())                 .inflate(R.layout.survey_item  parent  false);         return new ViewHolder(view);     }      @Override     public void onBindViewHolder(final ViewHolder holder  int position) {         final Question question = getData().get(position);          holder.questionText.setText(question.getQuestionText());         holder.yesButton.setEnabled(true);         holder.noButton.setEnabled(true);          View.OnClickListener clickListener = new View.OnClickListener() {             @Override             public void onClick(View v) {                  if(v == holder.yesButton) {                     holder.yesButton.setEnabled(false);                     holder.noButton.setEnabled(true);                 } else if (v == holder.noButton) {                     holder.noButton.setEnabled(false);                     holder.yesButton.setEnabled(true);                 }                  surveyResponseHandler.onQuestionAnswered(question.getQuestionId()  v == holder.yesButton);             }         };          holder.yesButton.setOnClickListener(clickListener);         holder.noButton.setOnClickListener(clickListener);     }      public class ViewHolder extends RecyclerView.ViewHolder {          public final View view;         public final TextView questionText;         public final Button yesButton;         public final Button noButton;          public ViewHolder(View view) {             super(view);             this.view = view;             questionText = (TextView) view.findViewById(R.id.questionText);             yesButton = (Button) view.findViewById(R.id.yesBtn);             noButton = (Button) view.findViewById(R.id.noBtn);         }      }      },0
4554,17-04-26,Issue 4554 : `createSnapshot()` causes parent object to be deleted ， Issue #4554 ， realm/realm-java ， GitHub Goal Delete the child Feed here: // Empty database before this.  getRealm().executeTransaction(new Realm.Transaction() {     @Override     public void execute(Realm realm) {         App app = realm.copyToRealm(App.create((long) 0));         Feed feed = realm.copyToRealm(Feed.create((long) 23));         app.feeds.add(feed);     } });  final App app = getRealm().where(App.class).equalTo("id"  0).findFirst(); final List<Feed> appFeeds = app.feeds.createSnapshot();  getRealm().beginTransaction(); appFeeds.get(0).deleteFromRealm(); getRealm().commitTransaction();  List<App> apps = getRealm().where(App.class).findAll(); List<Feed> feeds = getRealm().where(Feed.class).findAll();  Log.i("LOG"  "apps " + apps); Log.i("LOG"  "feeds " + feeds); Expected Results Child deleted. It works as intended without createSnapshot(). I/LOG: apps [App = [{id:0} {feeds:RealmList<Feed>[0]}]] I/LOG: feeds []  Actual Results Parent deleted. I/LOG: apps [] I/LOG: feeds [Feed = [{id:23}]]  Classes public class App extends RealmObject {      public static App create(Long id) {         App app = new App();         app.id = id;         app.feeds = new RealmList<>();         return app;     }      @PrimaryKey     public Long id;      public RealmList<Feed> feeds; } public class Feed extends RealmObject {      public static Feed create(Long id) {         Feed feed = new Feed();         feed.id = id;         return feed;     }      @PrimaryKey     public Long id; } Version of Realm and tooling Realm version: 3.1.3,0
4595,17-05-03,Issue 4595 : OnSuccess callback called infinite times for Async Transaction  ， Issue #4595 ， realm/realm-java ， GitHub Goal Do an action on onSuccess of async transaction Expected Results onSuccess listener invoked once Actual Results onSuccess Listener invoked infinite times Code Sample   realm.executeTransactionAsync(r -> {              ChatDialog dialog = r.where(ChatDialog.class).equalTo(                     ChatDialog.FIELDS.DIALOG_ID  id).findFirst();             if (dialog != null) {                 dialog.getChatInfo().setDealerChatStatus(status);                 dialog.getChatInfo().setConsumerChatStatus(status);             }         }  success); And here is the onSuccess Code  realm.executeTransaction(r -> {             List<ChatDialog> ChatDialogs = realm.where(ChatDialog.class).equalTo(                     ChatDialog.FIELDS.DEALER_CHAT_STATUS  localStatus).findAll();             if (ChatDialogs.size() > 0) {                 for (ChatDialog carChatDialog :ChatDialogs) {                     carChatDialog.getChatInfo().setDealerChatStatus(status);                    ChatService.start(context                              SyncDialogStatusCommand.getSyncDialogStatusCommandIntent(                                     carChatDialog.getDialogId()));                 }             }         });  Version of Realm and tooling Realm version(s): 3.0.0 but this issue not produceable on same code using version 1.2.0 Realm sync feature enabled: no Android Studio version: 2.3.1 Which Android version and device: 6.0.0  galaxy note 5,0
4611,17-05-08,Issue 4611 : Inverse Relationships not compatible with Kotlin ， Issue #4611 ， realm/realm-java ， GitHub We are trying to implement Inverse Relationships in our Kotlin codebase but when we decorate our model with the '@LinkingObjects' annotation we get the following compilation error: Error:Field 'messages' of type "io.realm.RealmResults<xxxxx.models.Message>" is not supported.  Warning:Unclosed files for the types '[io.realm.ChatRealmProxy]'; these types will not undergo annotation processing  The definition for the objects involved is the following: @RealmClass open class Chat : RealmModel {     ...     @LinkingObjects( "chat" )     var messages:RealmResults<Message>? = null     ... }   @RealmClass open class Message : RealmModel {     ...     open var chat:Chat? = null     ... } Is the use of annotations to implement the Inverse Relationships incompatible with Kotlin? Realm version: 3.1.4 Realm sync feature enabled: no Android Studio version: 2.4 Preview 7 Which Android version and device: Any,0
4624,17-05-11,Issue 4624 : Realm is causing a reboot on device running Android O developer preview ， Issue #4624 ， realm/realm-java ， GitHub On a Nexus 5X running Android O Developer preview 1  any request to Realm  query or transaction  seems to fail and cause the phone to reboot. What is even weirder is that changing how many field are present in RealmObject is changing how the error is triggered... Maybe it's related to this but I don't really know : https://developer.android.com/preview/behavior-changes.html#nl Actual Results Phone is rebooting when pressing Query or Save button Steps & Code to Reproduce : Clone this project : https://github.com/n0tnull/RealmCrashOnAndroidO Run it on a device with the Android O Developer Preview Click on Save or Query button Device will reboot Version of Realm and tooling : Realm version(s): 3.1.4 (latest) Android Studio version: 2.4 preview 7 com.android.tools.build:gradle:2.4.0-alpha7 Which Android version and device: Android O Dev Preview 1 - Nexus 5X,0
4630,17-05-11,Issue 4630 : denied { create } for name="access_control.new_commit.cv"  ， Issue #4630 ， realm/realm-java ， GitHub run my project on android5 or android6 is ok  but on android7.1.1 there is a bug: Bugs: E/REALM_JNI: jni: ThrowingException 5  Permission denied in /Users/blakemeike/Working/release/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 94  . type=1400 audit(0.0:315): avc: denied { create } for name="access_control.new_commit.cv" scontext=u:r:system_app:s0 tcontext=u:object_r:system_app_data_file:s0 tclass=fifo_file permissive=0 at io.realm.internal.SharedRealm.nativeGetSharedRealm(Native Method) at io.realm.internal.SharedRealm.getInstance(SharedRealm.java:209) at io.realm.internal.SharedRealm.getInstance(SharedRealm.java:186) at io.realm.RealmCache.createRealmOrGetFromCache(RealmCache.java:124) at io.realm.DynamicRealm.getInstance(DynamicRealm.java:67) at io.realm.BaseRealm$4.onResult(BaseRealm.java:634) at io.realm.RealmCache.invokeWithGlobalRefCount(RealmCache.java:295) at io.realm.BaseRealm.migrateRealm(BaseRealm.java:617) at io.realm.Realm.migrateRealm(Realm.java:1577) Version of Realm and tooling Realm version(s): 2.3.0 Realm sync feature enabled: yes Android Studio version: 2.2.3 Which Android version and device: android7.1.1,0
4644,17-05-15,Issue 4644 : Does realm keep all objects of a transaction in native memory until commit? ， Issue #4644 ， realm/realm-java ， GitHub We are doing a synchronization of data from a server backend. In order to have a clean  consistent database all the time  we do this within a transaction and commit only after everything went well. Now when getting too many items from the server (1.5 million items on first sync attempt)  our app crashes with the following exception: io.realm.internal.OutOfMemoryError: std::bad_alloc in /home/cc/repo/realm/release/realm/realm-library/src/main/cpp/io_realm_internal_Table.cpp line 669  05-15 08:27:05.334 11067-11108/com.timetac.timetaclibrary.test W/System.err:     at io.realm.internal.Table.nativeSetLong(Native Method) 05-15 08:27:05.334 11067-11108/com.timetac.timetaclibrary.test W/System.err:     at io.realm.NodeToUserRealmProxy.insertOrUpdate(NodeToUserRealmProxy.java:1071) 05-15 08:27:05.334 11067-11108/com.timetac.timetaclibrary.test W/System.err:     at io.realm.LibraryRealmModuleMediator.insertOrUpdate(LibraryRealmModuleMediator.java:761) 05-15 08:27:05.334 11067-11108/com.timetac.timetaclibrary.test W/System.err:     at io.realm.Realm.insertOrUpdate(Realm.java:1170)  Does that mean that all items are kept in memory by realm  until the commit? Can that be changed somehow? Are there any other ways or best practices for syncing?,0
4648,17-05-16,Issue 4648 : "Realm instance has been closed" exception on un-closed Realm ， Issue #4648 ， realm/realm-java ， GitHub @cmelchior and @Zhuinden recall quirky experiences with RealmCache causing an open Realm to appear closed. The issue arose  recently in #4641 This issue tracks identifying and fixing the bug,0
4651,17-05-17,Issue 4651 : Realm database migration is crashing on Android 7.1.2 ， Issue #4651 ， realm/realm-java ， GitHub The app is crashing with a realm exception that some tables do not exist in the schema. I made three tables in Realm Database and created the migration for them. The app update(migration) is working for all versions of Android  but for Android 7.1.2 is crashing the app with the mentioned exception. Expected Results The app not to crash and for the migration to work as expected. Actual Results The app is crashing with RealmException   table X is missing from the schema. Steps & Code to Reproduce I had version 1.0 of the app installed on my phone  then I installed the Android 7.1.2 update  then I updated my app to version 2.0 which contains the three new tables I mentioned. On a phone with 7.1.2 that had no previously installed versions of the app  the installation worked fine (e.g first install). I was using realm 1.3.0 when this crash occurred. I bumped the version to 3.1.4 and the crash was still happening. Unfortunately  a phone restart fixed the problem and it never reproduced  but this happened on 2 different phones  Nexus 6P and Google Pixel  so it is a major issue. Version of Realm and tooling Realm version(s): 1.3.0 and 3.1.4 Realm sync feature enabled: no Android Studio version: 2.3 Which Android version and device: Google Pixel ; Nexus 6P; Android 7.1.2,0
4657,17-05-18,Issue 4657 : Investigate odd memory use ， Issue #4657 ， realm/realm-java ， GitHub This application runs out of memory in a particularly precipitous manner. It is likely to be a bug and requires investigation. https://drive.google.com/open?id=0B8IZPM39UfyXWnN0RWgzUUkza2s,1
4658,17-05-18,Issue 4658 : Upgrading Synced Realms breaks existing clients ， Issue #4658 ， realm/realm-java ， GitHub Problem Changing the Realm Schema (e.g. Adding a new property on an object) breaks existing clients. Steps to reproduce using RealmTasks Android project. Clone RealmTasks Open the Android Project Open UserManager.java and add .schemaVersion(1) to the SyncConfiguration. Install RealmTasks onto 2 device simulators. (I used a Nexus 6 and 6P) Exit the app on both simulators. Add a property to the Task.java Realm object. Open UserManager.java and change the schema version to 2  i.e. .schemaVersion(2). Build and run on the 1st simulator Just launch the old version of the app on the 2nd simulator. (do not install the new version) Actual Result The updated client (1st simulator) - Runs with the new schema. The old client (2nd simulator) - Crashes after a sync happens with ROS and then every time you launch the app with the exception IllegalArgumentException: The schema was changed but the schema version was not updated. The configured schema version (1) must be greater than the version in the Realm file (2) in order to update the schema Expected Result The updated client (1st simulator) - Runs with the new schema. The old client (2nd simulator) - Runs with the old schema just fine. Would also be nice not to need to supply the schema version  but failure to do so prevents the upgrade. You wouldn't be able to install the new version on the 1st simulator. This also might be a bug in the Java binding  because the other platforms don't require schema version numbers.,0
4659,17-05-18,Issue 4659 : in android studio 3.0 Warnings:Transform 'RealmTransformer' uses scope PROJECT_LOCAL_DEPS which is deprecated and replaced with EXTERNAL_LIBRARIES error ， Issue #4659 ， realm/realm-java ， GitHub I regaled realm with android studio 2.7  it worked fine  but after upgrading to android studio 3.0 gradle gives warnings `Warning:Transform 'RealmTransformer' uses scope PROJECT_LOCAL_DEPS which is deprecated and replaced with EXTERNAL_LIBRARIES Warning:Transform 'RealmTransformer' uses scope SUB_PROJECTS_LOCAL_DEPS which is deprecated and replaced with EXTERNAL_LIBRARIES Warning:Transform 'RealmTransformer' uses scope PROJECT_LOCAL_DEPS which is deprecated and replaced with EXTERNAL_LIBRARIES Warning:Transform 'RealmTransformer' uses scope SUB_PROJECTS_LOCAL_DEPS which is deprecated and replaced with EXTERNAL_LIBRARIES Warning:Transform 'RealmTransformer' uses scope PROJECT_LOCAL_DEPS which is deprecated and replaced with EXTERNAL_LIBRARIES Warning:Transform 'RealmTransformer' uses scope SUB_PROJECTS_LOCAL_DEPS which is deprecated and replaced with EXTERNAL_LIBRARIES,0
4662,17-05-18,Issue 4662 : javassist.NotFoundException on Realm classes when running connectedAndroidTest ， Issue #4662 ， realm/realm-java ， GitHub Using last android plugin (3.0.0-alpha1) running the connectedAndroidTest task makes it crash on compile with a Error:Execution failed for task ':app:transformClassesWithRealmTransformerForDebugAndroidTest'. javassist.NotFoundException: com.package.myapp.model.MyModel the app compilation itself works  but the androidTest can't find the classes. It's a 100% Kotlin project. If you need a sample project I can give one for you I think (it is reproductible on the projects I work on) Version of Realm and tooling Realm version(s): 3.2.0 Realm sync feature enabled: no Android Studio version: 3.0.0 Using Kotlin and gradle 4.0.0-m2,0
4673,17-05-19,Issue 4673 : Invalid query: table not found in this schema. ， Issue #4673 ， realm/realm-java ， GitHub Hi there! Faced a strange issue: ProGuard build is crashing with next message: java.lang.IllegalArgumentException: Invalid query: table 'TableNameHere' not found in this schema. at aig.a(CachedFieldDescriptor.java:72) at aii.c(FieldDescriptor.java:284) at aii.a(FieldDescriptor.java:177) at ahb.b(RealmQuery.java:347) at ahb.a(RealmQuery.java:339)  Proguard main configuration part: -dontskipnonpubliclibraryclassmembers -optimizationpasses 7 -allowaccessmodification -repackageclasses -dontpreverify  Version of Realm and tooling Realm version(s): 3.2.1 Android Studio version: 2.3.2 Which Android version and device: 7.1.2  Nexus 5X  Pixel XL,0
4676,17-05-20,Issue 4676 : Call reconnect when refresh token is received ， Issue #4676 ， realm/realm-java ， GitHub For details: there should be very little to change binding-side to resolve this  just to call cancel_reconnect_delay() when receiving a refreshed token. See cocoa PR: realm/realm-cocoa#4957,0
4711,17-05-26,Issue 4711 : After `login_withAccessToken`  sync client thread not responses anymore ， Issue #4711 ， realm/realm-java ， GitHub To reproduce this issue  just pull branch mc/sync-client-no-responding-error and run test under package io.realm.objectserver.integrationtest It will run two tests  login_withAccessToken then expectSimpleCommit After login_withAccessToken finished  Realm can be opened successfully in expectSimpleCommit without any error message on the main process. However  when changes committed in the remote process  the sync client thread on the main process doesn't have any response to it. Very much like something is not right in sync. But if expectALot is enabled in ProcessCommitTests as well  the expectSimpleCommit will still fail but expectALot will pass. It feels like the sync client gets reset at some point.,1
4726,17-05-30,Issue 4726 : java.util.IllegalFormatConversionException: d != io.realm.ErrorCode error ， Issue #4726 ， realm/realm-java ， GitHub I used the latest version(3.2.0) of the realm-java. And I found a bug on the SyncSession.java 327 line. RealmLog.debug("Session[%s]: Failed to get access token (%d)"  configuration.getPath()  response.getError().getErrorCode());  The 2nd format of message is "%d"  but 2nd argument is ErrorCode enum. So  a exception was fire at the String.format(message  args). I hope the bugs will be fixed as soon as possible. Thanks. Version of Realm and tooling Realm version(s): 3.2.0 Realm sync feature enabled: yes Android Studio version: 2.3.2 Which Android version and device: Android version 7.0  Samsung Galaxy S8,0
4734,17-05-31,Issue 4734 : String formatting should not happen for ignored log ， Issue #4734 ， realm/realm-java ， GitHub In RealmLog  string formatting is always happening even when the log is ignored. We should do it only when the log entry is actually used.,0
4750,17-06-02,Issue 4750 : Malformed JSON when accessing synced Realms ， Issue #4750 ， realm/realm-java ， GitHub Goal Several users reported about their attempts to change permissions and make use of those extended permissions. It's not yet exactly clear yet when and where the error is happening  but from the reports we've received so far it appears to be related to client-side code paths used around permission management or accessing global Realms. realm/realm-mobile-platform#199 realm/realm-mobile-platform#202 realm/realm-mobile-platform#205 #4516 (comment) Preliminary Investigation Results In these cases the SDK is connecting with a malformed access token. The value used here must have been set to the sync client session  so that the value is passed into the header field X-Realm-Access-Token which is filled by the sync client implementation. [proxy] internal error. Code undefined  status: undefined  message: SyntaxError: Unexpected token j in JSON at position 0     at Object.parse (native)     at ProxyService.webSocketUpgradeHandler (/usr/lib/nodejs/realm-object-server-developer/.build/src/node/services/proxy.js:104:30)     at ProxyService.safeUpgrade (/usr/lib/nodejs/realm-object-server-developer/.build/src/node/services/proxy.js:78:12)     at emitThree (events.js:116:13)     at Server.emit (events.js:194:7)     at onParserExecuteCommon (_http_server.js:411:14)     at HTTPParser.onParserExecute (_http_server.js:379:5) Logs  we've received  show that the following headers are sent to the server when trying to establish a websockets connection: GET /realm-object-server HTTP/1.1 Connection: Upgrade Host: 192.168.1.70 Sec-WebSocket-Key: uGIkQ5M+ipdA8KBswVeGoQ== Sec-WebSocket-Protocol: io.realm.protocol Sec-WebSocket-Version: 13 Upgrade: websocket X-Realm-Access-Token: {"authUrl":"http:\/\/192.168.1.70:9080\/auth" "userToken":{"token":"" "token_data":{"identity":"a163774fa72aeabff4f05cfa472cccd3" "path":"" "expires":1811193952 "access":["unknown"] "is_admin":true}} "realms":[]}  The server would expect a Base64-encoded access token concatenated with its signature  separated by a colon. (basically interpreted as JSON.parse(tokenJson.split(':')[0])) Trying to interpret the given value as such would cause a syntax error as seen above. The syntax error occuring which is internally caught and causes that the request is rejected with status code 400 as Bad Request which eventually prevents the client from establishing a connection. The value given equals the internal JSON representation exclusively used by the Java SDK to represent an ObjectServerUser or SyncUser. Version of Realm and tooling This was reported for: Server OS & Version: Ubuntu 16.04  Realm Object Server v1.7.2 Client Version: 3.3.1 Realm sync feature enabled: yes Android Studio version: 2.3.2 (compileSdkVersion 25) Which Android version and device: unknown /c @bigfish24 @cmelchior @kneth,0
4788,17-06-15,Issue 4788 : Case.INSENSITIVE query broken at 3.1.3 ， Issue #4788 ， realm/realm-java ， GitHub It appears that case-insensitive queries are broken in some cases. It appears that if you have a field with the same string in different cases  querying on the field in a case-insensitive manner returns no results  rather than the expected two results. This behaviour was working in 3.1.2 but broke in 3.1.3. I suspect this may have been due to a change to realm core. It is still broken as of 3.3.2. See the Repo here with a failing test: https://github.com/51systems/RealmBugs The following test fails: realm.beginTransaction(); Dog dog1 = realm.copyToRealm(Dog.create("ROVER")); Dog dog2 = realm.copyToRealm(Dog.create("Rover")); realm.commitTransaction();  assertThat(realm.where(Dog.class).equalTo("name"  "ROVER"  Case.SENSITIVE).findAll()          containsInAnyOrder(dog1));  assertThat(realm.where(Dog.class).equalTo("name"  "Rover"  Case.SENSITIVE).findAll()          containsInAnyOrder(dog2));  //Fails here assertThat(realm.where(Dog.class).equalTo("name"  "rover"  Case.INSENSITIVE).findAll()          containsInAnyOrder(dog1  dog2));,0
4822,17-06-21,Issue 4822 : IllegalArgumentException: Could not parse user json ， Issue #4822 ， realm/realm-java ， GitHub Goal I'm trying to create a synced realm database Expected Results That the database should not crash even if it failed to login Actual Results SyncUser.currentUser throws an exception  crashing the whole application and it's not possible to delete that invalid user. The error is something like: Caused by:  java.lang.IllegalArgumentException: Could not parse user json: eyJpZGVudGl0eSI6IjQ0ZWU5Y2ZlNGMwNDc5YTVmZDU4MWMwOTQ5OTI5Y2YxIiwiZXhwaXJlcyI6MTgxMzM1NDkzNCwiYXBwX2lkIjoiY29tLmxvc3RwaXhlbHMuZmllbGRzZXJ2aWNlIiwiYWNjZXNzIjpbInJlZnJlc2giXSwiaXNfYWRtaW4iOmZhbHNlLCJzYWx0IjowLjY1OTEwMjg3OTYyMzExNTN9:P1KRa4IykFyVWdd9CUt84jytP7r+O3X8P7bgwtXjJBrgbwLtf0Fz8+ezfKP01G5mjumsjx9bc4ZCY+JkaEOjSu1U+kDck0Oi7fOgvhpf2cpPjPryrEMF/XXkNq8EBzUfumdNRsxoBEJhNsGcOui/UO8kEI1y0qlxUdjVwEupqv62BPlz4AzGCC27MWsKUACDLJUekC/pdMTRYcrWEVTfmZXZHrm90QtXwmJVSUKePmwWhE5xTvDQKw49bT1FJzX45RhRZez3pP2SAYpwNH8IVpnMqN1M4+OruwTt//eRwO8VQdPJKgXLk3T2Cx1AWnjL+AkuW0dcKBmbjJt3Cs3v1g==                                                                                  at io.realm.SyncUser.fromJson(SyncUser.java:157)                                                                                  at io.realm.RealmFileUserStore.toSyncUserOrNull(RealmFileUserStore.java:84)                                                                                  at io.realm.RealmFileUserStore.getCurrent(RealmFileUserStore.java:44)                                                                                  at io.realm.SyncUser.currentUser(SyncUser.java:110)   Steps & Code to Reproduce I first start with an offline realm database. Then I create a synced user with this code GoogleSignInResult result = Auth.GoogleSignInApi.getSignInResultFromIntent(data);         if (result.isSuccess()) {             GoogleSignInAccount acct = result.getSignInAccount();             String token = acct.getIdToken();             SyncCredentials myCredentials = SyncCredentials.google(token);             String authURL = serverUrl + "/auth";             return SyncUser.login(myCredentials  authURL);         }  I then merge the offline and online database if (user != null && user.isValid()) {             RealmConfiguration configuration = getSyncConfig(user);             Realm offlineRealm = Realm.getDefaultInstance();             Realm.setDefaultConfiguration(configuration);             Realm onlineRealm = Realm.getDefaultInstance();              // Merge             try {                 onlineRealm.refresh();                 // Code for merging offline database to online database             } finally {                 offlineRealm.close();                 onlineRealm.close();             }         }  If an exception occurs I catch it and logout that user SyncUser user = SyncUser.currentUser();         if (user != null && user.isValid()) {             user.logout();         }  Now if an exception occur  then next time the app is started SyncUser.currentUser() will throw the above exception and it's not possible to use the app until the data of the app is cleared. A local Realm object is a member of the activity and is closed after login/merge is done and set to default instance again to now point to correct realm database. Is it possible to clear the invalid user without deleting all data? What can cause this to happen? Encryption is not applied to the databases. The realm server is running locally on my Mac. I can't reproduce the problem every time  but 1 out of 3 times when I try  I get this problem and needs to clear app data to be able to use the app again. Version of Realm and tooling Realm version(s): 3.3.2 Realm sync feature enabled: yes Android Studio version: 2.3 Which Android version and device: Emulator  android API 24,0
4856,17-06-27,Issue 4856 : Realm 3.4.0: exception for nested isNull() query ， Issue #4856 ， realm/realm-java ， GitHub Goal I had a nested isNull query on a child object (like described in the documentation). The query worked well until I updated to realm version 3.4.0. Expected Results I expected that the query is executed without exception using realm version 3.4.0 like it was with realm version 3.3.2. Documentation of isNull:  /**      * Tests if a field is {@code null}. Only works for nullable fields.      * <p>      * For link queries  if any part of the link path is {@code null} the whole path is considered to be {@code null}      * e.g.  {@code isNull("linkField.stringField")} will be considered to be {@code null} if either {@code linkField} or      * {@code linkField.stringField} is {@code null}.      *      * @param fieldName the field name.      * @return the query object.      * @throws java.lang.IllegalArgumentException if the field is not nullable.      * @see Required for further infomation.      */ Actual Results I received an exception using the nested isNull query java.lang.IllegalArgumentException: Illegal Argument: isNull() by nested query for link field is not supported.  at io.realm.internal.TableQuery.nativeIsNull(Native Method)  at io.realm.internal.TableQuery.isNull(TableQuery.java:611)  at io.realm.RealmQuery.isNull(RealmQuery.java:205)  at com.bz.realmchildquery.MainActivity.executeQuery(MainActivity.java:63)  Code Sample You can download a sample project from: https://github.com/baloghz/RealmChildQuery.git For demonstration I slightly modified the example from the documentation. A person can have one optional dog and the dog has an optional parameters (ate_at). public class Dog extends RealmObject {     private Long ate_at;  // optional     // getters & setters ... }  public class Person extends RealmObject {     private Dog dog; // optional     // getters & setters ... } I would like to find the Persons whose dog's ate_at is null RealmQuery<Person> query = realm.where(Person.class).isNull("dog.ate_at"); Try to change realm versions and you can see that everything works fine in 3.3.2 and not in 3.4.0 Version of Realm and tooling Realm version when the query worked: 3.3.2 Realm version when the query gave an exception: 3.4.0 Realm sync feature enabled: no Android Studio version: 2.3.3 Which Android version and device: API21  Samsung SM-N9005,0
4864,17-06-28,Issue 4864 : Realm 3.4.0: isEmpty for linked relationships causes SIGSEGV ， Issue #4864 ， realm/realm-java ， GitHub Goal Query for empty inverse relationships: get all dogs without owners. Expected Results Query should return the dogs without owners. Actual Results SIGSEGV: 06-27 22:21:19.670 3461-3461/com.realm.bug.realmbug A/libc: Fatal signal 11 (SIGSEGV)  code 2  fault addr 0x2429a227 in tid 3461 (lm.bug.realmbug)                                                                                                                          [ 06-27 22:21:19.670  1256: 1256 W/         ]                                                             debuggerd: handling request: pid=3461 uid=10079 gid=10079 tid=3461  Full log attached: full_log.txt Steps & Code to Reproduce The first query (equalTo("owner.id"  "person")) is successful  and works as expected: 06-27 21:52:47.999 31101-31101/com.realm.bug.realmbug I/MainActivity: size=1 However the second (isEmpty("owner")) causes segfault. Code Sample Dog and Person are simple RealmObjects with @PrimaryKey id. private void testRealmBug(Context context) {     Realm.init(context);     RealmConfiguration realmConfiguration = new RealmConfiguration.Builder()             .inMemory()             .schemaVersion(2)             .build();     Realm realm = Realm.getInstance(realmConfiguration);      realm.executeTransaction(new Realm.Transaction() {         @Override         public void execute(Realm realm) {             Dog dog = realm.createObject(Dog.class  "dog");             Person person = realm.createObject(Person.class  "person");             person.getDogs().add(dog);         }     });      // works as expected     RealmResults<Dog> dogs = realm.where(Dog.class)             .equalTo("owner.id"  "person")             .findAll();     Log.i(TAG  "size=" + dogs.size());      // SIGSEGV     dogs = realm.where(Dog.class)             .isEmpty("owner")             .findAll();     Log.i(TAG  "size=" + dogs.size()); } @RealmClass public class Person extends RealmObject {      @PrimaryKey     private String id;      private RealmList<Dog> dogs;      public Person() {     }      public RealmList<Dog> getDogs() {         return dogs;     }      public String getId() {         return id;     } } @RealmClass public class Dog extends RealmObject {      @PrimaryKey     private String id;      @LinkingObjects("dogs")     private final RealmResults<Person> owner = null;      public Dog() {     }      public String getId() {         return id;     } } Version of Realm and tooling Realm version(s): 3.4.0 Realm sync feature enabled: no Android Studio version: 2.3.3 Which Android version and device: API24 Nexus 5X (emulator)  API25 Pixel (emulator),0
4957,17-07-12,Issue 4957 : Duplicate PrimaryKeys with CopyToRealmOrUpdate - how is this possible? ， Issue #4957 ， realm/realm-java ， GitHub Hi  I've got some nested RealmObjects which I try to insert into Realm via copytoRealmOrUpdate. This is my object public class Site extends RealmObject {      @Required     @PrimaryKey     private String SiteUUID;      private RealmList<AttributeObject> mAttributeObjects;     private RealmList<Campaign> Campaigns;      public Site() {}      //getter und setter }  public class Campaign extends RealmObject {      @Required     @PrimaryKey     private String CampaignUUID;      @Expose     @SerializedName("name")     private String Name;      public Campaign() {} }  public class AttributeObject extends RealmObject {      @PrimaryKey     @Required     private String AttributeObjectUUID;      private Site site;      public AttributeObject() {} }  The tricky part for this object relies in this other class attributes which could contain a copy of the site object themselfs. I try to clarify this with the JSON which gets parsed into the Site object. {     "siteUUID": "4d310340-1dd1-436b-ab05-723eaea9730f"      "attributes": [         {             "attributeUUID": "270568ce-f31a-4343-9a53-ba32f3a0ded8"              "site": {                 "siteUUID": "4d310340-1dd1-436b-ab05-723eaea9730f"                  "campaigns": [                     {                         "campaignUUID": "2c2890d0-b15b-497b-946d-affce01c0bfa"                          "name": "Campaign1"                     }                 ]             }         }     ]      "campaigns": [         {             "campaignUUID": "2c2890d0-b15b-497b-946d-affce01c0bfa"              "name": "Campaign1"         }     ] }  As we can see the root Site object got a campaign and some other objects called "attributes". However these objects need to have a reference to its parent site and this site also contains the Campaign object. So we have two Sites with the same PrimaryKey and two Campaign objects with the same PrimaryKey. After I've parsed the object from JSON to RealmObject I tried to store the object in the database with my appendToRealm method public static RealmObject appendToRealm(final RealmObject object) {        try (Realm realm = Realm.getDefaultInstance()) {             final RealmObject[] managedObject = new RealmObject[1];            realm.executeTransaction(new Realm.Transaction() {                @Override                public void execute(Realm realm) {                     managedObject[0] = realm.copyToRealmOrUpdate(object);                }            });             return managedObject[0];        } catch (Exception e) {            e.printStackTrace();            HockeyCrashHelper.getInstance().sendCrash(e);        }         return null; }  If my understanding is correct I expect Realm to loop the object tree recursively and inserts or updates all objects to the database. And because both duplicate objects contain the same primary key I expected Realm to only contain one Site object and only one Campaign object in the database after the appendToRealm method. But the Campaign object was inserted twice. If I see the logs in my app and inspect the database in RealmBrowser they show two instances of the Campaign object with the same uuid as primary key. The Site object is present only once  although it has been twice in the JSON  too. How is this even possible? For all other objects copyToRealmOrUpdate works as expected. Maybe you can clarify this problem? Thanks in advance :) Version of Realm and tooling Realm version(s): 3.3.2 Realm sync feature enabled: no Android Studio version: 2.3.3 Which Android version and device: Sony Xperia Z5  Android 7.0,1
4962,17-07-13,Issue 4962 : Logout and opend Realm instance ， Issue #4962 ， realm/realm-java ， GitHub From the SyncUser.logout() document:      * @throws IllegalStateException if any Realms owned by this user is still open. They should be closed before      * logging out.  But this is not true. It is checking ObjectServerUser.sessions to determine if there is any Realm instance is still opened. But ObjectServerUser.sessions is used anymore after we moved session logic to Object Store. To solve this: Do we really want to restrict user from logging out when Realm instance are still opened? From my opinion. it is very difficult if there are realm instance in the background in user's app. It the relevant Realm instance stops syncing  then it would be good enough for user. If we allow this  we need to ensure user won't open a Realm instance with the same name for a different user even in multi-processes environment ! If we disallow this  then needs to also consider the corner case for getInstanceAsync().,1
4964,17-07-13,Issue 4964 : android:debuggable="true" and strange crash with  JNI DETECTED ERROR IN APPLICATION ， Issue #4964 ， realm/realm-java ， GitHub #4963 reverted a change that android:debuggable="true" in AndroidManifest.xml . When this is set  RealmTests will fail on compactOnLaunch_shouldNotCompact with a native crash: 07-13 04:51:34.308 F/DEBUG   (  485): Abort message: 'art/runtime/java_vm_ext.cc:410] JNI DETECTED ERROR IN APPLICATION: can't call boolean io.realm.DefaultCompactOnLaunchCallback.shouldCompact(long  long) on instance of io.realm.RealmTests$6'  This is very strange. I did some debugging and I can confirm a CompactOnLaunchCallback was passed to the relevant JNI method. And it is NOT a RealmTests instance. So  it looks when that setting is enabled  Android has a bug somewhere that the jobject entries are messed up  the CallBooleanMethod was not trying to call the method on the given jobject  instead  it was calling the method on some object which was created before the given jobject. Maybe a memory issue in the ART/DAVIK? Full callstack: 07-13 09:19:26.174 F/libc    (24509): Fatal signal 6 (SIGABRT)  code -6 in tid 24536 (roidJUnitRunner) 07-13 09:19:26.285 F/DEBUG   (  485): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 07-13 09:19:26.285 F/DEBUG   (  485): Build fingerprint: 'google/bullhead/bullhead:6.0/MDA89E/2296692:user/release-keys' 07-13 09:19:26.285 F/DEBUG   (  485): Revision: 'rev_1.0' 07-13 09:19:26.285 F/DEBUG   (  485): ABI: 'arm64' 07-13 09:19:26.285 F/DEBUG   (  485): pid: 24509  tid: 24536  name: roidJUnitRunner  >>> io.realm.test <<< 07-13 09:19:26.286 F/DEBUG   (  485): signal 6 (SIGABRT)  code -6 (SI_TKILL)  fault addr -------- 07-13 09:19:26.275 W/debuggerd64(  485): type=1400 audit(0.0:42592): avc: denied { search } for name="io.realm.test" dev="dm-2" ino=392526 scontext=u:r:debuggerd:s0 tcontext=u:object_r:app_data_file:s0:c512 c768 tclass=dir permissive=0 07-13 09:19:26.306 F/DEBUG   (  485): Abort message: 'art/runtime/java_vm_ext.cc:410] JNI DETECTED ERROR IN APPLICATION: can't call boolean io.realm.DefaultCompactOnLaunchCallback.shouldCompact(long  long) on instance of io.realm.RealmTests$6' 07-13 09:19:26.307 F/DEBUG   (  485):     x0   0000000000000000  x1   0000000000005fd8  x2   0000000000000006  x3   0000000000000000 07-13 09:19:26.307 F/DEBUG   (  485):     x4   0000000000000000  x5   0000000000000001  x6   0000000000000000  x7   0000000000000000 07-13 09:19:26.307 F/DEBUG   (  485):     x8   0000000000000083  x9   00000000000139c0  x10  00000000862e34f8  x11  00000000862e3638 07-13 09:19:26.308 F/DEBUG   (  485):     x12  0000000000000000  x13  0000007f79d30000  x14  0000000000000000  x15  0000000000000000 07-13 09:19:26.308 F/DEBUG   (  485):     x16  0000007f79d22568  x17  0000007f79cb4f9c  x18  0000007f79d33f50  x19  0000007f70937500 07-13 09:19:26.308 F/DEBUG   (  485):     x20  0000007f70937440  x21  0000000000000000  x22  0000000000000006  x23  0000007f7580b800 07-13 09:19:26.308 F/DEBUG   (  485):     x24  0000007f586539c0  x25  0000000000000000  x26  0000007f76969000  x27  0000000000000000 07-13 09:19:26.308 F/DEBUG   (  485):     x28  0000007f7580b800  x29  0000007f70935030  x30  0000007f79cb2858 07-13 09:19:26.308 F/DEBUG   (  485):     sp   0000007f70935030  pc   0000007f79cb4fa4  pstate 0000000020000000 07-13 09:19:26.331 F/DEBUG   (  485):  07-13 09:19:26.331 F/DEBUG   (  485): backtrace: 07-13 09:19:26.331 F/DEBUG   (  485):     #00 pc 000000000006afa4  /system/lib64/libc.so (tgkill+8) 07-13 09:19:26.331 F/DEBUG   (  485):     #01 pc 0000000000068854  /system/lib64/libc.so (pthread_kill+68) 07-13 09:19:26.332 F/DEBUG   (  485):     #02 pc 0000000000023838  /system/lib64/libc.so (raise+28) 07-13 09:19:26.332 F/DEBUG   (  485):     #03 pc 000000000001dfd8  /system/lib64/libc.so (abort+60) 07-13 09:19:26.332 F/DEBUG   (  485):     #04 pc 00000000004357d0  /system/lib64/libart.so (art::Runtime::Abort()+324) 07-13 09:19:26.332 F/DEBUG   (  485):     #05 pc 0000000000138164  /system/lib64/libart.so (art::LogMessage::~LogMessage()+3136) 07-13 09:19:26.332 F/DEBUG   (  485):     #06 pc 0000000000310ab8  /system/lib64/libart.so (art::JavaVMExt::JniAbort(char const*  char const*)+2080) 07-13 09:19:26.332 F/DEBUG   (  485):     #07 pc 0000000000310f38  /system/lib64/libart.so (art::JavaVMExt::JniAbortV(char const*  char const*  std::__va_list)+116) 07-13 09:19:26.332 F/DEBUG   (  485):     #08 pc 0000000000143f1c  /system/lib64/libart.so (art::ScopedCheck::AbortF(char const*  ...)+144) 07-13 09:19:26.333 F/DEBUG   (  485):     #09 pc 0000000000144314  /system/lib64/libart.so (art::ScopedCheck::CheckMethodAndSig(art::ScopedObjectAccess&  _jobject*  _jclass*  _jmethodID*  art::Primitive::Type  art::InvokeType)+724) 07-13 09:19:26.333 F/DEBUG   (  485):     #10 pc 000000000015d9f8  /system/lib64/libart.so (art::CheckJNI::CallMethodV(char const*  _JNIEnv*  _jobject*  _jclass*  _jmethodID*  std::__va_list  art::Primitive::Type  art::InvokeType)+724) 07-13 09:19:26.333 F/DEBUG   (  485):     #11 pc 0000000000160490  /system/lib64/libart.so (art::CheckJNI::CallBooleanMethodV(_JNIEnv*  _jobject*  _jmethodID*  std::__va_list)+68) 07-13 09:19:26.333 F/DEBUG   (  485):     #12 pc 00000000000d370c  /data/app/io.realm.test-1/lib/arm64/librealm-jni.so (_JNIEnv::CallBooleanMethod(_jobject*  _jmethodID*  ...)+124) 07-13 09:19:26.333 F/DEBUG   (  485):     #13 pc 00000000000d3750  /data/app/io.realm.test-1/lib/arm64/librealm-jni.so (std::_Function_handler<bool (unsigned long  unsigned long)  Java_io_realm_internal_SharedRealm_nativeCreateConfig::'lambda'(unsigned long  unsigned long)>::_M_invoke(std::_Any_data const&  unsigned long  unsigned long)+56) 07-13 09:19:26.333 F/DEBUG   (  485):     #14 pc 000000000014dc68  /data/app/io.realm.test-1/lib/arm64/librealm-jni.so (std::function<bool (unsigned long  unsigned long)>::operator()(unsigned long  unsigned long) const+24) 07-13 09:19:26.333 F/DEBUG   (  485):     #15 pc 00000000001509d8  /data/app/io.realm.test-1/lib/arm64/librealm-jni.so (realm::Realm::open_with_config(realm::Realm::Config const&  std::unique_ptr<realm::Replication  std::default_delete<realm::Replication> >&  std::unique_ptr<realm::SharedGroup  std::default_delete<realm::SharedGroup> >&  std::unique_ptr<realm::Group  std::default_delete<realm::Group> >&  realm::Realm*)+3628) 07-13 09:19:26.334 F/DEBUG   (  485):     #16 pc 0000000000150dc8  /data/app/io.realm.test-1/lib/arm64/librealm-jni.so (realm::Realm::Realm(realm::Realm::Config  std::shared_ptr<realm::_impl::RealmCoordinator>)+580) 07-13 09:19:26.334 F/DEBUG   (  485):     #17 pc 000000000016b044  /data/app/io.realm.test-1/lib/arm64/librealm-jni.so (realm::_impl::RealmCoordinator::get_realm(realm::Realm::Config)+1776) 07-13 09:19:26.334 F/DEBUG   (  485):     #18 pc 000000000014e0d0  /data/app/io.realm.test-1/lib/arm64/librealm-jni.so (realm::Realm::get_shared_realm(realm::Realm::Config)+372) 07-13 09:19:26.334 F/DEBUG   (  485):     #19 pc 00000000000d7b54  /data/app/io.realm.test-1/lib/arm64/librealm-jni.so (Java_io_realm_internal_SharedRealm_nativeGetSharedRealm+536) 07-13 09:19:26.334 F/DEBUG   (  485):     #20 pc 0000000001326e1c  /data/app/io.realm.test-1/oat/arm64/base.odex (offset 0xac2000) (long io.realm.internal.SharedRealm.nativeGetSharedRealm(long  io.realm.internal.RealmNotifier)+160) 07-13 09:19:26.334 F/DEBUG   (  485):     #21 pc 0000000001324458  /data/app/io.realm.test-1/oat/arm64/base.odex (offset 0xac2000) (void io.realm.internal.SharedRealm.<init>(long  io.realm.RealmConfiguration  io.realm.internal.SharedRealm$SchemaVersionListener)+604) 07-13 09:19:26.334 F/DEBUG   (  485):     #22 pc 0000000001325418  /data/app/io.realm.test-1/oat/arm64/base.odex (offset 0xac2000) (io.realm.internal.SharedRealm io.realm.internal.SharedRealm.getInstance(io.realm.RealmConfiguration  io.realm.internal.SharedRealm$SchemaVersionListener  boolean)+1884) 07-13 09:19:26.335 F/DEBUG   (  485):     #23 pc 0000000001324c1c  /data/app/io.realm.test-1/oat/arm64/base.odex (offset 0xac2000) (io.realm.internal.SharedRealm io.realm.internal.SharedRealm.getInstance(io.realm.RealmConfiguration)+112) 07-13 09:19:26.335 F/DEBUG   (  485):     #24 pc 0000000000c0bba0  /data/app/io.realm.test-1/oat/arm64/base.odex (offset 0xac2000) (io.realm.BaseRealm io.realm.RealmCache.doCreateRealmOrGetFromCache(io.realm.RealmConfiguration  java.lang.Class)+532) 07-13 09:19:26.335 F/DEBUG   (  485):     #25 pc 0000000000c0b790  /data/app/io.realm.test-1/oat/arm64/base.odex (offset 0xac2000) (io.realm.BaseRealm io.realm.RealmCache.createRealmOrGetFromCache(io.realm.RealmConfiguration  java.lang.Class)+196) 07-13 09:19:26.335 F/DEBUG   (  485):     #26 pc 0000000001236e00  /data/app/io.realm.test-1/oat/arm64/base.odex (offset 0xac2000) (io.realm.Realm io.realm.Realm.getInstance(io.realm.RealmConfiguration)+340) 07-13 09:19:26.335 F/DEBUG   (  485):     #27 pc 0000000000cf22e0  /data/app/io.realm.test-1/oat/arm64/base.odex (offset 0xac2000) (io.realm.internal.util.Pair io.realm.RealmTests.populateTestRealmAndCompactOnLaunch(io.realm.CompactOnLaunchCallback  int)+836) 07-13 09:19:26.335 F/DEBUG   (  485):     #28 pc 0000000000cf1f54  /data/app/io.realm.test-1/oat/arm64/base.odex (offset 0xac2000) (io.realm.internal.util.Pair io.realm.RealmTests.populateTestRealmAndCompactOnLaunch(io.realm.CompactOnLaunchCallback)+88) 07-13 09:19:26.336 F/DEBUG   (  485):     #29 pc 0000000000cf7a38  /data/app/io.realm.test-1/oat/arm64/base.odex (offset 0xac2000) (void io.realm.RealmTests.compactOnLaunch_shouldNotCompact()+140) 07-13 09:19:26.336 F/DEBUG   (  485):     #30 pc 000000000011e164  /system/lib64/libart.so (art_quick_invoke_stub+580) 07-13 09:19:26.336 F/DEBUG   (  485):     #31 pc 000000000012e01c  /system/lib64/libart.so (art::ArtMethod::Invoke(art::Thread*  unsigned int*  unsigned int  art::JValue*  char const*)+176) 07-13 09:19:26.336 F/DEBUG   (  485):     #32 pc 0000000000430ac8  /system/lib64/libart.so (art::InvokeMethod(art::ScopedObjectAccessAlreadyRunnable const&  _jobject*  _jobject*  _jobject*  unsigned long)+888) 07-13 09:19:26.336 F/DEBUG   (  485):     #33 pc 00000000003c93dc  /system/lib64/libart.so (art::Method_invoke(_JNIEnv*  _jobject*  _jobject*  _jobject*)+40) 07-13 09:19:26.336 F/DEBUG   (  485):     #34 pc 000000007273f3a4  /data/dalvik-cache/arm64/system@framework@boot.oat (offset 0x1ed4000) 07-13 09:19:27.055 W/ActivityManager(  880): Error in app io.realm.test running instrumentation ComponentInfo{io.realm.test/android.support.test.runner.AndroidJUnitRunner}: 07-13 09:19:27.055 W/ActivityManager(  880):   Native crash 07-13 09:19:27.055 W/ActivityManager(  880):   Native crash: Aborted,0
4967,17-07-14,Issue 4967 : Admin user and UserStore ， Issue #4967 ， realm/realm-java ， GitHub std::shared_ptr<SyncUser> SyncManager::get_user(const std::string& identity                                         std::string refresh_token                                         util::Optional<std::string> auth_server_url=none                                         SyncUser::TokenType token_type=SyncUser::TokenType::Normal); is called to create a user in user store. JNIEXPORT void JNICALL Java_io_realm_RealmFileUserStore_nativeUpdateOrCreateUser(JNIEnv* env  jclass                                                                                   jstring identity  jstring json_token                                                                                   jstring url) {     TR_ENTER()     try {         JStringAccessor user_identity(env  identity);     // throws         JStringAccessor user_json_token(env  json_token); // throws         JStringAccessor auth_url(env  url);               // throws         SyncManager::shared().get_user(user_identity  user_json_token  std::string(auth_url));     }     CATCH_STD() } But for the admin user  token_type is not set. So the admin user will be stored as normal user. Why? Also  if we are going to fix this  also have to check https://github.com/realm/realm-object-store/blob/master/src/sync/sync_user.cpp#L141 which doesn't allow admin user to logout. why?,0
4970,17-07-15,Issue 4970 : tgkill crashes in realm ， Issue #4970 ， realm/realm-java ， GitHub Regarding Realm tgkill Crashes Hi guys recently I am seeing crashes due to realm in some specific devices mostly motorola deivces (till now around 40 crashes happend) I have used crashlytics to capture crashes but these are not being captured by crashlytics. I am seeing this crashes only in playstore ANRs & Crashes section. before posting it here I have searched online but couldn't find any solution Error details backtrace: native: pc 0000000000049c44 /system/lib/libc.so (tgkill+12) native: pc 00000000000473e3 /system/lib/libc.so (pthread_kill+34) native: pc 000000000001d535 /system/lib/libc.so (raise+10) native: pc 0000000000019081 /system/lib/libc.so (__libc_android_abort+34) native: pc 00000000000170e4 /system/lib/libc.so (abort+4) native: pc 000000000015d938 /data/app/com.appsbynelli.seniorbro-1/lib/arm/librealm-jni.so (_ZN9__gnu_cxx27__verbose_terminate_handlerEv+348) native: pc 00000000001307ec /data/app/com.appsbynelli.seniorbro-1/lib/arm/librealm-jni.so (_ZN10__cxxabiv111__terminateEPFvvE+8) native: pc 000000000013088c /data/app/com.appsbynelli.seniorbro-1/lib/arm/librealm-jni.so (_ZSt9terminatev+12) native: pc 000000000015c828 /data/app/com.appsbynelli.seniorbro-1/lib/arm/librealm-jni.so native: pc 0000000000046eb3 /system/lib/libc.so (_ZL15__pthread_startPv+22) native: pc 0000000000019acd /system/lib/libc.so (__start_thread+6) Version of Realm and tooling Realm version(s): 3.0.0 Realm sync feature enabled: no Which Android version and devices: ? Moto G(4) Plus (athene_f) 8 22.9% Moto X Play (lux_uds) 7 20.0% Moto G (5) Plus (potter_n) 6 17.1% One (A0001) 6 17.1% VIBE K6 Power (K33a42) 4 11.4% Moto E3 Power (taido_row) 3 8.6% X (OnePlus) 1 2.9% By Android Version :- Android 7.0 18 51.4% Android 6.0 17 48.6%,0
4975,17-07-17,Issue 4975 : logout and `currentUser()` ， Issue #4975 ， realm/realm-java ， GitHub Below test case will fail with: java.lang.IllegalStateException: Current user is not valid if more that one valid  logged-in user exists.      @Test     public void logout_currentUserMoreThanOne(){         final CountDownLatch latch = new CountDownLatch(1);         SyncUser user1 = UserFactory.createUniqueUser(Constants.AUTH_URL);         final RealmConfiguration config1 = configurationFactory.createSyncConfigurationBuilder(user1  Constants.USER_REALM)                 .build();         SyncUser.currentUser().logout();         SyncUser user2 = UserFactory.createUniqueUser(Constants.AUTH_URL);         Realm realm = Realm.getInstance(config1);         SyncUser user3 = SyncUser.currentUser();     },1
4976,17-07-17,Issue 4976 : Realm 3.4.0 SIGNAL 11 ， Issue #4976 ， realm/realm-java ， GitHub We recently upgraded our app from Realm 3.1.4 to Realm 3.4.0. Everything appeared to be fine in QC and Staging tests  but when we released to production we saw our errors go through the roof. Unfortunately we still can't reproduce the issue in QC or Staging  and we don't have support for native crashes enabled in crashlytics. From the play console  we have: This appears to be happening in our arm builds (armeabi-v7a and arm64-v8a). arm64-v8a: backtrace: native: pc 0000000000174d40 /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 0000000000175898 /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 000000000003fefc /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 00000000001cf6f0 /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 00000000001cf74c /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 0000000000083cc4 /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 000000000007ba44 /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 00000000001c7cec /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 00000000001c8184 /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 00000000001951e8 /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 00000000001c8184 /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 00000000001951e8 /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 00000000001c7c1c /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 0000000000195f0c /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 00000000001a5468 /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 00000000001a5550 /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 00000000000f312c /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 00000000000efb4c /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 00000000000efe7c /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 0000000000106da8 /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 0000000000106e84 /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 00000000002186f8 /data/app/com.ourapp.app-1/lib/arm64/librealm-jni.so native: pc 000000000006904c /system/lib64/libc.so (_ZL15__pthread_startPv+196) native: pc 000000000001e2b8 /system/lib64/libc.so (__start_thread+16) armeabi-v7a: backtrace: native: pc 00000000000e332a /data/app/com.ourapp.app-2/lib/arm/librealm-jni.so HELP!!,0
4980,17-07-18,Issue 4980 : Update ErrorCode enum with new errorcodes ， Issue #4980 ， realm/realm-java ， GitHub A user has received "IllegalArgumentException: Unknown error code: 112" because there are more error codes than the ones defined in https://github.com/realm/realm-java/blob/master/realm/realm-library/src/objectServer/java/io/realm/ErrorCode.java 110-116 are not defined here  but are defined in https://github.com/realm/realm-sync/blob/master/src/realm/sync/client.hpp: enum class Client::Error { connection_closed = 100  ///< Connection closed (no error) unknown_message = 101  ///< Unknown type of input message bad_syntax = 102  ///< Bad syntax in input message head limits_exceeded = 103  ///< Limits exceeded in input message bad_session_ident = 104  ///< Bad session identifier in input message bad_message_order = 105  ///< Bad input message order bad_file_ident_pair = 106  ///< Bad file identifier pair (ALLOC) bad_progress = 107  ///< Bad progress information (DOWNLOAD) bad_changeset_header_syntax = 108  ///< Bad syntax in changeset header (DOWNLOAD) bad_changeset_size = 109  ///< Bad changeset size in changeset header (DOWNLOAD) bad_origin_file_ident = 110  ///< Bad origin file identifier in changeset header (DOWNLOAD) bad_server_version = 111  ///< Bad server version in changeset header (DOWNLOAD) bad_changeset = 112  ///< Bad changeset (DOWNLOAD) bad_request_ident = 113  ///< Bad request identifier (MARK) bad_error_code = 114  ///< Bad error code (ERROR)  bad_compression = 115  ///< Bad compression (DOWNLOAD) bad_client_version = 116  ///< Bad last integrated client version in changeset header (DOWNLOAD) }; Since "Bad changeset" is easy to get with mismatched models  a good explanation of this error would be good.,0
4987,17-07-19,Issue 4987 : Failure when computing UTF-16 size error_code = 1 ， Issue #4987 ， realm/realm-java ， GitHub Running: Realm 3.5.0 Android 5.0.2 No Encryption All communication with Realm is performed with AsyncTasks. Fatal Exception: java.lang.RuntimeException: An error occured while executing doInBackground()        at android.os.AsyncTask$3.done(AsyncTask.java:300)        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:355)        at java.util.concurrent.FutureTask.setException(FutureTask.java:222)        at java.util.concurrent.FutureTask.run(FutureTask.java:242)        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:231)        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)        at java.lang.Thread.run(Thread.java:818) Caused by io.realm.exceptions.RealmError: Unrecoverable error. Failure when computing UTF-16 size error_code = 5; retcode = 6; StringData.size = 2442; StringData.data = ? in /home/cc/repo/realm/release/realm/realm-library/src/main/cpp/io_realm_internal_UncheckedRow.cpp line 151        at io.realm.internal.UncheckedRow.nativeGetString(UncheckedRow.java)        at io.realm.internal.UncheckedRow.getString(UncheckedRow.java:167)        at io.realm.KeyValueObjectRealmProxy.realmGet$value(KeyValueObjectRealmProxy.java:116)        at com.app.Cache.KeyValueObject.getValue(KeyValueObject.java:26)        at com.app.Account.Account.loadArray(Account.java:192),0
4997,17-07-20,Issue 4997 : [Sync] ClientReset  using the backup Realm file is not possible ， Issue #4997 ， realm/realm-java ， GitHub Following the concerns from this post https://forums.realm.io/t/how-can-i-test-my-apps-error-handling/393/7 it seems we don't expose a way to reuse the backup Realm file (after a ClientReset). The current API returns the full path name  making it impossible to build a new SyncConfiguration that targets the saved file  so the user can copy data from it  making the saved Realm nearly unusable.,0
5011,17-07-24,Issue 5011 : "Bad Realm File Header" error after compacting that threw "No space left on device" ， Issue #5011 ， realm/realm-java ， GitHub Goal Don't let the realm file crashed Expected Results Realm file not crashed Actual Results Realm file crashed Steps & Code to Reproduce I have a user experienced a "No space left on device" error at first when compactRealm was called. Then the user can never open my app due to the io.realm.exceptions.RealmFileException: Bad Realm file header (#1) error. Code Sample Exception io.realm.exceptions.RealmError: Unrecoverable error. write(): failed: No space left on device in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 109          Realm.init( context );         RealmConfiguration realmConfiguration = new RealmConfiguration.Builder()                 .schemaVersion( REALM_DATABASE_VERSION ) // Must be bumped when the schema changes                 .migration( this ) // Migration to run instead of throwing an exception //                .deleteRealmIfMigrationNeeded()                 .build();          Realm.compactRealm( realmConfiguration );          Realm.setDefaultConfiguration(realmConfiguration);  Version of Realm and tooling Realm version(s): 3.0.0 Realm sync feature enabled: no Android Studio version: IntelliJ IDEA 2017.1 Which Android version and device: API 23  Samsung SM-G532G,0
5036,17-07-28,Issue 5036 : Avoid to call compactOnLaunch if there are Realm instances opened. ， Issue #5036 ， realm/realm-java ， GitHub This has been fixed in Object Store by realm/realm-object-store#496 However  it doesn't fix the java side problem since we are using dynamic schema mode of the SharedRealm. Revisit this issue after the OS schema integration work finished.,0
5056,17-08-01,Issue 5056 : App crashes randomly after updating Realm from 3.0.0 to 3.5.0 ， Issue #5056 ， realm/realm-java ， GitHub Realm version: 3.0.0 Device: Android SDK Simulator x86 with Android v7.1.1 Encryption: Un-encrypted Android studio V 2.3.2 Realm sync feature enabled: no The app uses SyncAdapter. Whenever some local changes are made in realm  SyncAdapter would sync the changes with server using an API. All the local changes made due to some user interaction are made on main thread using executeTransaction() while the sync happens on a different thread. Goal We want to migrate Realm from 3.0.0 to 3.5.0. However  app crashes in some scenarios upon upgrade to 3.5.0. I.e. in case a local change is done and the sync triggers  the app crashes randomly when trying to persist the changes received in response. Two different stack traces were logged in Debug mode are mentioned below Actual Results Exception 1: mport.dev.debug A/libc: Fatal signal 11 (SIGSEGV)  code 1  fault addr 0x20 in tid 855 (mport.dev.debug)                                                                                                                                                            [ 08-01 14:46:55.785  1254: 1254 W/         ]                                                                              debuggerd: handling request: pid=855 uid=10072 gid=10072 tid=855 08-01 14:46:55.790 1747-1747/? A/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 08-01 14:46:55.790 1747-1747/? A/DEBUG: Build fingerprint: 'Android/sdk_google_phone_x86/generic_x86:7.1.1/NYC/3756122:userdebug/test-keys' 08-01 14:46:55.790 1747-1747/? A/DEBUG: Revision: '0' 08-01 14:46:55.790 1747-1747/? A/DEBUG: ABI: 'x86' 08-01 14:46:55.790 1747-1747/? A/DEBUG: pid: 855  tid: 855  name: mport.dev.debug  >>> <package name> <<< 08-01 14:46:55.790 1747-1747/? A/DEBUG: signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x20 08-01 14:46:55.790 1747-1747/? A/DEBUG:     eax 00000000  ebx acc00ac0  ecx 00000011  edx 00000001 08-01 14:46:55.790 1747-1747/? A/DEBUG:     esi 00000000  edi 00000000 08-01 14:46:55.790 1747-1747/? A/DEBUG:     xcs 00000073  xds 0000007b  xes 0000007b  xfs 0000003b  xss 0000007b 08-01 14:46:55.790 1747-1747/? A/DEBUG:     eip aef531cc  ebp bfbeb8a8  esp bfbeb8a8  flags 00210206 08-01 14:46:56.077 1747-1747/? A/DEBUG: backtrace: 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #00 pc 001dc1cc  /system/lib/libskia.so (_ZN8SkMatrix12setTranslateEff+60) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #01 pc 000f8be2  /system/lib/libandroid_runtime.so (_ZN7android12SkMatrixGlue12setTranslateEP7_JNIEnvP8_jobjectxff+50) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #02 pc 0193374a  /system/framework/x86/boot-framework.oat (offset 0x1584000) (android.graphics.Matrix.native_setTranslate+150) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #03 pc 0193592b  /system/framework/x86/boot-framework.oat (offset 0x1584000) (android.graphics.Matrix.setTranslate+71) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #04 pc 0216528b  /system/framework/x86/boot-framework.oat (offset 0x1584000) (android.widget.ImageView.configureBounds+631) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #05 pc 0216688b  /system/framework/x86/boot-framework.oat (offset 0x1584000) (android.widget.ImageView.updateDrawable+743) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #06 pc 02168719  /system/framework/x86/boot-framework.oat (offset 0x1584000) (android.widget.ImageView.setImageDrawable+101) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #07 pc 00109262  /system/lib/libart.so (art_quick_invoke_stub+338) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #08 pc 00112d9d  /system/lib/libart.so (_ZN3art9ArtMethod6InvokeEPNS_6ThreadEPjjPNS_6JValueEPKc+237) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #09 pc 0031d596  /system/lib/libart.so (_ZN3art11interpreter34ArtInterpreterToCompiledCodeBridgeEPNS_6ThreadEPNS_9ArtMethodEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameEPNS_6JValueE+294) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #10 pc 00315437  /system/lib/libart.so (_ZN3art11interpreter6DoCallILb0ELb0EEEbPNS_9ArtMethodEPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+615) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #11 pc 0067ede7  /system/lib/libart.so (MterpInvokeVirtualQuick+535) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #12 pc 000ff2a1  /system/lib/libart.so (artMterpAsmInstructionStart+29857) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #13 pc 002e5e98  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+488) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #14 pc 002ed6e0  /system/lib/libart.so (_ZN3art11interpreter33ArtInterpreterToInterpreterBridgeEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameEPNS_6JValueE+192) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #15 pc 00316612  /system/lib/libart.so (_ZN3art11interpreter6DoCallILb1ELb0EEEbPNS_9ArtMethodEPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+450) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #16 pc 0067e3bd  /system/lib/libart.so (MterpInvokeDirectRange+461) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #17 pc 000fb921  /system/lib/libart.so (artMterpAsmInstructionStart+15137) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #18 pc 002e5e98  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+488) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #19 pc 002ed6e0  /system/lib/libart.so (_ZN3art11interpreter33ArtInterpreterToInterpreterBridgeEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameEPNS_6JValueE+192) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #20 pc 0031541b  /system/lib/libart.so (_ZN3art11interpreter6DoCallILb0ELb0EEEbPNS_9ArtMethodEPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+587) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #21 pc 0067bde2  /system/lib/libart.so (MterpInvokeInterface+1474) 08-01 14:46:56.077 1747-1747/? A/DEBUG:     #22 pc 000fb721  /system/lib/libart.so (artMterpAsmInstructionStart+14625) 08-01 14:46:56.078 1747-1747/? A/DEBUG:     #23 pc 002e5e98  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+488) 08-01 14:46:56.078 1747-1747/? A/DEBUG:     #24 pc 002ed6e0  /system/lib/libart.so (_ZN3art11interpreter33ArtInterpreterToInterpreterBridgeEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameEPNS_6JValueE+192) 08-01 14:46:56.078 1747-1747/? A/DEBUG:     #25 pc 0031541b  /system/lib/libart.so (_ZN3art11interpreter6DoCallILb0ELb0EEEbPNS_9ArtMethodEPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+587) 08-01 14:46:56.078 1747-1747/? A/DEBUG:     #26 pc 0067c110  /system/lib/libart.so (MterpInvokeDirect+464) 08-01 14:46:56.078 1747-1747/? A/DEBUG:     #27 pc 000fb621  /system/lib/libart.so (artMterpAsmInstructionStart+14369) 08-01 14:46:56.078 1747-1747/? A/DEBUG:     #28 pc 002e5e98  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+488) 08-01 14:46:56.079 1747-1747/? A/DEBUG:     #29 pc 002ed6e0  /system/lib/libart.so (_ZN3art11interpreter33ArtInterpreterToInterpreterBridgeEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameEPNS_6JValueE+192) 08-01 14:46:56.079 1747-1747/? A/DEBUG:     #30 pc 0031541b  /system/lib/libart.so (_ZN3art11interpreter6DoCallILb0ELb0EEEbPNS_9ArtMethodEPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+587) 08-01 14:46:56.079 1747-1747/? A/DEBUG:     #31 pc 0067ede7  /system/lib/libart.so (MterpInvokeVirtualQuick+535) 08-01 14:46:56.079 1747-1747/? A/DEBUG:     #32 pc 000ff2a1  /system/lib/libart.so (artMterpAsmInstructionStart+29857) 08-01 14:46:56.079 1747-1747/? A/DEBUG:     #33 pc 002e5e98  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+488) 08-01 14:46:56.079 1747-1747/? A/DEBUG:     #34 pc 002ed6e0  /system/lib/libart.so (_ZN3art11interpreter33ArtInterpreterToInterpreterBridgeEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameEPNS_6JValueE+192) 08-01 14:46:56.079 1747-1747/? A/DEBUG:     #35 pc 0031541b  /system/lib/libart.so (_ZN3art11interpreter6DoCallILb0ELb0EEEbPNS_9ArtMethodEPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+587) 08-01 14:46:56.079 1747-1747/? A/DEBUG:     #36 pc 0067bde2  /system/lib/libart.so (MterpInvokeInterface+1474) 08-01 14:46:56.079 1747-1747/? A/DEBUG:     #37 pc 000fb721  /system/lib/libart.so (artMterpAsmInstructionStart+14625) 08-01 14:46:56.079 1747-1747/? A/DEBUG:     #38 pc 002e5e98  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+488) 08-01 14:46:56.080 1747-1747/? A/DEBUG:     #39 pc 002ed6e0  /system/lib/libart.so (_ZN3art11interpreter33ArtInterpreterToInterpreterBridgeEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameEPNS_6JValueE+192) 08-01 14:46:56.080 1747-1747/? A/DEBUG:     #40 pc 0031541b  /system/lib/libart.so (_ZN3art11interpreter6DoCallILb0ELb0EEEbPNS_9ArtMethodEPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+587) 08-01 14:46:56.080 1747-1747/? A/DEBUG:     #41 pc 0067bde2  /system/lib/libart.so (MterpInvokeInterface+1474) 08-01 14:46:56.080 1747-1747/? A/DEBUG:     #42 pc 000fb721  /system/lib/libart.so (artMterpAsmInstructionStart+14625) 08-01 14:46:56.080 1747-1747/? A/DEBUG:     #43 pc 002e5e98  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+488) 08-01 14:46:56.080 1747-1747/? A/DEBUG:     #44 pc 002ed6e0  /system/lib/libart.so (_ZN3art11interpreter33ArtInterpreterToInterpreterBridgeEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameEPNS_6JValueE+192) 08-01 14:46:56.080 1747-1747/? A/DEBUG:     #45 pc 0031541b  /system/lib/libart.so (_ZN3art11interpreter6DoCallILb0ELb0EEEbPNS_9ArtMethodEPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+587) 08-01 14:46:56.080 1747-1747/? A/DEBUG:     #46 pc 0067ede7  /system/lib/libart.so (MterpInvokeVirtualQuick+535) 08-01 14:46:56.080 1747-1747/? A/DEBUG:     #47 pc 000ff2a1  /system/lib/libart.so (artMterpAsmInstructionStart+29857) 08-01 14:46:56.080 1747-1747/? A/DEBUG:     #48 pc 002e5e98  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+488) 08-01 14:46:56.080 1747-1747/? A/DEBUG:     #49 pc 002ed5f0  /system/lib/libart.so (_ZN3art11interpreter30EnterInterpreterFromEntryPointEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameE+176) 08-01 14:46:56.080 1747-1747/? A/DEBUG:     #50 pc 0066cf79  /system/lib/libart.so (artQuickToInterpreterBridge+1049) 08-01 14:46:56.080 1747-1747/? A/DEBUG:     #51 pc 0010f39d  /system/lib/libart.so (art_quick_to_interpreter_bridge+77) 08-01 14:46:56.080 1747-1747/? A/DEBUG:     #52 pc 00014e03  /dev/ashmem/dalvik-jit-code-cache (deleted)                                                                                                                           [ 08-01 14:46:56.255  1254: 1254 W/         ]                                         debuggerd: resuming target 855   Exception 2: mport.dev.debug A/libc: Fatal signal 11 (SIGSEGV)  code 1  fault addr 0x20 in tid 32429 (mport.dev.debug)                                                                                                                                                                    [ 08-01 18:21:48.093  1254: 1254 W/         ]                                                                                  debuggerd: handling request: pid=32429 uid=10074 gid=10074 tid=32429 08-01 18:21:48.102 4223-4223/? A/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 08-01 18:21:48.103 4223-4223/? A/DEBUG: Build fingerprint: 'Android/sdk_google_phone_x86/generic_x86:7.1.1/NYC/3756122:userdebug/test-keys' 08-01 18:21:48.103 4223-4223/? A/DEBUG: Revision: '0' 08-01 18:21:48.103 4223-4223/? A/DEBUG: ABI: 'x86' 08-01 18:21:48.103 4223-4223/? A/DEBUG: pid: 32429  tid: 32429  name: mport.dev.debug  >>> mport.dev.debug <<< 08-01 18:21:48.103 4223-4223/? A/DEBUG: signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x20 08-01 18:21:48.103 4223-4223/? A/DEBUG:     eax 00000000  ebx acc00ac0  ecx 00000011  edx 00000001 08-01 18:21:48.103 4223-4223/? A/DEBUG:     esi 00000000  edi 00000000 08-01 18:21:48.103 4223-4223/? A/DEBUG:     xcs 00000073  xds 0000007b  xes 0000007b  xfs 0000003b  xss 0000007b 08-01 18:21:48.103 4223-4223/? A/DEBUG:     eip aef531cc  ebp bfbed708  esp bfbed708  flags 00010206 08-01 18:21:48.390 4223-4223/? A/DEBUG: backtrace: 08-01 18:21:48.390 4223-4223/? A/DEBUG:     #00 pc 001dc1cc  /system/lib/libskia.so (_ZN8SkMatrix12setTranslateEff+60) 08-01 18:21:48.390 4223-4223/? A/DEBUG:     #01 pc 000f8be2  /system/lib/libandroid_runtime.so (_ZN7android12SkMatrixGlue12setTranslateEP7_JNIEnvP8_jobjectxff+50) 08-01 18:21:48.390 4223-4223/? A/DEBUG:     #02 pc 0193374a  /system/framework/x86/boot-framework.oat (offset 0x1584000) (android.graphics.Matrix.native_setTranslate+150) 08-01 18:21:48.390 4223-4223/? A/DEBUG:     #03 pc 0193592b  /system/framework/x86/boot-framework.oat (offset 0x1584000) (android.graphics.Matrix.setTranslate+71) 08-01 18:21:48.390 4223-4223/? A/DEBUG:     #04 pc 0216528b  /system/framework/x86/boot-framework.oat (offset 0x1584000) (android.widget.ImageView.configureBounds+631) 08-01 18:21:48.390 4223-4223/? A/DEBUG:     #05 pc 0216688b  /system/framework/x86/boot-framework.oat (offset 0x1584000) (android.widget.ImageView.updateDrawable+743) 08-01 18:21:48.390 4223-4223/? A/DEBUG:     #06 pc 02168719  /system/framework/x86/boot-framework.oat (offset 0x1584000) (android.widget.ImageView.setImageDrawable+101) 08-01 18:21:48.390 4223-4223/? A/DEBUG:     #07 pc 00109262  /system/lib/libart.so (art_quick_invoke_stub+338) 08-01 18:21:48.390 4223-4223/? A/DEBUG:     #08 pc 00112d9d  /system/lib/libart.so (_ZN3art9ArtMethod6InvokeEPNS_6ThreadEPjjPNS_6JValueEPKc+237) 08-01 18:21:48.390 4223-4223/? A/DEBUG:     #09 pc 0031d596  /system/lib/libart.so (_ZN3art11interpreter34ArtInterpreterToCompiledCodeBridgeEPNS_6ThreadEPNS_9ArtMethodEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameEPNS_6JValueE+294) 08-01 18:21:48.390 4223-4223/? A/DEBUG:     #10 pc 00315437  /system/lib/libart.so (_ZN3art11interpreter6DoCallILb0ELb0EEEbPNS_9ArtMethodEPNS_6ThreadERNS_11ShadowFrameEPKNS_11InstructionEtPNS_6JValueE+615) 08-01 18:21:48.390 4223-4223/? A/DEBUG:     #11 pc 0067ede7  /system/lib/libart.so (MterpInvokeVirtualQuick+535) 08-01 18:21:48.390 4223-4223/? A/DEBUG:     #12 pc 000ff2a1  /system/lib/libart.so (artMterpAsmInstructionStart+29857) 08-01 18:21:48.390 4223-4223/? A/DEBUG:     #13 pc 002e5e98  /system/lib/libart.so (_ZN3art11interpreterL7ExecuteEPNS_6ThreadEPKNS_7DexFile8CodeItemERNS_11ShadowFrameENS_6JValueEb+488) 08-01 18:21:48.390 4223-4223/? A/DEBUG:     #14 pc 002ed5f0  /system/lib/libart.so (_ZN3art11interpreter30EnterInterpreterFromEntryPointEPNS_6ThreadEPKNS_7DexFile8CodeItemEPNS_11ShadowFrameE+176) 08-01 18:21:48.390 4223-4223/? A/DEBUG:     #15 pc 0066cf79  /system/lib/libart.so (artQuickToInterpreterBridge+1049) 08-01 18:21:48.390 4223-4223/? A/DEBUG:     #16 pc 0010f39d  /system/lib/libart.so (art_quick_to_interpreter_bridge+77) 08-01 18:21:48.390 4223-4223/? A/DEBUG:     #17 pc 000bdde9  /dev/ashmem/dalvik-jit-code-cache (deleted)  Steps & Code to Reproduce We could not pin point an exact reason why this happens. Went through the change log 3.0.0 onwards but we are unable to identify any particular change that can cause this. Based on the logs that we added  we can see that the transactions get completed successfully and it crashes after few milliseconds. It would be great if you can pinpoint if this is a bug or something could be wrong at our end,0
5071,17-08-07,Issue 5071 : Slight documentation error in chapter Threading? ， Issue #5071 ， realm/realm-java ， GitHub Goal I am reading about Threading to investigate this Realm SO question and found a confusing line of text. Confusing text See: https://realm.io/docs/java/latest/#threading Once the background service adds new customers to the UI  the customers list is automatically updated in the UI without any additional intervention on your part. Confusion: So if you update it in the UI  it is updated in the UI??? Expected Once the background service adds new customers to the realm database  the customers list is automatically updated in the UI without any additional intervention on your part. Version of Realm and tooling Realm version(s): latest,0
5096,17-08-11,Issue 5096 : Class name in error message from query condition methods is wrong ， Issue #5096 ， realm/realm-java ， GitHub Following test case will fail with org.junit.ComparisonFailure: expected:<...eld 'age' in table '[Cat]' is of invalid type...> but was:<...eld 'age' in table '[Owner]' is of invalid type...> @Test public void isEmpty_acrossLink_wrongTypeThrows() {     for (RealmFieldType type : RealmFieldType.values()) {         if (SUPPORTED_IS_EMPTY_TYPES.contains(type)) {             continue;         }          RealmQuery<Owner> query = realm.where(Owner.class);         try {             query.isEmpty(Owner.FIELD_CAT + "." + Cat.FIELD_AGE);             fail();         } catch (IllegalArgumentException expected) {             assertEquals(String.format(Locale.US                      "Invalid query: field '%s' in table '%s' is of invalid type '%s'."                      Cat.FIELD_AGE  Cat.CLASS_NAME  RealmFieldType.INTEGER.name())                      expected.getMessage());         }     } }  The point is that the test case uses link query.,0
5143,17-08-23,Issue 5143 : Client Reset triggered manually causes errors when Realm is re-opened ， Issue #5143 ， realm/realm-java ， GitHub If a ClientReset error is triggered  the Session Error handler is correctly triggered with the ClientResetRequiredError. However  if the user then decides to manually trigger the cleanup and re-open the Realm  it appears not to work and Object Store crashes with a exception saying the path doesn't exist: io.realm.exceptions.RealmFileException: Unable to open a realm at path '/data/data/io.realm.test/cache/junit1002515331/3054f53f-2ae7-448d-8ff6-52876b6befa9/3054f53f-2ae7-448d-8ff6-52876b6befa9/myrealm.management': make_dir() failed: No such file or directory. (make_dir() failed: No such file or directory) (/data/data/io.realm.test/cache/junit1002515331/3054f53f-2ae7-448d-8ff6-52876b6befa9/3054f53f-2ae7-448d-8ff6-52876b6befa9/myrealm.management) in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 256 Kind: ACCESS_ERROR. at io.realm.internal.SharedRealm.nativeGetSharedRealm(Native Method) at io.realm.internal.SharedRealm.<init>(SharedRealm.java:190) at io.realm.internal.SharedRealm.getInstance(SharedRealm.java:243) at io.realm.internal.SharedRealm.getInstance(SharedRealm.java:206) at io.realm.RealmCache.doCreateRealmOrGetFromCache(RealmCache.java:303) at io.realm.RealmCache.createRealmOrGetFromCache(RealmCache.java:289) at io.realm.Realm.getInstance(Realm.java:320) at io.realm.SessionTests$5$1.run(SessionTests.java:220)  The expected use case is that in an event of Client Reset should be possible to: Close all open Realm instances Manually trigger the ClientResetRequiredError.executeClientReset() method Open the Realm again using the same configuration Be able to download all changes using either waitForInitialRemoteData or SyncSession.downloadAllServerChanges(),1
5163,17-08-28,Issue 5163 : Can't cancel a non-existing write transaction ， Issue #5163 ， realm/realm-java ， GitHub Hello  i'm having an issue. I needed to add migration to my project and after that i caught some crashes with the following stacktrace: java.lang.RuntimeException: Unable to create application com.project.app.App: java.lang.IllegalStateException: Can't cancel a non-existing write transaction in /home/cc/repo/realm/release/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 272 	at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6057) 	at android.app.ActivityThread.access$1700(ActivityThread.java:218) 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1805) 	at android.os.Handler.dispatchMessage(Handler.java:102) 	at android.os.Looper.loop(Looper.java:145) 	at android.app.ActivityThread.main(ActivityThread.java:7007) 	at java.lang.reflect.Method.invoke(Native Method) 	at java.lang.reflect.Method.invoke(Method.java:372) 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1404) 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1199) Caused by: java.lang.IllegalStateException: Can't cancel a non-existing write transaction in /home/cc/repo/realm/release/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 272 	at io.realm.internal.SharedRealm.nativeCancelTransaction(Native Method) 	at io.realm.internal.SharedRealm.cancelTransaction(SharedRealm.java:267) 	at io.realm.BaseRealm.cancelTransaction(BaseRealm.java:372) 	at io.realm.DynamicRealm.cancelTransaction(DynamicRealm.java:48) 	at io.realm.BaseRealm$4.onResult(BaseRealm.java:661) 	at io.realm.RealmCache.doInvokeWithGlobalRefCount(RealmCache.java:489) 	at io.realm.RealmCache.invokeWithGlobalRefCount(RealmCache.java:484) 	at io.realm.BaseRealm.migrateRealm(BaseRealm.java:634) 	at io.realm.Realm.migrateRealm(Realm.java:1692) 	at io.realm.Realm.createInstance(Realm.java:355) 	at io.realm.RealmCache.doCreateRealmOrGetFromCache(RealmCache.java:345) 	at io.realm.RealmCache.createRealmOrGetFromCache(RealmCache.java:283) 	at io.realm.Realm.getDefaultInstance(Realm.java:272) 	at com.project.data.db.DbHelper$Companion.init(DbHelper.kt:67) 	at com.project.app.App.onCreate(App.java:52) 	at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1035) 	at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6054)  This is my DbHelper init method: fun init(context: Context) {             Realm.init(context)             Realm.setDefaultConfiguration(defaultConfig())              var realm: Realm? = null             try {                 realm = Realm.getDefaultInstance()             } catch (exception: IllegalArgumentException) {                 Realm.deleteRealm(defaultConfig())             } finally {                 realm?.close()             } }  fun defaultConfig() = RealmConfiguration.Builder()                 .schemaVersion(MyRealmMigration.REALM_VERSION)                 .migration(MyRealmMigration())                 .build()  And migration class: public class MyRealmMigration implements RealmMigration {      public static final long REALM_VERSION = 1;      @Override     public void migrate(DynamicRealm realm  long oldVersion  long newVersion) {         RealmSchema schema = realm.getSchema();         if (oldVersion == 0) {             RealmObjectSchema routeSchedule = schema.get("RouteSchedule");             if (routeSchedule.getFieldType("price").equals(RealmFieldType.FLOAT)) {                 routeSchedule                         .removeField("price")                         .addField("price"  String.class);             }              RealmObjectSchema routeTrip = schema.get("RouteTrip");             if (!routeTrip.hasField("platformFrom")) {                 routeTrip.addField("platformFrom"  String.class)                         .addField("platformTo"  String.class);             }              oldVersion++;         }     } }  Version of Realm and tooling Realm version(s): 3.2.1 Realm sync feature enabled: no Android Studio version: 2.3.3 Which Android version and device: Various devices and versions,0
5165,17-08-29,Issue 5165 : Crash when syncing Realm ， Issue #5165 ， realm/realm-java ， GitHub Goal Trying to sync a Realm. The Realm is created by the Java client and one object is written to it with details about the user  right after Realm auth. This also only happens for some users. But it happens every time for those users. The users have all the same data from a client perspective. When calling Realm.getInstance(myConfig)... Expected Results ...it will open the Realm and begin syncing any data up to/down from ROS. Actual Results ...the app crashes with the following message: Fatal signal 11 (SIGSEGV)  code 1  fault addr 0xbe8dab64 in tid 8785 (Thread-13) Steps & Code to Reproduce Here are the logs leading up to the crash: Connection[3]: WebSocket::initiate_client_handshake() Connection[2]: WebSocket::handle_http_response_received() Connection[2]: Will emit a ping in 600000 milliseconds Connection[2]: Session[4]: Sending: BIND(server_path='/affdedc20b10a596127b9bd333f51a3e/*a_different_realm*  signed_user_token_size=1041  need_file_ident_pair=0) Connection[2]: Session[4]: Sending: IDENT(server_file_ident=1  client_file_ident=7  client_file_ident_secret=2349923828407908702  scan_server_version=0  scan_client_version=0  latest_server_version=0  latest_server_session_ident=0) Using already open Realm file: /data/data/[PACKAGE_NAME]/files/realm-object-server/affdedc20b10a596127b9bd333f51a3e/affdedc20b10a596127b9bd333f51a3e/*a_different_realm* Connection[2]: Session[4]: Sending: UPLOAD(client_version=2  server_version=0  changeset_size=249  timestamp=83870271748) Using already open Realm file: /data/data/[PACKAGE_NAME]/files/realm-object-server/affdedc20b10a596127b9bd333f51a3e/affdedc20b10a596127b9bd333f51a3e/*a_different_realm* Connection[2]: Session[4]: Sending: UPLOAD(client_version=3  server_version=0  changeset_size=1865  timestamp=83870271793) Using already open Realm file: /data/data/[PACKAGE_NAME]/files/realm-object-server/affdedc20b10a596127b9bd333f51a3e/affdedc20b10a596127b9bd333f51a3e/*a_different_realm* Connection[2]: Session[4]: Sending: UPLOAD(client_version=6  server_version=0  changeset_size=1865  timestamp=83871234822) Using already open Realm file: /data/data/[PACKAGE_NAME]/files/realm-object-server/affdedc20b10a596127b9bd333f51a3e/affdedc20b10a596127b9bd333f51a3e/*a_different_realm* Connection[2]: Session[4]: Sending: UPLOAD(client_version=8  server_version=0  changeset_size=1862  timestamp=83873276439) Download message compression: is_body_compressed = 1  compressed_body_size=13032  uncompressed_body_size=20432 Connection[1]: Session[2]: Received: DOWNLOAD(scan_server_version=19  scan_client_version=6  latest_server_version=19  latest_server_session_ident=6431164143487835281  latest_client_version=6  downloadable_bytes=20066  number_of_changesets=16) Using already open Realm file: /data/data/[PACKAGE_NAME]/files/realm-object-server/affdedc20b10a596127b9bd333f51a3e/affdedc20b10a596127b9bd333f51a3e/**the_realm_we're_trying_to_sync**  A/libc: Fatal signal 11 (SIGSEGV)  code 1  fault addr 0xbe8dab64 in tid 8785 (Thread-13)  Code Sample SyncUser syncUser = SyncUser.currentUser(); String realmUrl = "a-valid-path"; SyncConfiguration syncConfiguration = new SyncConfiguration.Builder(syncUser  realmUrl)                 .trustedRootCA(certName)                 .modules(new UserModule())                 .build(); Realm.getInstance(syncConfiguration); UserModule.java: @RealmModule(classes = {User.class}) public class UserModule {} Version of Realm and tooling Realm version(s): Realm Java 4.0.0-BETA2-afe7114-SNAPSHOT and ROS 2.0.0-rc2 Realm sync feature enabled: yes Android Studio version: 2.3.1 Which Android version and device: Nexus 6P running 6.0.1,0
5178,17-08-31,Issue 5178 : Native crash ， Issue #5178 ， realm/realm-java ， GitHub Native Crash This comes from the play developers console. So as of right now I don't have more data than just the crash   native: pc 000000000004ad34  /system/lib/libc.so (tgkill+12)   native: pc 00000000000484d3  /system/lib/libc.so (pthread_kill+34)   native: pc 000000000001d495  /system/lib/libc.so (raise+10)   native: pc 0000000000018fd1  /system/lib/libc.so (__libc_android_abort+34)   native: pc 0000000000017034  /system/lib/libc.so (abort+4)   native: pc 000000000012bb6b  /data/app/com.anghami-1/lib/arm/librealm-jni.so   native: pc 000000000012bb97  /data/app/com.anghami-1/lib/arm/librealm-jni.so   native: pc 000000000012bbef  /data/app/com.anghami-1/lib/arm/librealm-jni.so   native: pc 00000000000f20f1  /data/app/com.anghami-1/lib/arm/librealm-jni.so   native: pc 00000000000eff5d  /data/app/com.anghami-1/lib/arm/librealm-jni.so   native: pc 00000000000f0145  /data/app/com.anghami-1/lib/arm/librealm-jni.so   native: pc 00000000000f1275  /data/app/com.anghami-1/lib/arm/librealm-jni.so   native: pc 000000000007fb7f  /data/app/com.anghami-1/lib/arm/librealm-jni.so   native: pc 0000000000073871  /data/app/com.anghami-1/lib/arm/librealm-jni.so   native: pc 000000000002fdab  /data/app/com.anghami-1/lib/arm/librealm-jni.so (Java_io_realm_internal_SharedRealm_nativeCommitTransaction+22)   native: pc 0000000000ecf96d  /data/app/com.anghami-1/oat/arm/base.odex  Version of Realm and tooling Realm version(s): 3.5.0 Realm sync feature enabled:no Android Studio version: Android Studio 3.0 beta 2 Which Android version and device: 2 devices have the crash: Mars_pro  Android 7.0 Lenovo P1 (P1a42)  2048MB RAM  Android 7.1 This comes from our beta channel with 150 currently active users. Our production build sees around 6~7M monthly actives so we expect that this will become a lot more serious once we deploy there.,0
5195,17-09-02,Issue 5195 : Realm 3.7.0: permissionManager.makeOffer: First start error: If you see this error  please send this log to help@realm.io ， Issue #5195 ， realm/realm-java ， GitHub Gradle 4.1  Android 4.3. I want to get token by Realm 3.7.0. (by using class PermissionManager) and send token to all Android clients. My Project's buil.gradle: `buildscript {     ext.kotlin_version = '1.0.5-2'     repositories {         jcenter()     }     dependencies {         classpath 'com.android.tools.build:gradle:2.3.3'         classpath "io.realm:realm-gradle-plugin:3.7.0"         classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"     } }  allprojects {     repositories {         jcenter()     } }  My app's build.gradle: apply plugin: 'com.android.application' apply plugin: 'kotlin-android' apply plugin: 'realm-android'  realm {     syncEnabled = true; }  android {     compileSdkVersion 26     buildToolsVersion "26.0.1"      defaultConfig {         applicationId "com.myproject"         minSdkVersion 15         targetSdkVersion 26         versionCode 1         versionName "1.0"         testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"     }      buildTypes {       release {             minifyEnabled false             proguardFiles getDefaultProguardFile('proguard-android.txt')  'proguard-rules.pro'       }       debug {                    }     }     configurations.all {         resolutionStrategy.force 'com.google.code.findbugs:jsr305:1.3.9'     } }   dependencies {     compile fileTree(dir: 'libs'  include: ['*.jar'])     androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2'  {         exclude group: 'com.android.support'  module: 'support-annotations'     })     compile 'com.android.support:appcompat-v7:26.+'     compile 'com.android.support.constraint:constraint-layout:1.0.2'     compile 'com.google.code.gson:gson:2.8.1'     compile "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"     compile 'org.nanohttpd:nanohttpd:2.2.0'      testCompile 'junit:junit:4.12' }   My Android code:` import io.realm.ObjectServerError; import io.realm.PermissionManager; import io.realm.Realm; import io.realm.RealmConfiguration; import io.realm.SyncConfiguration; import io.realm.SyncCredentials; import io.realm.SyncUser; import io.realm.permissions.AccessLevel; import io.realm.permissions.PermissionOffer;  public class MyApplication extends Application {      @Override     public void onCreate() {         super.onCreate();         Realm.init(this);         loginAndConfig();     }      private void loginAndConfig() {         SyncUser.Callback callback = new SyncUser.Callback() {             @Override             public void onSuccess(SyncUser user) {                 setRealmDefaultConfiguration(user);                 createToken(user  new PermissionOffer(REALM_URL  AccessLevel.READ  null));             }              @Override             public void onError(ObjectServerError error) {                 String errorMsg;                 switch (error.getErrorCode()) {                     case UNKNOWN_ACCOUNT:                         errorMsg = "Account does not exists.";                         break;                     case INVALID_CREDENTIALS:                         errorMsg = "User name and password does not match";                         break;                     default:                         errorMsg = error.toString();                 }             }         };          SyncCredentials syncCredentials = SyncCredentials.usernamePassword(                 BuildConfig.USER_NAME  BuildConfig.PASSWORD  false);         SyncUser.loginAsync(syncCredentials  AUTH_URL  callback);     }      private void setRealmDefaultConfiguration(SyncUser syncUser) {         SyncConfiguration syncConfig = new SyncConfiguration.Builder(syncUser  REALM_URL).build();         Realm.setDefaultConfiguration(syncConfig);     }      private void createToken(SyncUser syncUser  final PermissionOffer permissionOffer) {         Log.d(TAG  "createToken: Start");         PermissionManager permissionManager = syncUser.getPermissionManager();         Log.d(TAG  "createToken: success created permissionManager");          permissionManager.makeOffer(permissionOffer  new PermissionManager.MakeOfferCallback() {             @Override             public void onSuccess(String offerToken) {                  Log.d(TAG  "onSuccess: offerToken = " + offerToken);             }              @Override             public void onError(ObjectServerError error) {                Log.e(TAG  "onError: "  error);             }         });     } }  As result after FIRST start of Android application: Success login to Realm Server Object Success called my custom method createToken(SyncUser syncUser  final PermissionOffer permissionOffer) In logcat show "createToken: Start" In logcat show "createToken: success created permissionManager" But then I get the next error: D/com.myproject..MyApplication( 1580): createToken: Start D/com.myproject..MyApplication( 1580): createToken: success created permissionManager E/REALM	  ( 1580): /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/jni_util/java_class.cpp:50: [realm-core-2.8.6] Assertion failed: cls E/REALM	  ( 1580): IMPORTANT: if you see this error  please send this log to help@realm.io. F/libc	  ( 1580): Fatal signal 11 (SIGSEGV) at 0xdeadbaad (code=1)  thread 1580 (.myproject.realmserver) I/DEBUG	  (  123): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** I/DEBUG	  (  123): Build fingerprint: 'google/yakju/maguro:4.3/JWR66Y/776638:user/release-keys' I/DEBUG	  (  123): Revision: '9' I/DEBUG	  (  123): pid: 1580  tid: 1580  name: .myproject.realmserver	>>> com.myproject. <<< I/DEBUG	  (  123): signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr deadbaad I/DEBUG	  (  123):     r0 00000027  r1 415a5f18	 r2 00000008  r3 deadbaad I/DEBUG	  (  123):     r4 00000000  r5 be908d64	 r6 be908e70  r7 5ecadd78 I/DEBUG	  (  123):     r8 00000032  r9 5ecadd90	 sl 2aaaaaaa  fp 58d8f008 I/DEBUG	  (  123):     ip 00000001  sp be908d60	 lr 400e9f93  pc 400e74e8  cpsr 600f0030 I/DEBUG	  (  123):     d0  2e6f692e6d6c6165  d1	 6f79206669203a54 I/DEBUG	  (  123):     d2  6874206565732075  d3	 726f727265207369 I/DEBUG	  (  123):     d4  657361656c70202c  d5	 687420646e657320 I/DEBUG	  (  123):     d6  7420676f6c207369  d7	 7240706c6568206f I/DEBUG	  (  123):     d8  0000000000000000  d9	 0000000000000000 I/DEBUG	  (  123):     d10 0000000000000000  d11 0000000000000000 I/DEBUG	  (  123):     d12 0000000000000000  d13 0000000000000000 I/DEBUG	  (  123):     d14 0000000000000000  d15 0000000000000000 I/DEBUG	  (  123):     d16 0000000000000008  d17 0000000000000000 I/DEBUG	  (  123):     d18 3fd9005f20000000  d19 3fe0000000000000 I/DEBUG	  (  123):     d20 0000000000000000  d21 4040000000000000 I/DEBUG	  (  123):     d22 4040000000000000  d23 4040000000000000 I/DEBUG	  (  123):     d24 3ff0000000000000  d25 3ff0000000000000 I/DEBUG	  (  123):     d26 be23e4f5df600000  d27 3f66f5abf13a4071 I/DEBUG	  (  123):     d28 bed0810fee5b0a9d  d29 3ee086fe7cc5fe6e I/DEBUG	  (  123):     d30 be23e4f5df66956e  d31 3f11566a75de22e0 I/DEBUG	  (  123):     scr 60000014 I/DEBUG	  (  123):  I/DEBUG	  (  123): backtrace: I/DEBUG	  (  123):     #00  pc 0001e4e8	 /system/lib/libc.so I/DEBUG	  (  123):     #01  pc 0001c510	 /system/lib/libc.so (abort+4) I/DEBUG	  (  123):     #02  pc 0028b42b	 /data/app-lib/com.myproject.-1/librealm-jni.so I/DEBUG	  (  123):     #03  pc 0028b457	 /data/app-lib/com.myproject.-1/librealm-jni.so I/DEBUG	  (  123):  I/DEBUG	  (  123): stack: I/DEBUG	  (  123):	    be908d20  be908d68	[stack] I/DEBUG	  (  123):	    be908d24  000000d6	 I/DEBUG	  (  123):	    be908d28  40111170	/system/lib/libc.so I/DEBUG	  (  123):	    be908d2c  415a5f18	 I/DEBUG	  (  123):	    be908d30  00000015	 I/DEBUG	  (  123):	    be908d34  400e8f75	/system/lib/libc.so (__sflush+56) I/DEBUG	  (  123):	    be908d38  40111264	/system/lib/libc.so I/DEBUG	  (  123):	    be908d3c  401111c4	/system/lib/libc.so I/DEBUG	  (  123):	    be908d40  00000000	 I/DEBUG	  (  123):	    be908d44  400e9f93	/system/lib/libc.so (_fwalk+34) I/DEBUG	  (  123):	    be908d48  400e923d	/system/lib/libc.so (_cleanup) I/DEBUG	  (  123):	    be908d4c  be908d64	[stack] I/DEBUG	  (  123):	    be908d50  be908e70	[stack] I/DEBUG	  (  123):	    be908d54  5ecadd78	/data/app-lib/com.myproject.-1/librealm-jni.so I/DEBUG	  (  123):	    be908d58  df0027ad	 I/DEBUG	  (  123):	    be908d5c  00000000	 I/DEBUG	  (  123):     #00  be908d60  00000032	 I/DEBUG	  (  123):	    be908d64  fffffbdf	 I/DEBUG	  (  123):	    be908d68  40111000	/system/lib/libc.so I/DEBUG	  (  123):	    be908d6c  be908d9c	[stack] I/DEBUG	  (  123):	    be908d70  be908d9c	[stack] I/DEBUG	  (  123):	    be908d74  be908dac	[stack] I/DEBUG	  (  123):	    be908d78  be908e70	[stack] I/DEBUG	  (  123):	    be908d7c  be908d9c	[stack] I/DEBUG	  (  123):	    be908d80  be908dac	[stack] I/DEBUG	  (  123):	    be908d84  400e5514	/system/lib/libc.so (__pthread_clone) I/DEBUG	  (  123):     #01  be908d88  00000000	 I/DEBUG	  (  123):	    be908d8c  5ec3c42f	/data/app-lib/com.myproject.-1/librealm-jni.so I/DEBUG	  (  123):     #02  be908d90  00000000	 I/DEBUG	  (  123):	    be908d94  5ec3c45b	/data/app-lib/com.myproject.-1/librealm-jni.so I/DEBUG	  (  123):  I/DEBUG	  (  123): memory near r1: I/DEBUG	  (  123):     415a5ef8 00000001 0000128e 00002fa8 00001f40   I/DEBUG	  (  123):     415a5f08 00001f40 00000001 00000001 0000100b   I/DEBUG	  (  123):     415a5f18 6d206e49 69616d67 4e4a206e 6e4f5f49   I/DEBUG	  (  123):     415a5f28 64616f4c 0000000a 6d202230 61537861   I/DEBUG	  (  123):     415a5f38 656c706d 65746152 3834223d 22303030   I/DEBUG	  (  123):     415a5f48 2020200a 20202020 6e696d20 6e616843   I/DEBUG	  (  123):     415a5f58 736c656e 2231223d 78616d20 6e616843   I/DEBUG	  (  123):     415a5f68 736c656e 2231223d 0a3e2f20 2020200a   I/DEBUG	  (  123):     415a5f78 75413c20 456f6964 646f636e 61437265   I/DEBUG	  (  123):     415a5f88 616e2070 223d656d 65636161 2022646c   I/DEBUG	  (  123):     415a5f98 62616e65 3d64656c 75727422 200a2265   I/DEBUG	  (  123):     415a5fa8 20202020 6d202020 69426e69 74615274   I/DEBUG	  (  123):     415a5fb8 31223d65 30303036 616d2022 74694278   I/DEBUG	  (  123):     415a5fc8 65746152 3931223d 30303032 20200a22   I/DEBUG	  (  123):     415a5fd8 20202020 696d2020 6d61536e 52656c70   I/DEBUG	  (  123):     415a5fe8 3d657461 30363122 20223030 5378616d   I/DEBUG	  (  123):  I/DEBUG	  (  123): memory near r5: I/DEBUG	  (  123):     be908d44 400e9f93 400e923d be908d64 be908e70   I/DEBUG	  (  123):     be908d54 5ecadd78 df0027ad 00000000 00000032   I/DEBUG	  (  123):     be908d64 fffffbdf 40111000 be908d9c be908d9c   I/DEBUG	  (  123):     be908d74 be908dac be908e70 be908d9c be908dac   I/DEBUG	  (  123):     be908d84 400e5514 00000000 5ec3c42f 00000000   I/DEBUG	  (  123):     be908d94 5ec3c45b be908dac 58da9b04 5ecfe858   I/DEBUG	  (  123):     be908da4 5ec3c4b3 00000e80 5ecfe844 00000000   I/DEBUG	  (  123):     be908db4 5ecfe858 5ed08a60 58d84a44 58d84a44   I/DEBUG	  (  123):     be908dc4 58d84a45 58d84a44 58d84b0d 58d84c44   I/DEBUG	  (  123):     be908dd4 5ed1b6c0 00000018 58d84a44 5ecfe86c   I/DEBUG	  (  123):     be908de4 00000006 00000000 00001002 00000000   I/DEBUG	  (  123):     be908df4 00000000 00000000 00000000 00000000   I/DEBUG	  (  123):     be908e04 00000000 00000000 00000000 00000000   I/DEBUG	  (  123):     be908e14 00000000 00000000 00000000 00000000   I/DEBUG	  (  123):     be908e24 00000000 00000000 00000000 00000000   I/DEBUG	  (  123):     be908e34 00000000 00000000 00000000 00000000   I/DEBUG	  (  123):  I/DEBUG	  (  123): memory near r6: I/DEBUG	  (  123):     be908e50 00000000 5ebf0120 be908db8 5ed1b444   I/DEBUG	  (  123):     be908e60 5ed1b6e0 5ed1be10 41771d90 5ea59267   I/DEBUG	  (  123):     be908e70 5ecb5be8 00000000 5ed12994 00000001   I/DEBUG	  (  123):     be908e80 58d92ca8 5ea5927f 00000001 58d93af8   I/DEBUG	  (  123):     be908e90 58d92920 5ea56269 58da96ec 00000008   I/DEBUG	  (  123):     be908ea0 5eba48a1 58d93af8 58d92ca8 58d92ca8   I/DEBUG	  (  123):     be908eb0 be908eec 58d93af8 58d92ca8 58d92ca8   I/DEBUG	  (  123):     be908ec0 be908eec 5ea6fc81 58e9a770 00000000   I/DEBUG	  (  123):     be908ed0 00000000 00000000 be908f08 58d8f010   I/DEBUG	  (  123):     be908ee0 000300c8 5ebff1a7 01000408 58d8f010   I/DEBUG	  (  123):     be908ef0 00000000 00000000 00000000 be908f18   I/DEBUG	  (  123):     be908f00 00000000 be908eeb 58da2da8 00000400   I/DEBUG	  (  123):     be908f10 be909028 592c9c77 592c9c77 00000000   I/DEBUG	  (  123):     be908f20 00000000 00000000 00000000 00000000   I/DEBUG	  (  123):     be908f30 be909000 00090000 be908fc8 58d8fda0   I/DEBUG	  (  123):     be908f40 000300c8 5ea84691 00000004 00000000   I/DEBUG	  (  123):  I/DEBUG	  (  123): memory near r7: I/DEBUG	  (  123):     5ecadd58 74206f74 62206568 746c6975 69206e69   I/DEBUG	  (  123):     5ecadd68 656c706d 746e656d 6f697461 00002e6e   I/DEBUG	  (  123):     5ecadd78 65737341 6f697472 6166206e 64656c69   I/DEBUG	  (  123):     5ecadd88 6c63203a 00000073 6573552f 632f7372   I/DEBUG	  (  123):     5ecadd98 65522f6d 2f6d6c61 6c616572 616a2d6d   I/DEBUG	  (  123):     5ecadda8 722f6176 6d6c6165 6165722f 6c2d6d6c   I/DEBUG	  (  123):     5ecaddb8 61726269 732f7972 6d2f6372 2f6e6961   I/DEBUG	  (  123):     5ecaddc8 2f707063 5f696e6a 6c697475 76616a2f   I/DEBUG	  (  123):     5ecaddd8 6c635f61 2e737361 00707063 6176614a   I/DEBUG	  (  123):     5ecadde8 63786520 69747065 68206e6f 62207361   I/DEBUG	  (  123):     5ecaddf8 206e6565 7563636f 64657272 6554202e   I/DEBUG	  (  123):     5ecade08 6e696d72 20657461 20494e4a 74207962   I/DEBUG	  (  123):     5ecade18 776f7268 20676e69 2b632061 7865202b   I/DEBUG	  (  123):     5ecade28 74706563 2e6e6f69 00000000 280a3125   I/DEBUG	  (  123):     5ecade38 253a3225 00002933 72656854 73692065   I/DEBUG	  (  123):     5ecade48 70206120 69646e65 4a20676e 20617661   I/DEBUG	  (  123):  I/DEBUG	  (  123): memory near r9: I/DEBUG	  (  123):     5ecadd70 6f697461 00002e6e 65737341 6f697472   I/DEBUG	  (  123):     5ecadd80 6166206e 64656c69 6c63203a 00000073   I/DEBUG	  (  123):     5ecadd90 6573552f 632f7372 65522f6d 2f6d6c61   I/DEBUG	  (  123):     5ecadda0 6c616572 616a2d6d 722f6176 6d6c6165   I/DEBUG	  (  123):     5ecaddb0 6165722f 6c2d6d6c 61726269 732f7972   I/DEBUG	  (  123):     5ecaddc0 6d2f6372 2f6e6961 2f707063 5f696e6a   I/DEBUG	  (  123):     5ecaddd0 6c697475 76616a2f 6c635f61 2e737361   I/DEBUG	  (  123):     5ecadde0 00707063 6176614a 63786520 69747065   I/DEBUG	  (  123):     5ecaddf0 68206e6f 62207361 206e6565 7563636f   I/DEBUG	  (  123):     5ecade00 64657272 6554202e 6e696d72 20657461   I/DEBUG	  (  123):     5ecade10 20494e4a 74207962 776f7268 20676e69   I/DEBUG	  (  123):     5ecade20 2b632061 7865202b 74706563 2e6e6f69   I/DEBUG	  (  123):     5ecade30 00000000 280a3125 253a3225 00002933   I/DEBUG	  (  123):     5ecade40 72656854 73692065 70206120 69646e65   I/DEBUG	  (  123):     5ecade50 4a20676e 20617661 65637865 6f697470   I/DEBUG	  (  123):     5ecade60 00002e6e 65737341 6f697472 6166206e   I/DEBUG	  (  123):  I/DEBUG	  (  123): memory near sl: I/DEBUG	  (  123):     2aaaaa88 ffffffff ffffffff ffffffff ffffffff   I/DEBUG	  (  123):     2aaaaa98 ffffffff ffffffff ffffffff ffffffff   I/DEBUG	  (  123):     2aaaaaa8 ffffffff ffffffff ffffffff ffffffff   I/DEBUG	  (  123):     2aaaaab8 ffffffff ffffffff ffffffff ffffffff   I/DEBUG	  (  123):     2aaaaac8 ffffffff ffffffff ffffffff ffffffff   I/DEBUG	  (  123):     2aaaaad8 ffffffff ffffffff ffffffff ffffffff   I/DEBUG	  (  123):     2aaaaae8 ffffffff ffffffff ffffffff ffffffff   I/DEBUG	  (  123):     2aaaaaf8 ffffffff ffffffff ffffffff ffffffff   I/DEBUG	  (  123):     2aaaab08 ffffffff ffffffff ffffffff ffffffff   I/DEBUG	  (  123):     2aaaab18 ffffffff ffffffff ffffffff ffffffff   I/DEBUG	  (  123):     2aaaab28 ffffffff ffffffff ffffffff ffffffff   I/DEBUG	  (  123):     2aaaab38 ffffffff ffffffff ffffffff ffffffff   I/DEBUG	  (  123):     2aaaab48 ffffffff ffffffff ffffffff ffffffff   I/DEBUG	  (  123):     2aaaab58 ffffffff ffffffff ffffffff ffffffff   I/DEBUG	  (  123):     2aaaab68 ffffffff ffffffff ffffffff ffffffff   I/DEBUG	  (  123):     2aaaab78 ffffffff ffffffff ffffffff ffffffff   I/DEBUG	  (  123):  I/DEBUG	  (  123): memory near fp: I/DEBUG	  (  123):     58d8efe8 00000000 00000000 00000000 00000000   I/DEBUG	  (  123):     58d8eff8 41414141 65000008 00000000 00000e6b   I/DEBUG	  (  123):     58d8f008 00000000 00000000 5ed06360 00000000   I/DEBUG	  (  123):     58d8f018 5ed05950 00090000 58d92da8 00000007   I/DEBUG	  (  123):     58d8f028 00000000 00000000 00000001 00000000   I/DEBUG	  (  123):     58d8f038 417d268c 417d2680 58da2068 00000028   I/DEBUG	  (  123):     58d8f048 58d75000 00001000 00001000 0000000c   I/DEBUG	  (  123):     58d8f058 58d92e50 00000090 00000003 00000000   I/DEBUG	  (  123):     58d8f068 00000000 00000000 00000000 00000000   I/DEBUG	  (  123):     58d8f078 00000000 00000000 00000000 00000000   I/DEBUG	  (  123):     58d8f088 00000000 00000000 00000000 00000000   I/DEBUG	  (  123):     58d8f098 00000000 00000000 00000000 00000000   I/DEBUG	  (  123):     58d8f0a8 00000000 00000200 58d75200 00000003   I/DEBUG	  (  123):     58d8f0b8 00000000 00000000 00000000 0000dcd8   I/DEBUG	  (  123):     58d8f0c8 58e99cd8 00000008 00000500 58d75500   I/DEBUG	  (  123):     58d8f0d8 00000003 00000e08 58d75e08 00000008   I/DEBUG	  (  123):  I/DEBUG	  (  123): memory near sp: I/DEBUG	  (  123):     be908d40 00000000 400e9f93 400e923d be908d64   I/DEBUG	  (  123):     be908d50 be908e70 5ecadd78 df0027ad 00000000   I/DEBUG	  (  123):     be908d60 00000032 fffffbdf 40111000 be908d9c   I/DEBUG	  (  123):     be908d70 be908d9c be908dac be908e70 be908d9c   I/DEBUG	  (  123):     be908d80 be908dac 400e5514 00000000 5ec3c42f   I/DEBUG	  (  123):     be908d90 00000000 5ec3c45b be908dac 58da9b04   I/DEBUG	  (  123):     be908da0 5ecfe858 5ec3c4b3 00000e80 5ecfe844   I/DEBUG	  (  123):     be908db0 00000000 5ecfe858 5ed08a60 58d84a44   I/DEBUG	  (  123):     be908dc0 58d84a44 58d84a45 58d84a44 58d84b0d   I/DEBUG	  (  123):     be908dd0 58d84c44 5ed1b6c0 00000018 58d84a44   I/DEBUG	  (  123):     be908de0 5ecfe86c 00000006 00000000 00001002   I/DEBUG	  (  123):     be908df0 00000000 00000000 00000000 00000000   I/DEBUG	  (  123):     be908e00 00000000 00000000 00000000 00000000   I/DEBUG	  (  123):     be908e10 00000000 00000000 00000000 00000000   I/DEBUG	  (  123):     be908e20 00000000 00000000 00000000 00000000   I/DEBUG	  (  123):     be908e30 00000000 00000000 00000000 00000000   I/DEBUG	  (  123):  I/DEBUG	  (  123): code around pc: I/DEBUG	  (  123):     400e74c8 461ce00b 2b006823 e026d1fb b12468e4   I/DEBUG	  (  123):     400e74d8 21014a18 6011447a 4b1247a0 24002027   I/DEBUG	  (  123):     400e74e8 f7fc7018 2106ee42 e898f7fe 5180f04f   I/DEBUG	  (  123):     400e74f8 a9029104 94022006 9403460a ec44f7fd   I/DEBUG	  (  123):     400e7508 46224629 f7fd2002 f7fcec50 2106ee2e   I/DEBUG	  (  123):     400e7518 e884f7fe f7fc2001 6960eada d1dc2800   I/DEBUG	  (  123):     400e7528 bf00e7d4 deadbaad 00029b30 ffffff9c   I/DEBUG	  (  123):     400e7538 0002cdc0 0002cda4 2400b510 aa04b088   I/DEBUG	  (  123):     400e7548 46699002 94014620 94039400 eb92f7fd   I/DEBUG	  (  123):     400e7558 db0642a0 b1139b07 1c419806 98069106   I/DEBUG	  (  123):     400e7568 4620e000 bd10b008 4b1eb40e b082b5f0   I/DEBUG	  (  123):     400e7578 447b491d f107af00 585e021c f8522101   I/DEBUG	  (  123):     400e7588 68354b04 f852607d 31015b04 d1fa2d00   I/DEBUG	  (  123):     400e7598 320e008a 0507f022 0220f107 0d05ebad   I/DEBUG	  (  123):     400e75a8 f107603a 46690224 9400466d 4c04f852   I/DEBUG	  (  123):     400e75b8 f8453204 2c004f04 f8dfd1f8 f853c030   I/DEBUG	  (  123):  I/DEBUG	  (  123): code around lr: I/DEBUG	  (  123):     400e9f70 4a0e4b0d e92d447b 260041f0 4680589c   I/DEBUG	  (  123):     400e9f80 686768a5 f9b5e007 2b00300c 4628dd02   I/DEBUG	  (  123):     400e9f90 430647c0 3f013554 6824d5f5 d1ef2c00   I/DEBUG	  (  123):     400e9fa0 e8bd4630 bf0081f0 00027060 ffffffc4   I/DEBUG	  (  123):     400e9fb0 43f0e92d fb01461e 4b16f502 4916460f   I/DEBUG	  (  123):     400e9fc0 447bb087 aa014614 20019001 95029203   I/DEBUG	  (  123):     400e9fd0 90049505 681a585b b1124698 f0094630   I/DEBUG	  (  123):     400e9fe0 4630fd26 f7ffa903 4681fe9c 0000f8d8   I/DEBUG	  (  123):     400e9ff0 4630b110 fd28f009 0f00f1b9 9c05d005   I/DEBUG	  (  123):     400ea000 1b284639 eb30f017 46204604 e8bdb007   I/DEBUG	  (  123):     400ea010 bf0083f0 00027012 ffffff60 46036842   I/DEBUG	  (  123):     400ea020 60411e51 da012900 bb9ef000 f8126802   I/DEBUG	  (  123):     400ea030 601a0b01 00004770 4a104b0f b570447b   I/DEBUG	  (  123):     400ea040 589b4604 461e6819 f009b109 6860fcf0   I/DEBUG	  (  123):     400ea050 60651e45 da042d00 f0004620 4605fb85   I/DEBUG	  (  123):     400ea060 6822e003 5b01f812 68336022 4620b113   I/DEBUG	  (  123):  I/DEBUG	  (  123): memory map around fault addr deadbaad: I/DEBUG	  (  123):     be8e9000-be90a000 rw- [stack] I/DEBUG	  (  123):     (no map for address) I/DEBUG	  (  123):     ffff0000-ffff1000 r-x [vectors] I/BootReceiver(	 373): Copying /data/tombstones/tombstone_06 to DropBox (SYSTEM_TOMBSTONE) W/ActivityManager(  373):   Force finishing activity com.myproject./.activity.MainActivity W/InputDispatcher(  373): channel '4284f8c8 com.myproject./com.myproject..activity.MainActivity (server)' ~ Consumer closed input channel or an error occurred.	 events=0x9 E/InputDispatcher(  373): channel '4284f8c8 com.myproject./com.myproject..activity.MainActivity (server)' ~ Channel is unrecoverably broken and will be disposed! W/InputDispatcher(  373): Attempted to unregister already unregistered input channel '4284f8c8 com.myproject./com.myproject..activity.MainActivity (server)' I/WindowState(	373): WIN DEATH: Window{4284f8c8 u0 com.myproject./com.myproject..activity.MainActivity} D/Zygote  (  126): Process 1580 terminated by signal (11) D/dalvikvm(  373): GC_FOR_ALLOC freed 2406K  30% free 20273K/28860K  paused 107ms  total 108ms W/ActivityManager(  373): Exception thrown during pause W/ActivityManager(  373): android.os.DeadObjectException W/ActivityManager(  373):	at android.os.BinderProxy.transact(Native Method) W/ActivityManager(  373):	at android.app.ApplicationThreadProxy.schedulePauseActivity(ApplicationThreadNative.java:635) W/ActivityManager(  373):	at com.android.server.am.ActivityStack.startPausingLocked(ActivityStack.java:990) W/ActivityManager(  373):	at com.android.server.am.ActivityStack.finishActivityLocked(ActivityStack.java:3834) W/ActivityManager(  373):	at com.android.server.am.ActivityStack.finishActivityLocked(ActivityStack.java:3766) W/ActivityManager(  373):	at com.android.server.am.ActivityManagerService.handleAppCrashLocked(ActivityManagerService.java:8344) W/ActivityManager(  373):	at com.android.server.am.ActivityManagerService.makeAppCrashingLocked(ActivityManagerService.java:8221) W/ActivityManager(  373):	at com.android.server.am.ActivityManagerService.crashApplication(ActivityManagerService.java:8900) W/ActivityManager(  373):	at com.android.server.am.ActivityManagerService.handleApplicationCrashInner(ActivityManagerService.java:8455) W/ActivityManager(  373):	at com.android.server.am.NativeCrashListener$NativeCrashReporter.run(NativeCrashListener.java:86) I/ActivityManager(  373): Process com.myproject. (pid 1580) has died.  So  what is wrong in my code?,1
5211,17-09-06,Issue 5211 : progard & JNI issues for 3.7.0 ， Issue #5211 ， realm/realm-java ， GitHub 09-05 13:39:36.546 5999-5999/com.myapp E/REALM: /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/jni_util/java_method.cpp:33: [realm-core-2.8.6] Assertion failed: m_method_id != nullptr IMPORTANT: if you see this error  please send this log to help@realm.io. 09-05 13:39:36.546 5999-5999/com.myapp A/libc: Fatal signal 6 (SIGABRT)  code -6 in tid 5999 (com.myapp) [ 09-05 13:39:36.547 1295: 1295 W/ ] debuggerd: handling request: pid=5999 uid=10085 gid=10085 tid=5999 09-05 13:39:36.602 6046-6046/? A/DEBUG: pid: 5999  tid: 5999  name: com.myapp>>> com.myapp<<< 09-05 13:39:36.603 6046-6046/? A/DEBUG: #05 pc 001f69d4 /data/app/com.myapp-2/lib/x86/librealm-jni.so 09-05 13:39:36.603 6046-6046/? A/DEBUG: #06 pc 001f6a22 /data/app/com.myapp-2/lib/x86/librealm-jni.so 09-05 13:39:36.603 6046-6046/? A/DEBUG: #07 pc 001f6aa7 /data/app/com.myapp-2/lib/x86/librealm-jni.so 09-05 13:39:36.603 6046-6046/? A/DEBUG: #08 pc 000abd11 /data/app/com.myapp-2/lib/x86/librealm-jni.so 09-05 13:39:36.603 6046-6046/? A/DEBUG: #09 pc 0004703a /data/app/com.myapp-2/lib/x86/librealm-jni.so (Java_io_realm_internal_OsRealmConfig_nativeSetSchemaConfig+794) 09-05 13:39:36.604 6046-6046/? A/DEBUG: #10 pc 0053125b /data/app/com.myapp-2/oat/x86/base.odex (offset 0x4b5000)  Looks like @Keep doesn't apply to the inner classes. reported by https://secure.helpscout.net/conversation/426298456/11199/?folderId=366141,0
5231,17-09-09,Issue 5231 : Fix PrimaryKeyTests#removingPrimaryKeyRemovesConstraint_typeSetters ， Issue #5231 ， realm/realm-java ， GitHub This unit test surfaces a problem with our schema cache:    /**      * This test surfaces a bunch of problems  most of them seem to be around caching of the schema      * during a transaction      *      * 1) Removing the primary key do not invalidate the cache in RealmSchema and those cached      *    are ImmutableRealmObjectSchema so do not change when the primary key is removed.      *      * 2) Addding `schema.refresh()` to RealmObjectSchema.removePrimaryKey()` causes      *    RealmPrimaryKeyConstraintException anyway. Unclear why.      */,1
5233,17-09-09,Issue 5233 : RealmList.delete*() does not delete target object. ， Issue #5233 ， realm/realm-java ， GitHub RealmList.delete*() must delete target objects in addition to removing them from the list. Due to a bug introduced our refactoring introduced in 3.7.1  RealmList.delete*() (except for deleteAllFromRealm()) only remove the target objects from the list and target objects still remain in the database. Following test exposes the bug. @Test public void deleteFromRealm() {     Owner owner = realm.where(Owner.class).findFirst();     //noinspection ConstantConditions     RealmList<Dog> dogs = owner.getDogs();     assertEquals(TEST_SIZE  dogs.size());      int expectedSize = TEST_SIZE;     realm.beginTransaction();     dogs.deleteFromRealm(TEST_SIZE / 2);     expectedSize--;     realm.commitTransaction();     assertEquals(expectedSize  dogs.size());     assertEquals(expectedSize  realm.where(Dog.class).count());      realm.beginTransaction();     dogs.deleteFromRealm(0);     expectedSize--;     realm.commitTransaction();     assertEquals(expectedSize  dogs.size());     assertEquals(expectedSize  realm.where(Dog.class).count());      realm.beginTransaction();     dogs.deleteFromRealm(dogs.size() - 1);     expectedSize--;     realm.commitTransaction();     assertEquals(expectedSize  dogs.size());     assertEquals(expectedSize  realm.where(Dog.class).count()); }  @Test public void deleteFirstFromRealm() {     Owner owner = realm.where(Owner.class).findFirst();     //noinspection ConstantConditions     RealmList<Dog> dogs = owner.getDogs();     assertEquals(TEST_SIZE  dogs.size());      realm.beginTransaction();     dogs.deleteFirstFromRealm();     realm.commitTransaction();     assertEquals(TEST_SIZE - 1  dogs.size());     assertEquals(TEST_SIZE - 1  realm.where(Dog.class).count()); }  @Test public void deleteLastFromRealm() {     Owner owner = realm.where(Owner.class).findFirst();     //noinspection ConstantConditions     RealmList<Dog> dogs = owner.getDogs();     assertEquals(TEST_SIZE  dogs.size());      realm.beginTransaction();     dogs.deleteLastFromRealm();     realm.commitTransaction();     assertEquals(TEST_SIZE - 1  dogs.size());     assertEquals(TEST_SIZE - 1  realm.where(Dog.class).count()); }  And the result is: io.realm.RealmListTests > deleteLastFromRealm[Nexus_5X_API_21(AVD) - 5.0.2] FAILED         java.lang.AssertionError: expected:<9> but was:<10>         at org.junit.Assert.fail(Assert.java:88)  io.realm.RealmListTests > deleteFirstFromRealm[Nexus_5X_API_21(AVD) - 5.0.2] FAILED         java.lang.AssertionError: expected:<9> but was:<10>         at org.junit.Assert.fail(Assert.java:88)  io.realm.RealmListTests > deleteFromRealm[Nexus_5X_API_21(AVD) - 5.0.2] FAILED         java.lang.AssertionError: expected:<9> but was:<10>         at org.junit.Assert.fail(Assert.java:88),0
5262,17-09-15,Issue 5262 : Gridview example doesn't parse JSON correctly. ， Issue #5262 ， realm/realm-java ， GitHub Goal Parse names of cities correctly. Expected Results All names of cities are displayed correctly. Actual Results Since all names are parsed as null  all cities names are blank. Steps & Code to Reproduce Just run Gridview example on the releases branch. Version of Realm and tooling Realm version(s): releases branch. Not test on other branches yet. Realm sync feature enabled: No Android Studio version: 3.0 Beta 5 Which Android version and device: Genymotion emulator.,0
5294,17-09-21,Issue 5294 : downloadChangesWhenRealmOutOfScope fail when revocation is enabled  ， Issue #5294 ， realm/realm-java ， GitHub The test downloadChangesWhenRealmOutOfScope uses downloadAllServerChanges to make sure all changes were downloaded from ROS. Somehow when enabling revocation inside the SyncUser#logout method the wait blocks indefinitely  probably because the revoked refresh_token might be used by the session D/REALM_JAVA( 2811): Network request (logout): http://127.0.0.1:9080/auth/revoke D/REALM_JAVA( 2811): Network request (logout): http://127.0.0.1:9080/auth/revoke D/REALM_JAVA( 2811): Network request (logout): http://127.0.0.1:9080/auth/revoke D/REALM_JAVA( 2811): Logout response - Error: The path is invalid or current user has no access. E/REALM_JAVA( 2811): Failed to log user out. E/REALM_JAVA( 2811): ACCESS_DENIED(614) E/REALM_JAVA( 2811): The path is invalid or current user has no access. D/REALM_JAVA( 2811): Logout response - Success D/REALM_JAVA( 2811): Logout response - Error: The path is invalid or current user has no access. E/REALM_JAVA( 2811): Failed to log user out. E/REALM_JAVA( 2811): ACCESS_DENIED(614) E/REALM_JAVA( 2811): The path is invalid or current user has no access. I/TestRunner( 2811): failed: downloadChangesWhenRealmOutOfScope(io.realm.objectserver.SyncSessionTests)  We also need to investigate the use case where calling Realm.getInstance(config) with a revoked user  will actually activate the user again,0
5299,17-09-21,Issue 5299 : equalTo() fails to find null values on an indexed field if using Case.INSENSITIVE ， Issue #5299 ， realm/realm-java ， GitHub It appears that Realm versions from 3.1.3 onward have a bug where using equalTo() on a query no longer finds indexed fields which have null values  but only when the Case.INSENSITIVE flag is being used. Using Case.SENSITIVE (the default) still works. In the Realm Java changelog for 3.1.3 we can see the following under enhancements: Upgraded to Realm Core 2.6.1. We can see in the Realm Core changelog for 2.6.0 the following  which looks like it could be the culprit: Made case insensitive queries use the new index based case insensitive search. PR #2486 Expected Results I would expect to be able to find records whose values for the field we're searching on are null Actual Results No records are found Code Sample RealmTest.class is a subclass of RealmObject and defines test_field like so:     @Index     private String test_field; Now the query:     Realm realm = Realm.getDefaultInstance();      String searchString = "test";     realm.where(RealmTest.class)         .equalTo("test_field"  searchString  Case.INSENSITIVE)         .findAll(); // 3.1.0 behaviour: returns all results where test_field has a value of "test" ? // 3.1.3 behaviour: returns all results where test_field has a value of "test" ?       searchString = null;     realm.where(RealmTest.class)         .equalTo("test_field"  searchString  Case.INSENSITIVE)         .findAll(); // 3.1.0 behaviour: returns all results where test_field has a value of null ? // 3.1.3 behaviour: does NOT return results where test_field has a value of null ? Again  this bug is only seen when Case.INSENSITIVE is used  which makes me suspicious that Realm-Core PR #2486 might be the cause of this issue  but I'm not sure. Version of Realm and tooling Realm version(s): >= 3.1.3 Realm sync feature enabled: no Android Studio version: 2.3.3 Which Android version and device: 8.0  Pixel.,0
5309,17-09-22,Issue 5309 : JSON parser throws IndexOutOfBoundsException when converting ISO8601-compliant dates with a 2-digit time zone designator ， Issue #5309 ， realm/realm-java ， GitHub Goal I want to parse JSON data that contains ISO8601-compliant timestamps with a 2-digit time zone designator  such as 2017-09-20T20:00:00+04  using Realm¨s own JSON parse. Based on the discussion on Issue #1213 the parser should support all valid ISO8601 dates. According to IS8601  the time zone can be indicated with only 2 digits. Expected Results The JSON is parsed successfully and the object(s) is(are) created successfully. Actual Results The parser throws IndexOutOfBoundException with message "Mismatching time zone indicator: GMT04 given  resolves to GMT0400". Steps & Code to Reproduce Create a class with a Date field. Try to convert JSON data that contains the corresponding parameter as a valid ISO8601 date with a 2-digit time zone designator using Realm¨s own parser. Observe the exception to be thrown. Code Sample Example class: public class Foo extends RealmObject {     private Date bar; }  JSON parsing: final String json = "{\"bar\":\"2017-09-20T20:00:00+04\"}"; final Realm realm = Realm.getDefaultInstance(); realm.beginTransaction(); realm.createOrUpdateObjectFromJSON(Foo.class  json); realm.commitTransaction(); realm.close();  That will lead to IndexOutOfBoundsException with the message given above. Version of Realm and tooling Realm version(s): 3.7.2 (was originally observed with 3.5.0) Realm sync feature enabled: no Android Studio version: - Which Android version and device: -,0
5312,17-09-22,Issue 5312 : Crash when connecting two clients ， Issue #5312 ， realm/realm-java ， GitHub ObjectServerExample crashed when connecting the 2nd client with: ROS 2.0.0-alpha.35 09-22 08:02:06.785 219-219/? A/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 09-22 08:02:06.785 219-219/? A/DEBUG: Build fingerprint: 'Android/vbox86p/vbox86p:6.0/MRA58K/genymotion03201937:userdebug/test-keys' 09-22 08:02:06.786 219-219/? A/DEBUG: Revision: '0' 09-22 08:02:06.786 219-219/? A/DEBUG: ABI: 'x86' 09-22 08:02:06.786 219-219/? A/DEBUG: pid: 16213  tid: 16508  name: Thread-198  >>> io.realm.examples.objectserver <<< 09-22 08:02:06.786 219-219/? A/DEBUG: signal 11 (SIGSEGV)  code 1 (SEGV_MAPERR)  fault addr 0x82ca7c38 09-22 08:02:06.790 219-219/? A/DEBUG:     eax e8704102  ebx e11e9ccc  ecx df379f03  edx e87041c0 09-22 08:02:06.790 219-219/? A/DEBUG:     esi 00000002  edi 00000000 09-22 08:02:06.790 219-219/? A/DEBUG:     xcs 00000023  xds 0000002b  xes 0000002b  xfs 000000a7  xss 0000002b 09-22 08:02:06.790 219-219/? A/DEBUG:     eip e0e44f4e  ebp df379e08  esp df379df0  flags 00010287 09-22 08:02:06.792 219-219/? A/DEBUG: backtrace: 09-22 08:02:06.792 219-219/? A/DEBUG:     #00 pc 00206f4e  /data/app/io.realm.examples.objectserver-2/lib/x86/librealm-jni.so 09-22 08:02:06.792 219-219/? A/DEBUG:     #01 pc 0020764f  /data/app/io.realm.examples.objectserver-2/lib/x86/librealm-jni.so 09-22 08:02:06.792 219-219/? A/DEBUG:     #02 pc 0020c688  /data/app/io.realm.examples.objectserver-2/lib/x86/librealm-jni.so 09-22 08:02:06.792 219-219/? A/DEBUG:     #03 pc 0020d96b  /data/app/io.realm.examples.objectserver-2/lib/x86/librealm-jni.so 09-22 08:02:06.792 219-219/? A/DEBUG:     #04 pc 001d6b47  /data/app/io.realm.examples.objectserver-2/lib/x86/librealm-jni.so 09-22 08:02:06.792 219-219/? A/DEBUG:     #05 pc 001e8477  /data/app/io.realm.examples.objectserver-2/lib/x86/librealm-jni.so 09-22 08:02:06.792 219-219/? A/DEBUG:     #06 pc 001e93e1  /data/app/io.realm.examples.objectserver-2/lib/x86/librealm-jni.so 09-22 08:02:06.792 219-219/? A/DEBUG:     #07 pc 001f5a3d  /data/app/io.realm.examples.objectserver-2/lib/x86/librealm-jni.so 09-22 08:02:06.792 219-219/? A/DEBUG:     #08 pc 001ef96f  /data/app/io.realm.examples.objectserver-2/lib/x86/librealm-jni.so 09-22 08:02:06.792 219-219/? A/DEBUG:     #09 pc 001efa0d  /data/app/io.realm.examples.objectserver-2/lib/x86/librealm-jni.so 09-22 08:02:06.792 219-219/? A/DEBUG:     #10 pc 001f2ff8  /data/app/io.realm.examples.objectserver-2/lib/x86/librealm-jni.so 09-22 08:02:06.792 219-219/? A/DEBUG:     #11 pc 001eac31  /data/app/io.realm.examples.objectserver-2/lib/x86/librealm-jni.so 09-22 08:02:06.792 219-219/? A/DEBUG:     #12 pc 001bcf58  /data/app/io.realm.examples.objectserver-2/lib/x86/librealm-jni.so (_ZNSt6thread5_ImplISt12_Bind_simpleIFZN5realm5_impl10SyncClientC4ESt10unique_ptrINS2_4util6LoggerESt14default_deleteIS7_EENS2_4sync6Client13ReconnectModeEEUlvE_vEEE6_M_runEv+56) 09-22 08:02:06.792 219-219/? A/DEBUG:     #13 pc 00421e1e  /data/app/io.realm.examples.objectserver-2/lib/x86/librealm-jni.so 09-22 08:02:06.792 219-219/? A/DEBUG:     #14 pc 00080bc3  /system/lib/libc.so (__pthread_start(void*)+56) 09-22 08:02:06.792 219-219/? A/DEBUG:     #15 pc 000219a2  /system/lib/libc.so (__start_thread+25) 09-22 08:02:06.792 219-219/? A/DEBUG:     #16 pc 00017106  /system/lib/libc.so (__bionic_clone+70),0
5328,17-09-26,Issue 5328 : Performance regression in query (nativeSize and nativeGetRow) ， Issue #5328 ， realm/realm-java ， GitHub Goal What do you want to achieve? Upgrade Realm to latest and retain performance Expected Results No performance drop Actual Results My query which looks like this became slow when updating from 1.2.0 -> 4.0.0-BETA3-SNAPSHOT.         Date startDate = DateUtils.setToMidnight(date);         Date endDate = DateUtils.setToEndOfDay(startDate);         RealmResults<Schedule> schedules = query(realm)                 .beginGroup()                 .beginGroup()                 .lessThan(ScheduleFields.START_TIME  endDate)                 .greaterThanOrEqualTo(ScheduleFields.START_TIME  startDate)                 .endGroup()                 .or()                 .beginGroup()                 .greaterThanOrEqualTo(ScheduleFields.END_TIME  startDate)                 .lessThan(ScheduleFields.START_TIME  endDate)                 .endGroup()                 .endGroup()                 .lessThanOrEqualTo(ScheduleFields.START_TIME  date)                 .equalTo(ScheduleFields.CHANNEL_ID  channel.getId())                 .findAllSorted(ScheduleFields.START_TIME);         if(!schedules.isEmpty()) {             return schedules.get(schedules.size() - 1);         } else {             return null;         } With a schema that looks like this public class Schedule         extends RealmObject {     @PrimaryKey     private long id;      private String title;      @Index     private String titleLowerCase;      private long categoryId;      private String category;      @Index     private Date startTime;      @Index     private Date endTime;      private int duration;      private String ageLimit;      private long programId;      private String episodeId;      @Index     private long channelId;      private Channel channel;      private RealmList<TVGroup> tvGroups; The query was then reduced to         Schedule schedule = query(realm)                 .lessThanOrEqualTo(ScheduleFields.START_TIME  date)                 .equalTo(ScheduleFields.CHANNEL_ID  channel.getId())                 .findAllSorted(ScheduleFields.START_TIME  Sort.DESCENDING)                 .first(null); // <-- added this         if(schedule == null) {             return null;         }         long scheduleStartTime = schedule.getStartTime().getTime();         long scheduleEndTime = schedule.getEndTime().getTime();          if((scheduleStartTime < endDate.getTime() && scheduleStartTime >= startDate.getTime())             || (scheduleEndTime >= startDate.getTime() && scheduleStartTime < endDate.getTime()) ){             return schedule;         }         return null; But it is still slower in first() than in Realm 2.3.0 (and then slow in Realm 3.0.0) Version of Realm and tooling Realm version(s): 1.2.0 -> 4.0.0-BETA3-SNAPSHOT Realm sync feature enabled: no Android Studio version: 2.3.3 Which Android version and device: LG Nexus 5X  8.0.0,0
5354,17-09-30,Issue 5354 : Crashes when linking with debug version of Sync ， Issue #5354 ， realm/realm-java ， GitHub Moving #5346 to a separate issue  so we can track it. Observations so far: Only crash on armeabi-v7a with objectServerDebug builds. x86 and 64 bit variants do not crash. Debug builds with baseDebug do not crash. Release builds for both base and ObjectServer do not crash. This only effect debug builds. Using -O0/01/02 instead of -Og does not make a difference. The problematic method is: void ObjectStore::set_schema_columns(Group const& group  Schema& schema) {     for (auto& object_schema : schema) {         auto table = table_for_object_schema(group  object_schema);         if (!table) {             continue;         }         for (auto& property : object_schema.persisted_properties) {             property.table_column = table->get_column_index(property.name);         }     } }  From https://github.com/realm/realm-object-store/blob/master/src/object_store.cpp#L777 For some reason Core returns realm::not_found (4294967295) for all non-latin names in get_column_index  while ascii names are correctly found. The columns have been verified to be there with the correct name (by going around the ObjectStore Property and directly querying Cores Table Example of crash: 09-30 14:46:42.389 6362-6378/? E/REALM: /home/jenkins/workspace/lm_realm-core_release_4.0.0-LXTALRDDGEXO6MUGNEPKX627PBBN5UZMAYUDJFS3OHOQUQGYVBKA@5/src/realm/table.cpp:3270: [realm-core-4.0.0] Assertion failed: col_ndx < get_column_count() [4294967295  5]                                         IMPORTANT: if you see this error  please send this log to help@realm.io. 09-30 14:46:42.390 6362-6378/? A/libc: Fatal signal 6 (SIGABRT)  code -6 in tid 6378 (roidJUnitRunner) 09-30 14:46:42.583 6386-6386/? A/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 09-30 14:46:42.583 6386-6386/? A/DEBUG: Build fingerprint: 'google/angler/angler:8.0.0/OPR6.170623.019/4299446:user/release-keys' 09-30 14:46:42.583 6386-6386/? A/DEBUG: Revision: '0' 09-30 14:46:42.583 6386-6386/? A/DEBUG: ABI: 'arm' 09-30 14:46:42.583 6386-6386/? A/DEBUG: pid: 6362  tid: 6378  name: roidJUnitRunner  >>> io.realm.test <<< 09-30 14:46:42.583 6386-6386/? A/DEBUG: signal 6 (SIGABRT)  code -6 (SI_TKILL)  fault addr -------- 09-30 14:46:42.584 6386-6386/? A/DEBUG:     r0 00000000  r1 000018ea  r2 00000006  r3 00000008 09-30 14:46:42.584 6386-6386/? A/DEBUG:     r4 000018da  r5 000018ea  r6 d4dc4ae8  r7 0000010c 09-30 14:46:42.584 6386-6386/? A/DEBUG:     r8 00000056  r9 f045be00  sl d4dc4e00  fp d4dc4b04 09-30 14:46:42.584 6386-6386/? A/DEBUG:     ip 00000000  sp d4dc4ad8  lr f24ac3b7  pc f24dc91c  cpsr 200f0010 09-30 14:46:42.669 6386-6386/? A/DEBUG: backtrace: 09-30 14:46:42.669 6386-6386/? A/DEBUG:     #00 pc 0004a91c  /system/lib/libc.so (tgkill+12) 09-30 14:46:42.669 6386-6386/? A/DEBUG:     #01 pc 0001a3b3  /system/lib/libc.so (abort+54) 09-30 14:46:42.669 6386-6386/? A/DEBUG:     #02 pc 0081255c  /data/app/io.realm.test-XOMfyZ3eUFI23v8N6vwQtw==/lib/arm/librealm-jni.so (please_report_this_error_to_help_at_realm_dot_io+8) 09-30 14:46:42.669 6386-6386/? A/DEBUG:     #03 pc 008126b8  /data/app/io.realm.test-XOMfyZ3eUFI23v8N6vwQtw==/lib/arm/librealm-jni.so (_ZN5realm4utilL18terminate_internalERSt18basic_stringstreamIcSt11char_traitsIcESaIcEE+292) 09-30 14:46:42.669 6386-6386/? A/DEBUG:     #04 pc 00812864  /data/app/io.realm.test-XOMfyZ3eUFI23v8N6vwQtw==/lib/arm/librealm-jni.so (_ZN5realm4util9terminateEPKcS2_lOSt16initializer_listINS0_9PrintableEE+204) 09-30 14:46:42.669 6386-6386/? A/DEBUG:     #05 pc 0022e4a4  /data/app/io.realm.test-XOMfyZ3eUFI23v8N6vwQtw==/lib/arm/librealm-jni.so (_ZN5realm4util9terminateIJjjEEEvPKcS3_lDpT_+64) 09-30 14:46:42.669 6386-6386/? A/DEBUG:     #06 pc 007c419c  /data/app/io.realm.test-XOMfyZ3eUFI23v8N6vwQtw==/lib/arm/librealm-jni.so (_ZN5realm5Table3setIxEEvjjT_b+116) 09-30 14:46:42.669 6386-6386/? A/DEBUG:     #07 pc 002aba38  /data/app/io.realm.test-XOMfyZ3eUFI23v8N6vwQtw==/lib/arm/librealm-jni.so (Java_io_realm_internal_UncheckedRow_nativeSetLong+380) 09-30 14:46:42.669 6386-6386/? A/DEBUG:     #08 pc 0002ea8d  /data/app/io.realm.test-XOMfyZ3eUFI23v8N6vwQtw==/oat/arm/base.odex (offset 0x21000),0
5387,17-10-06,Issue 5387 : Iterating result very slow ， Issue #5387 ， realm/realm-java ， GitHub Hi  Here are my java classes : public class PublicArticleEntity extends RealmObject {      /**      * For fast import no @PrimaryKey defined      */     private String id;      private String type;      @Index     private String manufacturerId;      private Boolean sterilizable;      private Boolean active;      private Date importModified;      private RealmList<PublicArticlePartNumberEntity> partNumbers = new RealmList<>();     private RealmList<PublicArticleCodificationEntity> codifications = new RealmList<>();  public class PublicArticlePartNumberEntity extends RealmObject {      @Index     private String partNumber;      @Index     private String normalizedPartNumber;      private PublicArticleEntity publicArticle; }  public class PublicArticleCodificationEntity extends RealmObject {      @Index     private String type;      @Index     private String value;      private PublicArticleEntity publicArticle; } And here is the piece of code where I have a problem. The query returns 24 results and I use the limit to get the 21 first elements. It tooks 2000ms to do the iteration :o RealmResults<PublicArticlePartNumberEntity> entities = realm.where(PublicArticlePartNumberEntity.class)                 .equalTo("publicArticle.manufacturerId"  manufacturerId.toString())                 .beginGroup()                 .contains("partNumber"  search  Case.INSENSITIVE)                 .or()                 .contains("normalizedPartNumber"  search  Case.INSENSITIVE)                 .endGroup()                 .findAllSorted("partNumber"  Sort.ASCENDING);          Set<String> items = new HashSet<>();         int listSize = entities.size();         for (int i = 0; i < listSize && i < limit; i++) {             items.add(entities.get(i).getPartNumber());         } Here the state of each : Because Realm is using lazy loading the request if very very fast  but the for is taking 2s. Did I miss something ?,0
5389,17-10-07,Issue 5389 : Can't initiate Realm Configuration in AttachBaseContext in Application Class. ， Issue #5389 ， realm/realm-java ， GitHub Expected Results Realm initialized with the RealmConfiguration. Actual Results java.lang.IllegalStateException: Call Realm.init(Context) before creating a RealmConfiguration Steps & Code to Reproduce Can't set realm configuration in Application class in attachBaseContext. it is possible in OnCreate. Code Sample @Override 	protected void attachBaseContext(final Context base) { 		initRealm(base); } private void initRealm(Context context) { 		Realm.init(context);  		try { 			RealmConfiguration configuration = new RealmConfiguration.Builder().name(REALM_NAME).schemaVersion(1).deleteRealmIfMigrationNeeded() 					.build(); 			Realm.setDefaultConfiguration(configuration); 		} catch (Exception ignore) { 			ignore.printStackTrace(); 		}  	}  Version of Realm and tooling Realm version(s): ? 3.7.2 Realm sync feature enabled: yes/no no. Android Studio version: ? 3.0 b7 Which Android version and device: ? Emulator  any android version.,0
5395,17-10-08,Issue 5395 : Assigning own list unintentionally clears the list items. ， Issue #5395 ， realm/realm-java ， GitHub Goal model.setColumnRealmList(model.getColumnRealmList()); should be no-op. Expected Results The list keeps its contents. Actual Results The items in the list is cleared. Steps & Code to Reproduce     @Test     public void assignOwnList() {         RealmList<AllTypesRealmModel> allTypesRealmModels = new RealmList<AllTypesRealmModel>();         AllTypesRealmModel allTypePojo;         for (int i = 0; i < 2; i++) {             allTypePojo = new AllTypesRealmModel();             allTypePojo.columnLong = i;             allTypesRealmModels.add(allTypePojo);         }          RealmModelWithRealmListOfRealmModel model = new RealmModelWithRealmListOfRealmModel();         model.setColumnRealmList(allTypesRealmModels);          realm.beginTransaction();         model = realm.copyToRealm(model);         realm.commitTransaction();          assertEquals(2  model.getColumnRealmList().size());         realm.beginTransaction();         model.setColumnRealmList(model.getColumnRealmList());         realm.commitTransaction();         assertEquals(2  model.getColumnRealmList().size());     } Version of Realm and tooling Realm version(s): 3.x Realm sync feature enabled: no Android Studio version: 3.0.0-beta7 Which Android version and device: any,0
5403,17-10-10,Issue 5403 : Test: Reconnect not happening correctly ， Issue #5403 ， realm/realm-java ， GitHub Leaving a phone in airplane mode for a couple of minutes  then try to activate it again. The Java layer does not seem to handle this well resulting in the access token not being refreshed 10-10 13:58:15.082 20935-21485/io.realm.examples.objectserver E/REALM_SYNC: Connection[2]: Failed to connect to endpoint '192.168.87.111:9080': Network is unreachable 10-10 13:58:15.083 20935-21485/io.realm.examples.objectserver E/REALM_SYNC: Connection[2]: Failed to connect to '192.168.87.111:9080': All endpoints failed 10-10 13:58:15.083 20935-21485/io.realm.examples.objectserver D/REALM_SYNC: Connection[2]: Reconnecting in 55173 milliseconds 10-10 13:58:20.776 20935-20935/io.realm.examples.objectserver D/REALM_JAVA: NetworkListener: Connection available 10-10 13:58:47.485 20935-22048/io.realm.examples.objectserver D/REALM_JAVA: Network request (authenticate): http://192.168.87.111:9080/auth 10-10 13:58:54.420 20935-20935/io.realm.examples.objectserver D/REALM_JAVA: NetworkListener: Connection available 10-10 13:58:54.422 20935-20935/io.realm.examples.objectserver D/REALM_JAVA: NetworkListener: Connection available 10-10 13:58:59.640 20935-22048/io.realm.examples.objectserver D/REALM_JAVA: AuthenticateResponse - Error: UNKNOWN(-1)                                                                             java.net.SocketException: Connection reset                                                                                 at java.net.SocketInputStream.read(SocketInputStream.java:209)                                                                                 at java.net.SocketInputStream.read(SocketInputStream.java:139)                                                                                 at okio.Okio$2.read(Okio.java:138)                                                                                 at okio.AsyncTimeout$2.read(AsyncTimeout.java:236)                                                                                 at okio.RealBufferedSource.indexOf(RealBufferedSource.java:344)                                                                                 at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:216)                                                                                 at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:210)                                                                                 at okhttp3.internal.http1.Http1Codec.readResponseHeaders(Http1Codec.java:189)                                                                                 at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:75)                                                                                 at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)                                                                                 at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:45)                                                                                 at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)                                                                                 at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)                                                                                 at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)                                                                                 at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)                                                                                 at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)                                                                                 at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)                                                                                 at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)                                                                                 at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:120)                                                                                 at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)                                                                                 at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)                                                                                 at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:185)                                                                                 at okhttp3.RealCall.execute(RealCall.java:69)                                                                                 at io.realm.internal.network.OkHttpAuthenticationServer.authenticate(OkHttpAuthenticationServer.java:145)                                                                                 at io.realm.internal.network.OkHttpAuthenticationServer.refreshUser(OkHttpAuthenticationServer.java:80)                                                                                 at io.realm.SyncSession$4.execute(SyncSession.java:644)                                                                                 at io.realm.SyncSession$4.execute(SyncSession.java:640)                                                                                 at io.realm.internal.network.ExponentialBackoffTask.run(ExponentialBackoffTask.java:66)                                                                                 at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:457)                                                                                 at java.util.concurrent.FutureTask.run(FutureTask.java:266)                                                                                 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)                                                                                 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)                                                                                 at java.lang.Thread.run(Thread.java:764) 10-10 13:58:59.643 20935-22048/io.realm.examples.objectserver E/REALM_JAVA: Unrecoverable error  while refreshing the access Token (UNKNOWN(-1)                                                                             java.net.SocketException: Connection reset                                                                                 at java.net.SocketInputStream.read(SocketInputStream.java:209)                                                                                 at java.net.SocketInputStream.read(SocketInputStream.java:139)                                                                                 at okio.Okio$2.read(Okio.java:138)                                                                                 at okio.AsyncTimeout$2.read(AsyncTimeout.java:236)                                                                                 at okio.RealBufferedSource.indexOf(RealBufferedSource.java:344)                                                                                 at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:216)                                                                                 at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:210)                                                                                 at okhttp3.internal.http1.Http1Codec.readResponseHeaders(Http1Codec.java:189)                                                                                 at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:75)                                                                                 at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)                                                                                 at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:45)                                                                                 at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)                                                                                 at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)                                                                                 at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)                                                                                 at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)                                                                                 at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)                                                                                 at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)                                                                                 at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)                                                                                 at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:120)                                                                                 at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)                                                                                 at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)                                                                                 at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:185)                                                                                 at okhttp3.RealCall.execute(RealCall.java:69)                                                                                 at io.realm.internal.network.OkHttpAuthenticationServer.authenticate(OkHttpAuthenticationServer.java:145)                                                                                 at io.realm.internal.network.OkHttpAuthenticationServer.refreshUser(OkHttpAuthenticationServer.java:80)                                                                                 at io.realm.SyncSession$4.execute(SyncSession.java:644)                                                                                 at io.realm.SyncSession$4.execute(SyncSession.java:640)                                                                                 at io.realm.internal.network.ExponentialBackoffTask.run(ExponentialBackoffTask.java:66)                                                                                 at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:457)                                                                                 at java.util.concurrent.FutureTask.run(FutureTask.java:266)                                                                                 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)                                                                                 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)                                                                                 at java.lang.Thread.run(Thread.java:764)                                                                             ) reschedule will not happen 10-10 13:59:10.055 20935-21485/io.realm.examples.objectserver I/REALM_SYNC: Connection[2]: Resolving '192.168.87.111:9080' 10-10 13:59:10.061 20935-21485/io.realm.examples.objectserver I/REALM_SYNC: Connection[2]: Connecting to endpoint '192.168.87.111:9080' (1/1) 10-10 13:59:10.503 20935-21485/io.realm.examples.objectserver I/REALM_SYNC: Connection[2]: Connected to endpoint '192.168.87.111:9080' (from '192.168.87.104:44952') 10-10 13:59:10.503 20935-21485/io.realm.examples.objectserver D/REALM_SYNC: Connection[2]: WebSocket::initiate_client_handshake() 10-10 13:59:10.577 20935-21485/io.realm.examples.objectserver E/REALM_SYNC: Connection[2]: Websocket: HTTP response invalid 10-10 13:59:10.577 20935-21485/io.realm.examples.objectserver I/REALM_SYNC: Connection[2]: Connection closed due to error 10-10 13:59:10.577 20935-21485/io.realm.examples.objectserver D/REALM_SYNC: Connection[2]: Reconnecting in 3182343 milliseconds,0
5411,17-10-12,Issue 5411 : Removing and re-adding listener inside a callback doesn't work ， Issue #5411 ， realm/realm-java ， GitHub Removing and re-adding the same listener inside a callback doesn't work. Discovered this while trying to find another bug:   @Test     @RunTestInLooperThread     public void listener_notTriggeredTest() {         final Realm realm = looperThread.getRealm();         realm.beginTransaction();         realm.deleteAll();         realm.commitTransaction();         final int TEST_SIZE = 100;         final RealmResults<AllTypes> results = realm.where(AllTypes.class).greaterThan(AllTypes.FIELD_LONG  0).findAllAsync();         results.addChangeListener(new RealmChangeListener<RealmResults<AllTypes>>() {             @Override             public void onChange(RealmResults<AllTypes> allTypes) {                 RealmLog.error("Size: " + allTypes.size());                 if (allTypes.size() == TEST_SIZE) {                     looperThread.testComplete();                 } else {                     results.removeChangeListener(this);                     realm.executeTransactionAsync(new Realm.Transaction() {                         @Override                         public void execute(Realm realm) {                             long count = realm.where(AllTypes.class).count();                             RealmLog.error("Write data: " + count);                             realm.createObject(AllTypes.class).setColumnLong(count);                         }                     });                     results.addChangeListener(this);                 }             }         });         looperThread.keepStrongReference(results);     },0
5413,17-10-13,Issue 5413 : Missing Collection notifications ， Issue #5413 ， realm/realm-java ， GitHub We have huge problems on CI with tests timing out with what looks like notifications being skipped. I was able to somewhat reproduce it locally  but it looks very timing dependant and @beeender has not been able to verify on his machine: Reproduce Install ROS locally npm install -g realm-object-server@rc Disable startSyncServer/stopSyncServer in StandardIntegrationTest class Run PermissionManagerTests#getPermissions_updatedWithNewRealms once from Android Studio to install test app on the device and see that it runs green Goto commandline and run I¨m running this script: #!/bin/bash adb shell am instrument -w -r   -e debug false -e class io.realm.PermissionManagerTests#getPermissions_updatedWithNewRealms io.realm.test/android.support.test.runner.AndroidJUnitRunner while [ $? -eq 0 ]; do     adb shell am instrument -w -r   -e debug false -e class io.realm.PermissionManagerTests#getPermissions_updatedWithNewRealms io.realm.test/android.support.test.runner.AndroidJUnitRunner done  with while ./test.sh; do :; done  Prepare to wait for a while. ROS might eventually run out of filedescriptors on Mac  in that case  restart server and script When the bug is caught  the test will timeout and show the below output. The log statements probably doesn't make much sense  but the important ones are the before_advance and after_advance which is used to trigger notifications. This is the code in after_advance: void CollectionNotifier::after_advance() {     __android_log_print(ANDROID_LOG_ERROR  "OS"  "After advance: Size %d"  m_callbacks.size());     for_each_callback([&](auto& lock  auto& callback) {         if (callback.initial_delivered && callback.changes_to_deliver.empty()) {             __android_log_print(ANDROID_LOG_ERROR  "OS"  "After advance: Ignore callback (%s  %s)"  callback.initial_delivered?"true":"false"  callback.changes_to_deliver.empty()?"true":"false");             return;         }         callback.initial_delivered = true;          auto changes = std::move(callback.changes_to_deliver);         // acquire a local reference to the callback so that removing the         // callback from within it can't result in a dangling pointer         auto cb = callback.fn;         lock.unlock();         __android_log_print(ANDROID_LOG_ERROR  "OS"  "After advance: Trigger callback (%s  %s)"  callback.initial_delivered?"true":"false"  callback.changes_to_deliver.empty()?"true":"false");         cb.after(changes);     }); }  Logs Successfull attempt 10-12 10:02:45.266 8690-8709/? E/OS: Add callback 10-12 10:02:45.267 8690-8709/? E/OS: After advance: Size 1 10-12 10:02:45.267 8690-8709/? E/OS: After advance: Trigger callback (true  true) 10-12 10:02:45.268 8690-8709/? E/REALM_JAVA: Size: 2  State: ACTIVE 10-12 10:02:45.268 8690-8709/? E/OS: Remove callback 10-12 10:02:45.320 8690-8709/? E/OS: Add callback 10-12 10:02:45.321 8690-8709/? E/OS: After advance: Trigger callback (true  true) 10-12 10:02:45.321 8690-8709/? E/OS: After advance: Size 1 10-12 10:02:45.321 8690-8709/? E/OS: After advance: Ignore callback (true  true) <!-- 10-12 10:02:45.321 8690-8709/? E/OS: After advance: Size 0 10-12 10:02:45.333 8690-8709/? E/OS: Before advance: Size 1 10-12 10:02:45.333 8690-8709/? E/OS: Before advance: Size 0 10-12 10:02:45.333 8690-8709/? E/OS: After advance: Size 1 10-12 10:02:45.334 8690-8709/? E/OS: After advance: Trigger callback (true  true) 10-12 10:02:45.336 8690-8709/? E/REALM_JAVA: Testlistener: 3 10-12 10:02:45.338 8690-8709/? E/OS: After advance: Size 0   Failed attemp: 10-12 10:09:37.937 13397-13416/? E/OS: Add callback 10-12 10:09:37.937 13397-13416/? E/OS: After advance: Size 1 10-12 10:09:37.937 13397-13416/? E/OS: After advance: Trigger callback (true  true) 10-12 10:09:37.938 13397-13416/? E/REALM_JAVA: Size: 2  State: ACTIVE 10-12 10:09:37.938 13397-13416/? E/OS: Remove callback 10-12 10:09:37.988 13397-13416/? E/OS: Add callback 10-12 10:09:37.988 13397-13416/? E/OS: After advance: Trigger callback (true  true) 10-12 10:09:37.988 13397-13416/? E/OS: Before advance: Size 1 10-12 10:09:37.988 13397-13416/? E/OS: Before advance: Size 0 10-12 10:09:37.989 13397-13416/? E/OS: After advance: Size 1 10-12 10:09:37.989 13397-13416/? E/OS: After advance: Ignore callback (true  true) <!-- Did it move here?  10-12 10:09:37.989 13397-13416/? E/OS: After advance: Size 0  <!-- Test times out here 10-12 10:09:38.991 13397-13416/io.realm.test E/REALM_JAVA: Real size: 3 <!-- Opening the Realm on another thread verified that the change is in the DB  I have narrowed it down to https://github.com/realm/realm-object-store/blob/master/src/impl/collection_notifier.cpp#L326 but I have no explanation as to why it is happening: Open questions: after_advance is called twice. It is unclear why. Probably because two Results exist  but it doesn't look like I create two. Conclussion: Doesn't look related When failing  it looks like code inside the callback isn't triggered. Add more logging to verify how far it gets. Conclussion: Done  see #5413 (comment) #5411 did not catch this,0
5414,17-10-13,Issue 5414 : Cannot open the read only Realm. 'Permission' is missing  ， Issue #5414 ， realm/realm-java ， GitHub ISSUE TYPE: BUG Goal Fetch permissions for a user Expected Results Successful fetch of permissions Actual Results REALM_JAVA: io.realm.exceptions.RealmMigrationNeededException: Cannot open the read only Realm. 'Permission' is missing. at io.realm.Realm.(Realm.java:165) at io.realm.Realm.createInstance(Realm.java:417) at io.realm.RealmCache.doCreateRealmOrGetFromCache(RealmCache.java:348) at io.realm.RealmCache.createRealmOrGetFromCache(RealmCache.java:281) at io.realm.RealmCache$CreateRealmRunnable.run(RealmCache.java:115) at io.realm.internal.async.BgPriorityRunnable.run(BgPriorityRunnable.java:34) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:457) at java.util.concurrent.FutureTask.run(FutureTask.java:266) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636) at java.lang.Thread.run(Thread.java:764) CreateRealmRunnable failed. Steps & Code to Reproduce Following instructions here Code Sample public static void fetchPermissions() {         final PermissionManager pm = SyncUser.currentUser().getPermissionManager();         // Retrieve         pm.getPermissions(new PermissionManager.PermissionsCallback() {             @Override             public void onSuccess(RealmResults<Permission> permissions) {                  Log.i(TAG  "PRINTING ALL PERMISSIONS");                 printPermissions(permissions);                  // Change listeners can be registered                 // The PermissionManager keeps a reference to these as long as the Permission Manager                 // is open  so they do not risk getting GC'ed                 permissions.addChangeListener(new RealmChangeListener<RealmResults<Permission>>() {                     @Override                     public void onChange(RealmResults<Permission> permissions) {                         Log.i(TAG  "CHANGED PERMISSIONS");                         printPermissions(permissions);                     }                 });                 pm.close();             }              @Override             public void onError(ObjectServerError error) {                 // handle error                 Log.i(TAG  "Error fetching permissions");                 Log.i(TAG  error.toString());                 pm.close();             }         }); } Version of Realm and tooling Realm version(s): 3.7.1 Realm sync feature enabled: yes Android Studio version: 2.3.3 Which Android version and device: ?,1
5422,17-10-15,Issue 5422 : Error in javadoc of findAllAsync(): "Finds all objects that fulfill the query conditions and sorted by specific field name" ， Issue #5422 ， realm/realm-java ， GitHub There isn't a fieldName parameter. Someone copypasted the description from findAllSorted which is below. realm-java/realm/realm-library/src/main/java/io/realm/RealmQuery.java Lines 1805 to 1812 in d9e0ae4 * Finds all objects that fulfill the query conditions and sorted by specific field name. * This method is only available from a Looper thread. * * @return immediately an empty {@link RealmResults}. Users need to register a listener * {@link io.realm.RealmResults#addChangeListener(RealmChangeListener)} to be notified when the query completes. * @see io.realm.RealmResults */ public RealmResults<E> findAllAsync() { I checked and it isn't fixed in 4.0 https://github.com/realm/realm-java/blob/master-4.0/realm/realm-library/src/main/java/io/realm/RealmQuery.java#L1805,0
5463,17-10-25,Issue 5463 : NoClassDefFoundError (SafeVarargs) API 17 ， Issue #5463 ， realm/realm-java ， GitHub Goal Use realm-java on android api level 17 Expected Results realm-java does not crash on api level 17 Actual Results I am encountering the following exception when I upgrade my project from 3.7.2 to 4.1.0: java.lang.NoClassDefFoundError: java/lang/SafeVarargs. This is only occurring on api level 17  all apis above 17 seem to work fine. Before this crash I get an error specifically regarding RealmList: E/dalvikvm: Unable to resolve Lio/realm/RealmList; annotation class 7880 Steps & Code to Reproduce Fairly certain this is occurring due to the recent use of the SafeVarargs annotation in RealmList and RealmConfiguration. This can be reproduced by using a RealmList within a project on the api level 17 emulator. Version of Realm and tooling Realm version(s): 4.1.0 Realm sync feature enabled: no Android Studio version: 2.3.3 Which Android version and device: Emulator  API 17.,0
5521,17-11-10,Issue 5521 : File handles are not released in RealmTransformer ， Issue #5521 ， realm/realm-java ， GitHub realm-gradle-plugin:4.1.1 Original issue: https://issuetracker.google.com/69114369 Android plugin for Gradle: 3.0.0 JarFile opened in RealmTransform is not closed  which causes issues on Windows. The issue seems to be this line: realm-java/realm-transformer/src/main/groovy/io/realm/transformer/RealmTransformer.groovy Line 245 in c130239 def jarFile = new JarFile(it.file) Stacktrace showing where the file got opened (and not closed) -> stacktrace.txt There is another file handle to the same file  captured in this stacktrace -> stacktrace_classpool.txt This one seems to be caused by not closing the javassist.JarClassPath opened on this line realm-java/realm-transformer/src/main/groovy/io/realm/transformer/RealmTransformer.groovy Line 219 in c130239 classPool.appendClassPath(it.file.absolutePath) Thanks!,0
5570,17-11-27,Issue 5570 : Crash on deleting realm after migrating to 4.1.1 from 3.3.1 ， Issue #5570 ， realm/realm-java ， GitHub We are using below code to to open realm instance. It used to work fine for version 3.1.1 Idea is that we have some migrations for last two three versions but for version before that we dont so it throws exception or in case migration fails we delete that current realm and open again. this used to work fine in 3.1.1 how ever we just upgraded to 4.1.1 last sprint and after it we are seeing a-lot of crashes.             Realm.init(context);             RealmConfiguration configuration = new RealmConfiguration.Builder()                     .schemaVersion(<version>)                     .migration(<migrator>)                     .build();              try {                 defaultInstance = Realm.getInstance(configuration );             } catch (IllegalArgumentException | IllegalStateException | RealmMigrationNeededException ex) {                 Realm.deleteRealm(configuration);                 defaultInstance = Realm.getInstance(configuration);             }  Expected Results it should not crash Actual Results This is the exception we are getting Caused by java.lang.IllegalStateException: It's not allowed to delete the file associated with an open Realm. Remember to close() all the instances of the Realm before deleting its file: /data/data/com.x.x/files/default.realm        at io.realm.Realm.io.realm.BaseRealm.deleteRealm(SourceFile:14624)        at com.x.x.x.RealmManager.getDefaultInstance(SourceFile:52)  Version of Realm and tooling Realm version(s): 4.1.1 Realm sync feature enabled: yes/no Android Studio version: 3.0.0 Which Android version and device: no specific version happening on almost every os,0
5587,17-12-06,Issue 5587 : 4.3.0 adds kotlin stdlib into project ， Issue #5587 ， realm/realm-java ， GitHub After update from 4.2.0  I found that my project had a dependency on kotlin stdlib. Well  I'm glad that kotlin became official language for Android Development  but isn't it too soon? :) I guess  that is a bug and kotlin + extensions must be optional. Version of Realm and tooling Realm version(s): 4.3.0 Realm sync feature enabled: no Android Studio version: 3.0.1,0
5588,17-12-06,Issue 5588 : Realm Async API + RxJava produces weird results ， Issue #5588 ， realm/realm-java ， GitHub I just migrated my project to Realm 4.3.0 from 3.7.1 and am encountering a weird issue. This code works as expected  but is using my own hacky way of returning a query as a Single so I'd like to move away from it: return Single.create { emitter ->             val realm = RealmDatabase.getRealm()             var result : KOptional<User> = KOptional.EMPTY             realm.executeTransactionAsync({                 val entity = it.where(UserEntity::class.java)                         .equalTo(UserFields.USER_NAME  username  Case.INSENSITIVE)                         .findFirst()                 entity?.let {                     result = KOptional(UserMapper.toModel(it))                 }             }  {                 realm.close()                 emitter.onSuccess(result)             }  {                 realm.close()                 emitter.onError(it)             })         }  However  using the new API + RxJava is giving me an exception which is enumerated in full detail below this code snipppet: val realm = RealmDatabase.getRealm()         return realm.where(UserEntity::class.java)                 .equalTo(UserFields.USER_NAME  username  Case.INSENSITIVE)                 .findFirstAsync()                 .asFlowable<UserEntity>()                 .filter { it.isLoaded }                 .firstOrError()                 .map {                     if (it.isValid) {                         val model = UserMapper.toModel(it)                         KOptional(model)                     } else {                         KOptional.EMPTY                     }.also {                         realm.close()                     }                 }  StackTrace: java.lang.IllegalStateException: Accessing object of type  which has been invalidated or deleted 	at io.realm.internal.OsObject.nativeStartListening(Native Method) 	at io.realm.internal.OsObject.addListener(OsObject.java:118) 	at io.realm.ProxyState.addChangeListener(ProxyState.java:141) 	at io.realm.RealmObject.addChangeListener(RealmObject.java:497) 	at io.realm.RealmObject.addChangeListener(RealmObject.java:540) 	at io.realm.rx.RealmObservableFactory$14.subscribe(RealmObservableFactory.java:457) 	at io.reactivex.internal.operators.flowable.FlowableCreate.subscribeActual(FlowableCreate.java:72) 	at io.reactivex.Flowable.subscribe(Flowable.java:12986) 	at io.reactivex.internal.operators.flowable.FlowableFilter.subscribeActual(FlowableFilter.java:37) 	at io.reactivex.Flowable.subscribe(Flowable.java:12986) 	at io.reactivex.internal.operators.flowable.FlowableElementAtSingle.subscribeActual(FlowableElementAtSingle.java:41) 	at io.reactivex.Single.subscribe(Single.java:2703) 	at io.reactivex.internal.operators.single.SingleMap.subscribeActual(SingleMap.java:33) 	at io.reactivex.Single.subscribe(Single.java:2703) 	at io.reactivex.internal.operators.single.SingleZipArray.subscribeActual(SingleZipArray.java:64) 	at io.reactivex.Single.subscribe(Single.java:2703) 	at io.reactivex.internal.operators.single.SingleObserveOn.subscribeActual(SingleObserveOn.java:35) 	at io.reactivex.Single.subscribe(Single.java:2703) 	at io.reactivex.internal.operators.single.SingleFlatMapCompletable.subscribeActual(SingleFlatMapCompletable.java:44) 	at io.reactivex.Completable.subscribe(Completable.java:1635) 	at io.reactivex.internal.operators.completable.CompletablePeek.subscribeActual(CompletablePeek.java:51) 	at io.reactivex.Completable.subscribe(Completable.java:1635) 	at io.reactivex.internal.operators.completable.CompletableConcatArray$ConcatInnerObserver.next(CompletableConcatArray.java:89) 	at io.reactivex.internal.operators.completable.CompletableConcatArray$ConcatInnerObserver.onComplete(CompletableConcatArray.java:65) 	at io.reactivex.internal.operators.completable.CompletableObserveOn$ObserveOnCompletableObserver.run(CompletableObserveOn.java:90) 	at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:109) 	at android.os.Handler.handleCallback(Handler.java:751) 	at android.os.Handler.dispatchMessage(Handler.java:95) 	at android.os.Looper.loop(Looper.java:154) 	at android.app.ActivityThread.main(ActivityThread.java:6119) 	at java.lang.reflect.Method.invoke(Native Method) 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886) 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)  Realm version(s): 4.3.0 Realm sync feature enabled: no Android Studio version: 3.0.1 Which Android version and device: 10.1 WXGA Emulator  API 25  7.1.1,0
5626,17-12-16,Issue 5626 : Reconnect seems to be broken since 4.3.0 ， Issue #5626 ， realm/realm-java ， GitHub On version 4.3.0 or later the sync session doesn't reconnect after a connection loss. With version 4.2.0 reconnecting works fine. I'm using version 2.2.0 of the Realm Object Server. This is what is logged by Realm: 12-15 23:50:33.038 30915-30948/my.app.name E/REALM_SYNC: Connection[2]: Reading failed: Software caused connection abort 12-15 23:50:33.039 30915-30948/my.app.name I/REALM_SYNC: Connection[2]: Connection closed due to error 12-15 23:50:33.039 30915-30948/my.app.name D/REALM_JNI: error_handler lambda invoked 12-15 23:50:33.040 30915-30948/my.app.name E/MyApp: BAD_SYNTAX(103)                                                                           Software caused connection abort                                                                               at io.realm.SyncSession.notifySessionError(SyncSession.java:178)                                                                               at io.realm.SyncManager.notifyErrorHandler(SyncManager.java:324) 12-15 23:50:33.040 30915-30948/my.app.name D/REALM_SYNC: Connection[2]: Reconnecting in 0 milliseconds 12-15 23:50:33.040 30915-30948/my.app.name I/REALM_SYNC: Closing Realm file: /data/data/my.app.name/files/realm-object-server/l9NZ8m0iVHhX0Zoce2cFcJJxoCD3/l9NZ8m0iVHhX0Zoce2cFcJJxoCD3/default 12-15 23:50:33.040 30915-30948/my.app.name E/REALM_SYNC: Connection[1]: Reading failed: Software caused connection abort 12-15 23:50:33.040 30915-30948/my.app.name I/REALM_SYNC: Connection[1]: Connection closed due to error 12-15 23:50:33.040 30915-30948/my.app.name D/REALM_JNI: error_handler lambda invoked 12-15 23:50:33.041 30915-30948/my.app.name E/MyApp: BAD_SYNTAX(103)                                                                           Software caused connection abort                                                                               at io.realm.SyncSession.notifySessionError(SyncSession.java:178)                                                                               at io.realm.SyncManager.notifyErrorHandler(SyncManager.java:324) 12-15 23:50:33.041 30915-30948/my.app.name D/REALM_SYNC: Connection[1]: Reconnecting in 0 milliseconds 12-15 23:50:33.041 30915-30948/my.app.name I/REALM_SYNC: Closing Realm file: /data/data/my.app.name/files/realm-object-server/l9NZ8m0iVHhX0Zoce2cFcJJxoCD3/ZX9HtldX1zehzBx6YCS70EUfsg53/default 12-15 23:50:33.788 30915-30915/my.app.name D/REALM_JAVA: NetworkListener: Connection available 12-15 23:50:33.805 30915-30915/my.app.name D/REALM_JAVA: NetworkListener: Connection lost 12-15 23:50:33.840 30915-30915/my.app.name D/REALM_JAVA: NetworkListener: Connection lost 12-15 23:50:57.532 30915-30915/my.app.name D/REALM_JAVA: NetworkListener: Connection available 12-15 23:50:59.203 30915-30915/my.app.name D/REALM_JAVA: NetworkListener: Connection available 12-15 23:50:59.227 30915-30915/my.app.name D/REALM_JAVA: NetworkListener: Connection available,0
5629,17-12-18,Issue 5629 : Bad Realm file header (#3) ACCESS_ERROR ， Issue #5629 ， realm/realm-java ， GitHub Goal Prevent the crash. Expected Results Doesn't crash. Actual Results Fatal Exception: java.lang.RuntimeException: Unable to start activity ComponentInfo{com.app/com.app.view.activity.MainActivity}: io.realm.exceptions.RealmFileException: Unable to open a realm at path '/data/data/com.app/files/data.realm': Bad Realm file header (#3). (Bad Realm file header (#3)) (/data/data/com.app/files/data.realm) in /Users/cm/Realm/realm-java-release/realm/realm-library/src/main/cpp/io_realm_internal_OsSharedRealm.cpp line 101 Kind: ACCESS_ERROR.        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3253)        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)        at android.app.ActivityThread.access$1100(ActivityThread.java:221)        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)        at android.os.Handler.dispatchMessage(Handler.java:102)        at android.os.Looper.loop(Looper.java:158)        at android.app.ActivityThread.main(ActivityThread.java:7224)        at java.lang.reflect.Method.invoke(Method.java)        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120) Caused by io.realm.exceptions.RealmFileException: Unable to open a realm at path '/data/data/com.app/files/data.realm': Bad Realm file header (#3). (Bad Realm file header (#3)) (/data/data/com.app/files/data.realm) in /Users/cm/Realm/realm-java-release/realm/realm-library/src/main/cpp/io_realm_internal_OsSharedRealm.cpp line 101        at io.realm.internal.OsSharedRealm.nativeGetSharedRealm(OsSharedRealm.java)        at io.realm.internal.OsSharedRealm.(OsSharedRealm.java)        at io.realm.internal.OsSharedRealm.getInstance(OsSharedRealm.java:254)        at io.realm.internal.OsSharedRealm.getInstance(OsSharedRealm.java:244)        at io.realm.RealmCache.doCreateRealmOrGetFromCache(RealmCache.java:319)        at io.realm.RealmCache.createRealmOrGetFromCache(RealmCache.java:282)        at io.realm.Realm.getInstance(Realm.java:353)        at com.app.di.NetModule.provideDataRealm(NetModule.java:99)        at com.app.di.NetModule_ProvideDataRealmFactory.get(NetModule_ProvideDataRealmFactory.java:28)        at com.app.di.NetModule_ProvideDataRealmFactory.get(NetModule_ProvideDataRealmFactory.java:10)        at dagger.internal.DoubleCheck.get(DoubleCheck.java:47)        at com.app.di.NetModule_ProvideRealmControllerFactory.get(NetModule_ProvideRealmControllerFactory.java:31)        at com.app.di.NetModule_ProvideRealmControllerFactory.get(NetModule_ProvideRealmControllerFactory.java:10)        at dagger.internal.DoubleCheck.get(DoubleCheck.java:47)        at com.app.di.DaggerNetComponent.injectMainActivity(DaggerNetComponent.java:195)        at com.app.di.DaggerNetComponent.inject(DaggerNetComponent.java:95)        at com.app.view.activity.MainActivity.dataInitialization(MainActivity.java:707)        at com.app.view.activity.MainActivity.onCreate(MainActivity.java:169)        at android.app.Activity.performCreate(Activity.java:6876)        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1135)        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3206)        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)        at android.app.ActivityThread.access$1100(ActivityThread.java:221)        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)        at android.os.Handler.dispatchMessage(Handler.java:102)        at android.os.Looper.loop(Looper.java:158)        at android.app.ActivityThread.main(ActivityThread.java:7224)        at java.lang.reflect.Method.invoke(Method.java)        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)   Steps & Code to Reproduce Can't reproduce. Happens to some users. Getting this from Fabric: Samsung S5 - 6.0.1 Canvas Nitro - 4.4.2 Code Sample Relevant code according to the stack trace. I'm injecting Realm via Dagger like so: Realm provideDataRealm(Application application) {         Realm.init(application);          RealmConfiguration realmConfig = new RealmConfiguration.Builder()                 .name("data.realm")                 .schemaVersion(Constants.SCHEMA_VERSION)                 .migration(new Migration())                 .build();          return Realm.getInstance(realmConfig);     }  Version of Realm and tooling Realm version(s): 4.3.1 Realm sync feature enabled: no Android Studio version: 3.0.1 Which Android version and device: Samsung S5 - 6.0.1 Canvas Nitro - 4.4.2,0
5640,17-12-22,Issue 5640 : Why all gradle plugin is build on alpha android plugin? ， Issue #5640 ， realm/realm-java ， GitHub It will cause the test only apk problem of android studio see this: https://stackoverflow.com/questions/14643564/android-error-install-failed-test-only,0
5643,17-12-26,Issue 5643 : RealmFileException: Not a Realm file & Permission denied ， Issue #5643 ， realm/realm-java ， GitHub Expected Results No crash. Actual Results We updated Realm version from 1.0.0 to 4.3.1  then We've got some crash reported by crashlytics. # OS Version: 6.0.1 # Device: Nexus 7 (2013) # RAM Free: 31.3% # Disk Free: 22%  Fatal Exception: io.realm.exceptions.RealmFileException: Unable to open a realm at path '/data/data/our.package/files/default.realm': Not a Realm file. (Not a Realm file) (/data/data/our.package/files/default.realm) in /Users/cm/Realm/realm-java-release/realm/realm-library/src/main/cpp/io_realm_internal_OsSharedRealm.cpp line 101        at io.realm.internal.OsSharedRealm.nativeGetSharedRealm(OsSharedRealm.java)        at io.realm.internal.OsSharedRealm.(OsSharedRealm.java)        at io.realm.internal.OsSharedRealm.getInstance(OsSharedRealm.java:254)        at io.realm.internal.OsSharedRealm.getInstance(OsSharedRealm.java:244)        at io.realm.RealmCache.doCreateRealmOrGetFromCache(RealmCache.java:319)        at io.realm.RealmCache.createRealmOrGetFromCache(RealmCache.java:282)        at io.realm.Realm.getDefaultInstance(Realm.java:332)   # OS Version: 6.0.1 # Device: Xperia Z3 Compact # RAM Free: 50.2% # Disk Free: 6.5%  Fatal Exception: io.realm.exceptions.RealmFileException: Unable to open a realm at path '/data/data/our.package/files/default.realm.lock'. Please use a path where your app has read-write permissions. (open("/data/data/our.package/files/default.realm.lock") failed: Permission denied) (/data/data/our.package/files/default.realm.lock) in /Users/cm/Realm/realm-java-release/realm/realm-library/src/main/cpp/io_realm_internal_OsSharedRealm.cpp line 101        at io.realm.internal.OsSharedRealm.nativeGetSharedRealm(OsSharedRealm.java)        at io.realm.internal.OsSharedRealm.(OsSharedRealm.java)        at io.realm.internal.OsSharedRealm.getInstance(OsSharedRealm.java:254)        at io.realm.BaseRealm.(BaseRealm.java)        at io.realm.BaseRealm.(BaseRealm.java)        at io.realm.Realm.(Realm.java)        at io.realm.Realm.createInstance(Realm.java:424)        at io.realm.RealmCache.doCreateRealmOrGetFromCache(RealmCache.java:342)        at io.realm.RealmCache.createRealmOrGetFromCache(RealmCache.java:282)        at io.realm.Realm.getDefaultInstance(Realm.java:332)  Steps & Code to Reproduce Sorry  we couldn't reproduce this crash. Code Sample // onCreate() in Application  Realm.init(this); RealmConfiguration config = new RealmConfiguration.Builder()         .schemaVersion(7)         .migration(new Migration())         .build(); Realm.setDefaultConfiguration(config);  // onResume() in Activity final Realm realm = Realm.getDefaultInstance(); // Crash  Version of Realm and tooling Realm version(s): 4.3.1 Realm sync feature enabled: no Android Studio version: 3.0.1 Which Android version and device: Nexus 7 6.0.1 Xperia Z3 Compact 6.0.1 Nexus5 6.0.1 AQUOS EVER SH-04G 5.0.2 Xperia Z Ultra 4.4.2 and so on. How can we solve this problem? Thanks. I'm sorry for my poor english.,0
5714,18-01-26,Issue 5714 : findFirst() not working with sort() ， Issue #5714 ， realm/realm-java ， GitHub Using DynamicRealm 4.3.3 A) DynamicRealmObject lastTrack = realm.where(Model.TRACK).sort("timeStart"  Sort.DESCENDING).findAll().first(null); and B) DynamicRealmObject lastTrack = realm.where(Model.TRACK).sort("timeStart"  Sort.DESCENDING).findFirst(); A) and B) have different results. A) is correct working  B) not working,0
5717,18-01-26,Issue 5717 : Kotlin extensions from oneOf group don't support arrays with not-nulls ， Issue #5717 ， realm/realm-java ， GitHub Goal I want to pass Array<Long> as query parameter to oneOf function from Kotlin extensions Actual Results Array<Long> can't be passed to oneOf function  because Kotlin extensions for this function can consume only arrays of nullable types (for example Array<Long?> in my case) while with old in function everything works as expected. Perhaps you should add out variance to generics in these extensions like this: fun <T : RealmModel> RealmQuery<T>.oneOf(propertyName: String  value: Array<out Long?>): RealmQuery<T> {         return this.`in`(propertyName  value) }  Version of Realm and tooling Realm version(s): 4.3.3 Android Studio version: 3.0.1,1
5719,18-01-27,Issue 5719 : Java error using kotlin delegated properties with generics ， Issue #5719 ， realm/realm-java ， GitHub Consider the following code: //Track.kt interface Track {     val name: String }  //MusicTrack.kt open class MusicTrack (     override var name: String = "" ) : RealmObject()  Track  //Album.kt interface Album {     val tracks: List<Track> }  //MusicAlbum.kt open class MusicAlbum (     override var tracks: RealmList<MusicTrack> = RealmList() ) : RealmObject()  Album  When building this code  the following error is thrown by javac and the build fails: error: getTracks() in MusicAlbum cannot implement getTracks() in Album public class MusicAlbumRealmProxy extends com.xyz.model.MusicAlbum        ^   return type RealmList<MusicTrack> is not compatible with List<Track> There are no lint errors and no warnings from Kotlin or Realm. Version of Realm and tooling Realm version(s): 4.3.3 Realm sync feature enabled: no Android Studio version: 3.1 Canary 8 Which Android version and device: minSdk 21  targetSdk 27. Device N/A,0
5780,18-02-28,Issue 5780 : `deleteAll` crashes under Partial Sync ， Issue #5780 ， realm/realm-java ， GitHub io.realm.exceptions.RealmException: '__ResultSets' doesn't exist in current schema. at io.realm.internal.ColumnIndices.getColumnInfo(ColumnIndices.java:112) at io.realm.RealmSchema.getColumnInfo(RealmSchema.java:250) at io.realm.ImmutableRealmSchema.get(ImmutableRealmSchema.java:43) at io.realm.RealmSchema.getAll(RealmSchema.java:88) at io.realm.BaseRealm.deleteAll(BaseRealm.java:615) at io.realm.Realm.deleteAll(Realm.java:138) at io.realm.objectserver.PartialSyncTests.lambda$clearTable$8$PartialSyncTests(PartialSyncTests.java:289) at io.realm.objectserver.PartialSyncTests$$Lambda$8.execute(Unknown Source) at io.realm.Realm.executeTransaction(Realm.java:1397) at io.realm.objectserver.PartialSyncTests.clearTable(PartialSyncTests.java:288) at java.lang.reflect.Method.invoke(Native Method) at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) at android.support.test.internal.runner.junit4.statement.RunBefores.evaluate(RunBefores.java:80) at android.support.test.internal.runner.junit4.statement.RunAfters.evaluate(RunAfters.java:61) at io.realm.rule.RunInLooperThread$TestThread.run(RunInLooperThread.java:495) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:428) at java.util.concurrent.FutureTask.run(FutureTask.java:237) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607) at java.lang.Thread.run(Thread.java:761),0
5805,18-03-06,Issue 5805 : Realm crash samsung s8+ ， Issue #5805 ， realm/realm-java ， GitHub Studio Profilers encountered an unexpected error. Consider reporting a bug  including logcat output below.                                                    See also: https://developer.android.com/studio/report-bugs.html#studio-bugs                                                                                                        Failed to capture application 03-06 15:10:19.092 21218-21218/? E/REALM: /home/jenkins/workspace/realm_realm-core_PR-2932-3UKZX3DIAA6C7HYY2BXKB2YPDOKXKDHJILDG3TPJMCH6YENXIJWQ@2/src/realm/group_writer.cpp:392: [realm-core-4.0.4] Assertion failed: ref + size <= after_ref with (ref  size  after_ref  ndx  m_free_positions.size()) =  [0  8  0  0  13]                                           IMPORTANT: if you see this error  please send this log to help@realm.io. 03-06 15:10:19.093 21218-21218/? A/libc: Fatal signal 6 (SIGABRT)  code -6 in tid 21218 (me.superup.demo)                                                                                    [ 03-06 15:10:19.093  3143: 3143 W/         ]                                          debuggerd: handling request: pid=21218 uid=10647 gid=10647 tid=21218 03-06 15:10:19.178 21252-21252/? A/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 03-06 15:10:19.178 21252-21252/? A/DEBUG: Build fingerprint: 'samsung/dream2ltexx/dream2lte:7.0/NRD90M/G955FXXU1AQJ5:user/release-keys' 03-06 15:10:19.178 21252-21252/? A/DEBUG: Revision: '10' 03-06 15:10:19.178 21252-21252/? A/DEBUG: ABI: 'arm64' 03-06 15:10:19.179 21252-21252/? A/DEBUG: pid: 21218  tid: 21218  name: me.superup.demo  >>> me.superup.demo <<< 03-06 15:10:19.179 21252-21252/? A/DEBUG: signal 6 (SIGABRT)  code -6 (SI_TKILL)  fault addr -------- 03-06 15:10:19.179 21252-21252/? A/DEBUG:     x0   0000000000000000  x1   00000000000052e2  x2   0000000000000006  x3   0000000000000008 03-06 15:10:19.179 21252-21252/? A/DEBUG:     x4   00000000000000b2  x5   8080800000000000  x6   0000007bf528e000  x7   0000000000000000 03-06 15:10:19.179 21252-21252/? A/DEBUG:     x8   0000000000000083  x9   ffffffffffffffdf  x10  0000000000000000  x11  ffffffffffffffff 03-06 15:10:19.179 21252-21252/? A/DEBUG:     x12  0000000000000018  x13  0000000000000000  x14  0000000000000000  x15  0005852804afb1d8 03-06 15:10:19.179 21252-21252/? A/DEBUG:     x16  0000007bf3e2fed0  x17  0000007bf3dd79f4  x18  0000000000000085  x19  0000007bf5347b40 03-06 15:10:19.179 21252-21252/? A/DEBUG:     x20  0000000000000006  x21  0000007bf5347a98  x22  0000000000000011  x23  0000000000000001 03-06 15:10:19.179 21252-21252/? A/DEBUG:     x24  000000000000000c  x25  0000007bdd2bc010  x26  0000007fd3792668  x27  0000007be33fca40 03-06 15:10:19.179 21252-21252/? A/DEBUG:     x28  0000000000000008  x29  0000007fd37921b0  x30  0000007bf3dd4d14 03-06 15:10:19.179 21252-21252/? A/DEBUG:     sp   0000007fd3792190  pc   0000007bf3dd79fc  pstate 0000000000000000 03-06 15:10:19.187 21252-21252/? A/DEBUG: backtrace: 03-06 15:10:19.187 21252-21252/? A/DEBUG:     #00 pc 000000000006f9fc  /system/lib64/libc.so (tgkill+8) 03-06 15:10:19.188 21252-21252/? A/DEBUG:     #01 pc 000000000006cd10  /system/lib64/libc.so (pthread_kill+64) 03-06 15:10:19.188 21252-21252/? A/DEBUG:     #02 pc 0000000000025078  /system/lib64/libc.so (raise+24) 03-06 15:10:19.188 21252-21252/? A/DEBUG:     #03 pc 000000000001cc04  /system/lib64/libc.so (abort+52) 03-06 15:10:19.188 21252-21252/? A/DEBUG:     #04 pc 0000000000205a14  /data/app/me.superup.demo-2/lib/arm64/librealm-jni.so 03-06 15:10:19.188 21252-21252/? A/DEBUG:     #05 pc 0000000000205a58  /data/app/me.superup.demo-2/lib/arm64/librealm-jni.so 03-06 15:10:19.188 21252-21252/? A/DEBUG:     #06 pc 0000000000205ba0  /data/app/me.superup.demo-2/lib/arm64/librealm-jni.so 03-06 15:10:19.188 21252-21252/? A/DEBUG:     #07 pc 00000000001a58e4  /data/app/me.superup.demo-2/lib/arm64/librealm-jni.so 03-06 15:10:19.188 21252-21252/? A/DEBUG:     #08 pc 00000000001a2248  /data/app/me.superup.demo-2/lib/arm64/librealm-jni.so 03-06 15:10:19.188 21252-21252/? A/DEBUG:     #09 pc 00000000001a24e0  /data/app/me.superup.demo-2/lib/arm64/librealm-jni.so 03-06 15:10:19.188 21252-21252/? A/DEBUG:     #10 pc 00000000001a3ff8  /data/app/me.superup.demo-2/lib/arm64/librealm-jni.so 03-06 15:10:19.188 21252-21252/? A/DEBUG:     #11 pc 0000000000104494  /data/app/me.superup.demo-2/lib/arm64/librealm-jni.so 03-06 15:10:19.188 21252-21252/? A/DEBUG:     #12 pc 00000000000e9aec  /data/app/me.superup.demo-2/lib/arm64/librealm-jni.so 03-06 15:10:19.188 21252-21252/? A/DEBUG:     #13 pc 00000000000ecf64  /data/app/me.superup.demo-2/lib/arm64/librealm-jni.so 03-06 15:10:19.188 21252-21252/? A/DEBUG:     #14 pc 00000000001082e8  /data/app/me.superup.demo-2/lib/arm64/librealm-jni.so 03-06 15:10:19.188 21252-21252/? A/DEBUG:     #15 pc 00000000000e97b8  /data/app/me.superup.demo-2/lib/arm64/librealm-jni.so 03-06 15:10:19.188 21252-21252/? A/DEBUG:     #16 pc 000000000006d468  /data/app/me.superup.demo-2/lib/arm64/librealm-jni.so (Java_io_realm_internal_OsSharedRealm_nativeGetSharedRealm+480) 03-06 15:10:19.188 21252-21252/? A/DEBUG:     #17 pc 0000000002b22110  /data/app/me.superup.demo-2/oat/arm64/base.odex (offset 0x287f000),0
5807,18-03-07,Issue 5807 : Problems in advanced tutorial ， Issue #5807 ， realm/realm-java ， GitHub A couple of problems were identified when trying to follow https://docs.realm.io/cloud/android-demo-app/adding-partial-sync: Under "Creating a partial sync configuration": In the first code snippet  REALM_URL should be REALM_BASE_URL Saying that the rest of the code is unchanged is not true. There are changes in the import section and you have to replace this.goToItemsActivity with setUpRealmAndGoToListTaskActivity You will have to add title_select_projects to strings.xml The ProjectsActivity has to be added to the manifest,0
5811,18-03-07,Issue 5811 : Problems with partial sync tutorial app ， Issue #5811 ， realm/realm-java ， GitHub We assume that you have built the first version of the demo app without partial sync and have the data syncked with the cloud. If you then go on and build the advanced app with partial sync  then it cannot sync with the cloud. You get logs like this: 03-07 09:22:29.139 4099-4099/io.realm.todo W/IInputConnectionWrapper: finishComposingText on inactive InputConnection 03-07 09:22:29.139 4099-4099/io.realm.todo W/IInputConnectionWrapper: finishComposingText on inactive InputConnection 03-07 09:22:29.214 4099-4150/io.realm.todo E/REALM_SYNC: Connection[1]: Websocket: HTTP response is 502-504 03-07 09:22:29.216 4099-4150/io.realm.todo W/REALM_JAVA: Unknown error code: 8 03-07 09:22:29.216 4099-4150/io.realm.todo E/REALM_JAVA: Session Error[realms://my-shopping-list.us1a.cloud.realm.io/items]: UNKNOWN(-1)                                                          Bad WebSocket handshake response 502-504 received 03-07 09:22:30.070 4099-4150/io.realm.todo E/REALM_SYNC: Connection[1]: Websocket: HTTP response is 502-504  The app is running on Nexus 5X / Android 8.1.0,0
5815,18-03-08,Issue 5815 : Fatal signal 11 from copyToRealmOrUpdate ， Issue #5815 ， realm/realm-java ， GitHub Goal A crash free experience Expected Results My realm objects stay updated without crashing. Actual Results Intermittently and randomly  the app crashes and I get a realm trace that ends with a Java_io_realm_internal_UncheckedRow_nativeGetLong call. No tombstone is written. Let me know how I can provide more details for you. Java_io_realm_internal_UncheckedRow_nativeGetLong 547954833728 A/libc: Fatal signal 11 (SIGSEGV)  code 1  fault addr 0x100000098 in tid 23300 (com.####) Steps & Code to Reproduce It happens randomly in the app. I'm able to avoid the crash by commenting out the code that writes to realm. These writes are happening from a background thread that is the response from an API call. Code Sample realm.executeTransactionAsync(          realm -> realm.copyToRealmOrUpdate(store) ); Version of Realm and tooling Realm version(s): 4.3.3 Realm sync feature enabled: no Android Studio version: 3.0.1 Which Android version and device: Android 6.0  Nexus 5X,0
5828,18-03-13,Issue 5828 : Realm No such file or directory crash  ， Issue #5828 ， realm/realm-java ， GitHub Expected Results App shouldn't crash Actual Results io.realm.exceptions.RealmFileException: No such file or directory () (/data/data/com.truly.truly/files/default.realm) in /Users/Nabil/Dev/realm/master/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_OsSharedRealm.cpp line 101 Kind: ACCESS_ERROR. 	at io.realm.internal.OsSharedRealm.nativeGetSharedRealm(OsSharedRealm.java) 	at io.realm.internal.OsSharedRealm.<init>(OsSharedRealm.java:184) 	at io.realm.internal.OsSharedRealm.<init>(OsSharedRealm.java:184) 	at io.realm.internal.OsSharedRealm.getInstance(OsSharedRealm.java:254) 	at io.realm.BaseRealm.<init>(BaseRealm.java:124) 	at io.realm.BaseRealm.<init>(BaseRealm.java:124) 	at io.realm.BaseRealm.<init>(BaseRealm.java:93) 	at io.realm.BaseRealm.<init>(BaseRealm.java:93) 	at io.realm.BaseRealm.<init>(BaseRealm.java:93) 	at io.realm.Realm.<init>(Realm.java:153) 	at io.realm.Realm.createInstance(Realm.java:424) 	at io.realm.RealmCache.doCreateRealmOrGetFromCache(RealmCache.java:342) 	at io.realm.RealmCache.createRealmOrGetFromCache(RealmCache.java:282) 	at io.realm.Realm.getDefaultInstance(Realm.java:332) 	at com.truly.sdk.models.TWVoicemail.onDownloaded(TWVoicemail.java:126) 	at com.truly.truly.util.VoicemailDownloadQueue$VoiceMailTask.onPostExecute(VoicemailDownloadQueue.java:132) 	at com.truly.truly.util.VoicemailDownloadQueue$VoiceMailTask.onPostExecute(VoicemailDownloadQueue.java:74) 	at android.os.AsyncTask.finish(AsyncTask.java:660) 	at android.os.AsyncTask.-wrap1(AsyncTask.java) 	at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:677) 	at android.os.Handler.dispatchMessage(Handler.java:102) 	at android.os.Looper.loop(Looper.java:154) 	at android.app.ActivityThread.main(ActivityThread.java:6776) 	at java.lang.reflect.Method.invoke(Method.java) 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1520) 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1410)  Version of Realm and tooling Realm version(s): 4.3.4 Realm sync feature enabled: no Android Studio version: 3.0.1 Which Android version and device: SM-G955U / SM-G950U / Pixel 2 versions 7.x and 8.x,0
5860,18-03-27,Issue 5860 : RealmList.move behaves incorrectly if RealmList is unmanaged ， Issue #5860 ， realm/realm-java ， GitHub Goal I have an unmanaged RealmList with multiple elements. I want to update it via the move(int oldPos  int newPos) method to notify it that an element has changed positions. Scenario 1: Move an item to a higher position: class MyObject(var label: String) : RealmObject()  val myList = RealmList<MyObject>() myList.add(MyObject("A")) myList.add(MyObject("B"))  myList.move(0  1)  assert(myList[0]?.label == "B") assert(myList[1]?.label == "A") Scenario 2: Move an item to a lower position: class MyObject(var label: String) : RealmObject()  val myList = RealmList<MyObject>() myList.add(MyObject("A")) myList.add(MyObject("B"))  myList.move(1  0)  assert(myList[0]?.label == "B") assert(myList[1]?.label == "A") Expected Results In both scenarios  I expect that "A" and "B" have swaped places  i.e.  my list is now "B"  "A". Actual Results In scenario 1 the list remains unchanged. (Still "A  "B") In scenario 2 the items have swaped places as expected. Steps & Code to Reproduce See my code samples above. The problem only occurs with unmanaged RealmList. The items reorder correctly when the list is managed. Code Sample See above. Version of Realm and tooling Realm version(s): 5.0.0 Realm sync feature enabled: no Android Studio version: 3.0.1 Which Android version and device: Android 7.0 on an LG G6,0
5880,18-04-08,Issue 5880 : [Sync] JNI ERROR reference table overflow  ， Issue #5880 ， realm/realm-java ， GitHub This happened while testing sync with a demo app (Chat - Permissions) E/REALM_SYNC( 5204): Connection[1]: Reading failed: End of input E/REALM_JAVA( 5204): Session Error[realms://jarjar4.us1.cloud.realm.io/default]: JSON_EXCEPTION(1) E/REALM_JAVA( 5204): End of input ... I/ActivityManager(  755): Displayed io.realm.todo/.ChatRoomActivity: +421ms W/AudioTrack(  755): AUDIO_OUTPUT_FLAG_FAST denied by client F/art     ( 5204): art/runtime/indirect_reference_table.cc:98] JNI ERROR (app bug): local reference table overflow (max=512) F/art     ( 5204): art/runtime/indirect_reference_table.cc:98] local reference table dump: F/art     ( 5204): art/runtime/indirect_reference_table.cc:98]   Last 10 entries (of 512): F/art     ( 5204): art/runtime/indirect_reference_table.cc:98]       511: 0x12fdb3e0 java.lang.String "eyJhcHBfaWQiOiJp... (701 chars) F/art     ( 5204): art/runtime/indirect_reference_table.cc:98]       510: 0x12f50f40 java.lang.String "/data/data/io.re... (99 chars) F/art     ( 5204): art/runtime/indirect_reference_table.cc:98]       509: 0x12f50f20 java.lang.String "{"authUrl":"http... (790 chars) F/art     ( 5204): art/runtime/indirect_reference_table.cc:98]       508: 0x12fdb3e0 java.lang.String "eyJhcHBfaWQiOiJp... (701 chars) F/art     ( 5204): art/runtime/indirect_reference_table.cc:98]       507: 0x12f50e20 java.lang.String "/data/data/io.re... (99 chars) F/art     ( 5204): art/runtime/indirect_reference_table.cc:98]       506: 0x12f50e00 java.lang.String "{"authUrl":"http... (790 chars) F/art     ( 5204): art/runtime/indirect_reference_table.cc:98]       505: 0x12fdb3e0 java.lang.String "eyJhcHBfaWQiOiJp... (701 chars) F/art     ( 5204): art/runtime/indirect_reference_table.cc:98]       504: 0x12f50d20 java.lang.String "/data/data/io.re... (99 chars) F/art     ( 5204): art/runtime/indirect_reference_table.cc:98]       503: 0x12f50d00 java.lang.String "{"authUrl":"http... (790 chars) F/art     ( 5204): art/runtime/indirect_reference_table.cc:98]       502: 0x12fdb3e0 java.lang.String "eyJhcHBfaWQiOiJp... (701 chars) F/art     ( 5204): art/runtime/indirect_reference_table.cc:98]   Summary: F/art     ( 5204): art/runtime/indirect_reference_table.cc:98]       512 of java.lang.String (355 unique instances) F/art     ( 5204): art/runtime/indirect_reference_table.cc:98] F/art     ( 5204): art/runtime/runtime.cc:289] Runtime aborting... F/art     ( 5204): art/runtime/runtime.cc:289] Aborting thread: F/art     ( 5204): art/runtime/runtime.cc:289] "Thread-315" prio=5 tid=27 Runnable F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x12e560a0 self=0xf3fb5c00 F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5240 nice=0 cgrp=default sched=0/0 handle=0xe1854b00 F/art     ( 5204): art/runtime/runtime.cc:289]   | state=R schedstat=( 218939476 10154752 592 ) utm=6 stm=15 core=1 HZ=100 F/art     ( 5204): art/runtime/runtime.cc:289]   | stack=0xe08e8000-0xe08ea000 stackSize=1012KB F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= "abort lock" "mutator lock"(shared held) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 00005d03  /system/lib/libbacktrace_libc++.so (UnwindCurrent::Unwind(unsigned int  ucontext*)+83) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #01 pc 00003051  /system/lib/libbacktrace_libc++.so (Backtrace::Unwind(unsigned int  ucontext*)+33) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #02 pc 003c9b97  /system/lib/libart.so (art::DumpNativeStack(std::__1::basic_ostream<char  std::__1::char_traits<char> >&  int  char const*  art::mirror::ArtMethod*)+135) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #03 pc 00392f52  /system/lib/libart.so (art::Thread::Dump(std::__1::basic_ostream<char  std::__1::char_traits<char> >&) const+306) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #04 pc 00377674  /system/lib/libart.so (art::AbortState::Dump(std::__1::basic_ostream<char  std::__1::char_traits<char> >&)+644) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #05 pc 00377bdd  /system/lib/libart.so (art::Runtime::Abort()+125) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #06 pc 000ec704  /system/lib/libart.so (art::LogMessage::~LogMessage()+1876) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #07 pc 00224429  /system/lib/libart.so (art::IndirectReferenceTable::Add(unsigned int  art::mirror::Object*)+1065) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #08 pc 002cb4e8  /system/lib/libart.so (art::JNI::NewString(_JNIEnv*  unsigned short const*  int)+392) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #09 pc 0010ec4d  /system/lib/libart.so (art::CheckJNI::NewString(_JNIEnv*  unsigned short const*  int)+125) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #10 pc 000fa97d  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (???) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #11 pc 00092dd0  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (???) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #12 pc 0017e9e9  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (???) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #13 pc 0017edc1  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (???) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #14 pc 00183256  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (???) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #15 pc 001834a0  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (???) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #16 pc 0017c32b  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (???) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #17 pc 001ab6d0  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (???) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #18 pc 001a450f  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (???) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #19 pc 001e0be0  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (???) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #20 pc 001e0d70  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (???) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #21 pc 001ec42e  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (???) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #22 pc 001e164d  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (???) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #23 pc 001e1673  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (???) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #24 pc 001c44de  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (???) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #25 pc 001ecb68  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (std::function<void (std::error_code  unsigned int)>::operator()(std::error_code  unsigned int) const+60) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #26 pc 001ecf5b  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (???) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #27 pc 001bc960  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (???) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #28 pc 001a2cce  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (???) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #29 pc 00177a98  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (_ZNSt6thread5_ImplISt12_Bind_simpleIFZN5realm5_impl10SyncClientC4ESt10unique_ptrINS2_4util6LoggerESt14default_deleteIS7_EENS2_4sync6Client13ReconnectModeEbEUlvE_vEEE6_M_runEv+56) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #30 pc 0043bf9e  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (???) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #31 pc 000211d8  /system/lib/libc.so (__pthread_start(void*)+56) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #32 pc 0001c559  /system/lib/libc.so (__start_thread+25) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #33 pc 00013126  /system/lib/libc.so (__bionic_clone+70) F/art     ( 5204): art/runtime/runtime.cc:289]   (no managed stack frames) F/art     ( 5204): art/runtime/runtime.cc:289] Dumping all threads without appropriate locks held: thread list lock F/art     ( 5204): art/runtime/runtime.cc:289] All threads: F/art     ( 5204): art/runtime/runtime.cc:289] DALVIK THREADS (43): F/art     ( 5204): art/runtime/runtime.cc:289] "main" prio=5 tid=1 Native F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x74cb2000 self=0xf3c25800 F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5204 nice=0 cgrp=default sched=0/0 handle=0xf7749ea0 F/art     ( 5204): art/runtime/runtime.cc:289]   | state=S schedstat=( 6239599297 1235865582 24697 ) utm=86 stm=537 core=2 HZ=100 F/art     ( 5204): art/runtime/runtime.cc:289]   | stack=0xff512000-0xff514000 stackSize=8MB F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: ep_poll+0x307/0x400 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: SyS_epoll_pwait+0x1c0/0x1f0 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_syscall_32_irqs_off+0x5f/0x180 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: entry_INT80_compat+0x36/0x50 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 00075795  /system/lib/libc.so (__epoll_pwait+37) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #01 pc 0001cca2  /system/lib/libc.so (epoll_pwait+98) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #02 pc 0001ccea  /system/lib/libc.so (epoll_wait+58) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #03 pc 0001b6a7  /system/lib/libutils.so (android::Looper::pollInner(int)+199) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #04 pc 0001baa7  /system/lib/libutils.so (android::Looper::pollOnce(int  int*  int*  void**)+55) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #05 pc 000c8787  /system/lib/libandroid_runtime.so (android::NativeMessageQueue::pollOnce(_JNIEnv*  int)+71) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #06 pc 000c87ea  /system/lib/libandroid_runtime.so (???) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #07 pc 000db8ae  /data/dalvik-cache/x86/system@framework@boot.oat (Java_android_os_MessageQueue_nativePollOnce__JI+146) F/art     ( 5204): art/runtime/runtime.cc:289]   at android.os.MessageQueue.nativePollOnce(Native method) F/art     ( 5204): art/runtime/runtime.cc:289]   at android.os.MessageQueue.next(MessageQueue.java:143) F/art     ( 5204): art/runtime/runtime.cc:289]   at android.os.Looper.loop(Looper.java:122) F/art     ( 5204): art/runtime/runtime.cc:289]   at android.app.ActivityThread.main(ActivityThread.java:5254) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.reflect.Method.invoke!(Native method) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.reflect.Method.invoke(Method.java:372) F/art     ( 5204): art/runtime/runtime.cc:289]   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903) F/art     ( 5204): art/runtime/runtime.cc:289]   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698) F/art     ( 5204): art/runtime/runtime.cc:289] F/art     ( 5204): art/runtime/runtime.cc:289] "Heap thread pool worker thread 2" prio=5 tid=2 Native (still starting up) F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x0 self=0xeec85400 F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5208 nice=0 cgrp=default sched=0/0 handle=0xf3c51a80 F/art     ( 5204): art/runtime/runtime.cc:289]   | state=S schedstat=( 15446999 14075292 25 ) utm=0 stm=1 core=1 HZ=100 F/art     ( 5204): art/runtime/runtime.cc:289]   | stack=0xf2ff9000-0xf2ffb000 stackSize=1020KB F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait_queue_me+0xc0/0x110 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait+0x112/0x250 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_futex+0xdc/0xb30 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: compat_SyS_futex+0x75/0x150 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_syscall_32_irqs_off+0x5f/0x180 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: entry_INT80_compat+0x36/0x50 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 00013300  /system/lib/libc.so (syscall+32) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #01 pc 000fdc97  /dev/ashmem/dalvik-Heap thread pool worker thread 2 (deleted) (???) F/art     ( 5204): art/runtime/runtime.cc:289]   (no managed stack frames) F/art     ( 5204): art/runtime/runtime.cc:289] F/art     ( 5204): art/runtime/runtime.cc:289] "Heap thread pool worker thread 0" prio=5 tid=3 Native (still starting up) F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x0 self=0xf3c25c00 F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5206 nice=0 cgrp=default sched=0/0 handle=0xf3c51580 F/art     ( 5204): art/runtime/runtime.cc:289]   | state=S schedstat=( 1364300 13480496 22 ) utm=0 stm=0 core=3 HZ=100 F/art     ( 5204): art/runtime/runtime.cc:289]   | stack=0xf31f9000-0xf31fb000 stackSize=1020KB F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait_queue_me+0xc0/0x110 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait+0x112/0x250 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_futex+0xdc/0xb30 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: compat_SyS_futex+0x75/0x150 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_syscall_32_irqs_off+0x5f/0x180 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: entry_INT80_compat+0x36/0x50 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 00013300  /system/lib/libc.so (syscall+32) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #01 pc 000fdc97  /dev/ashmem/dalvik-Heap thread pool worker thread 0 (deleted) (???) F/art     ( 5204): art/runtime/runtime.cc:289]   (no managed stack frames) F/art     ( 5204): art/runtime/runtime.cc:289] F/art     ( 5204): art/runtime/runtime.cc:289] "Heap thread pool worker thread 1" prio=5 tid=4 Native (still starting up) F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x0 self=0xeec86400 F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5207 nice=0 cgrp=default sched=0/0 handle=0xf3c51800 F/art     ( 5204): art/runtime/runtime.cc:289]   | state=S schedstat=( 20774388 8075523 22 ) utm=0 stm=1 core=1 HZ=100 F/art     ( 5204): art/runtime/runtime.cc:289]   | stack=0xf30f9000-0xf30fb000 stackSize=1020KB F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait_queue_me+0xc0/0x110 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait+0x112/0x250 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_futex+0xdc/0xb30 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: compat_SyS_futex+0x75/0x150 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_syscall_32_irqs_off+0x5f/0x180 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: entry_INT80_compat+0x36/0x50 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 00013300  /system/lib/libc.so (syscall+32) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #01 pc 000fdc97  /dev/ashmem/dalvik-Heap thread pool worker thread 1 (deleted) (???) F/art     ( 5204): art/runtime/runtime.cc:289]   (no managed stack frames) F/art     ( 5204): art/runtime/runtime.cc:289] F/art     ( 5204): art/runtime/runtime.cc:289] "Signal Catcher" prio=5 tid=5 WaitingInMainSignalCatcherLoop F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x12c000a0 self=0xf3c30800 F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5210 nice=0 cgrp=default sched=0/0 handle=0xf3c51d00 F/art     ( 5204): art/runtime/runtime.cc:289]   | state=S schedstat=( 4080434 297527 2 ) utm=0 stm=0 core=3 HZ=100 F/art     ( 5204): art/runtime/runtime.cc:289]   | stack=0xf2efb000-0xf2efd000 stackSize=1012KB F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_sigtimedwait+0x152/0x1e0 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: C_SYSC_rt_sigtimedwait+0x8d/0xe0 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: compat_SyS_rt_sigtimedwait+0xe/0x10 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_syscall_32_irqs_off+0x5f/0x180 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: entry_INT80_compat+0x36/0x50 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 0007555b  /system/lib/libc.so (__rt_sigtimedwait+27) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #01 pc 00024397  /system/lib/libc.so (sigwait+71) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #02 pc 0037fd45  /system/lib/libart.so (art::SignalCatcher::WaitForSignal(art::Thread*  art::SignalSet&)+133) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #03 pc 00380962  /system/lib/libart.so (art::SignalCatcher::Run(void*)+306) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #04 pc 000211d8  /system/lib/libc.so (__pthread_start(void*)+56) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #05 pc 0001c559  /system/lib/libc.so (__start_thread+25) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #06 pc 00013126  /system/lib/libc.so (__bionic_clone+70) F/art     ( 5204): art/runtime/runtime.cc:289]   (no managed stack frames) F/art     ( 5204): art/runtime/runtime.cc:289] F/art     ( 5204): art/runtime/runtime.cc:289] "JDWP" prio=5 tid=6 WaitingInMainDebuggerLoop F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x12c050a0 self=0xeec87400 F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5212 nice=0 cgrp=default sched=0/0 handle=0xf3c51f80 F/art     ( 5204): art/runtime/runtime.cc:289]   | state=S schedstat=( 1869950 2008463 18 ) utm=0 stm=0 core=3 HZ=100 F/art     ( 5204): art/runtime/runtime.cc:289]   | stack=0xf2dfd000-0xf2dff000 stackSize=1012KB F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: poll_schedule_timeout+0x49/0x70 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_select+0x57d/0x7c0 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: compat_core_sys_select+0x1cf/0x290 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: compat_SyS_pselect6+0x21a/0x240 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_syscall_32_irqs_off+0x5f/0x180 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: entry_INT80_compat+0x36/0x50 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 000760f5  /system/lib/libc.so (__pselect6+37) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #01 pc 0001fcf3  /system/lib/libc.so (select+179) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #02 pc 0043892f  /system/lib/libart.so (art::JDWP::JdwpAdbState::ProcessIncoming()+335) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #03 pc 0028f4df  /system/lib/libart.so (art::JDWP::JdwpState::Run()+415) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #04 pc 002915d0  /system/lib/libart.so (art::JDWP::StartJdwpThread(void*)+32) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #05 pc 000211d8  /system/lib/libc.so (__pthread_start(void*)+56) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #06 pc 0001c559  /system/lib/libc.so (__start_thread+25) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #07 pc 00013126  /system/lib/libc.so (__bionic_clone+70) F/art     ( 5204): art/runtime/runtime.cc:289]   (no managed stack frames) F/art     ( 5204): art/runtime/runtime.cc:289] F/art     ( 5204): art/runtime/runtime.cc:289] "ReferenceQueueDaemon" prio=5 tid=7 Waiting F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x12c0d0a0 self=0xf3c26400 F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5214 nice=0 cgrp=default sched=0/0 handle=0xf3c53d80 F/art     ( 5204): art/runtime/runtime.cc:289]   | state=S schedstat=( 12203374 12210258 724 ) utm=0 stm=0 core=3 HZ=100 F/art     ( 5204): art/runtime/runtime.cc:289]   | stack=0xf2cf9000-0xf2cfb000 stackSize=1036KB F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait_queue_me+0xc0/0x110 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait+0x112/0x250 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_futex+0xdc/0xb30 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: compat_SyS_futex+0x75/0x150 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_syscall_32_irqs_off+0x5f/0x180 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: entry_INT80_compat+0x36/0x50 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 00013300  /system/lib/libc.so (syscall+32) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #01 pc 001018e7  [stack:5214] (???) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Object.wait!(Native method) F/art     ( 5204): art/runtime/runtime.cc:289]   - waiting on <0x03c44fe0> (a java.lang.Class<java.lang.ref.ReferenceQueue>) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Daemons$ReferenceQueueDaemon.run(Daemons.java:134) F/art     ( 5204): art/runtime/runtime.cc:289]   - locked <0x03c44fe0> (a java.lang.Class<java.lang.ref.ReferenceQueue>) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Thread.run(Thread.java:818) F/art     ( 5204): art/runtime/runtime.cc:289] F/art     ( 5204): art/runtime/runtime.cc:289] "FinalizerWatchdogDaemon" prio=5 tid=8 Waiting F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x12c0d160 self=0xf3c31800 F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5217 nice=0 cgrp=default sched=0/0 handle=0xf3c54280 F/art     ( 5204): art/runtime/runtime.cc:289]   | state=S schedstat=( 1370319 46052 14 ) utm=0 stm=0 core=0 HZ=100 F/art     ( 5204): art/runtime/runtime.cc:289]   | stack=0xe3acb000-0xe3acd000 stackSize=1036KB F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait_queue_me+0xc0/0x110 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait+0x112/0x250 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_futex+0xdc/0xb30 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: compat_SyS_futex+0x75/0x150 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_syscall_32_irqs_off+0x5f/0x180 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: entry_INT80_compat+0x36/0x50 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 00013300  /system/lib/libc.so (syscall+32) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #01 pc 001018b7  [stack:5217] (???) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Object.wait!(Native method) F/art     ( 5204): art/runtime/runtime.cc:289]   - waiting on <0x122c7299> (a java.lang.Daemons$FinalizerWatchdogDaemon) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Daemons$FinalizerWatchdogDaemon.waitForObject(Daemons.java:240) F/art     ( 5204): art/runtime/runtime.cc:289]   - locked <0x122c7299> (a java.lang.Daemons$FinalizerWatchdogDaemon) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Daemons$FinalizerWatchdogDaemon.run(Daemons.java:212) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Thread.run(Thread.java:818) F/art     ( 5204): art/runtime/runtime.cc:289] F/art     ( 5204): art/runtime/runtime.cc:289] "FinalizerDaemon" prio=5 tid=9 Waiting F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x12c0d100 self=0xf3c26800 F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5215 nice=0 cgrp=default sched=0/0 handle=0xf3c54000 F/art     ( 5204): art/runtime/runtime.cc:289]   | state=S schedstat=( 37401926 23722041 737 ) utm=0 stm=3 core=3 HZ=100 F/art     ( 5204): art/runtime/runtime.cc:289]   | stack=0xeeafe000-0xeeb00000 stackSize=1036KB F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait_queue_me+0xc0/0x110 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait+0x112/0x250 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_futex+0xdc/0xb30 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: compat_SyS_futex+0x75/0x150 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_syscall_32_irqs_off+0x5f/0x180 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: entry_INT80_compat+0x36/0x50 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 00013300  /system/lib/libc.so (syscall+32) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #01 pc 00101807  [stack:5215] (???) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Object.wait!(Native method) F/art     ( 5204): art/runtime/runtime.cc:289]   - waiting on <0x032d995e> (a java.lang.ref.ReferenceQueue) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Object.wait(Object.java:422) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:101) F/art     ( 5204): art/runtime/runtime.cc:289]   - locked <0x032d995e> (a java.lang.ref.ReferenceQueue) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:72) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Daemons$FinalizerDaemon.run(Daemons.java:174) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Thread.run(Thread.java:818) F/art     ( 5204): art/runtime/runtime.cc:289] F/art     ( 5204): art/runtime/runtime.cc:289] "HeapTrimmerDaemon" prio=5 tid=10 Waiting F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x12c0d1c0 self=0xf3c31c00 F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5218 nice=0 cgrp=default sched=0/0 handle=0xf3c54500 F/art     ( 5204): art/runtime/runtime.cc:289]   | state=S schedstat=( 3142784 1624546 21 ) utm=0 stm=0 core=3 HZ=100 F/art     ( 5204): art/runtime/runtime.cc:289]   | stack=0xe39c7000-0xe39c9000 stackSize=1036KB F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait_queue_me+0xc0/0x110 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait+0x112/0x250 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_futex+0xdc/0xb30 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: compat_SyS_futex+0x75/0x150 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_syscall_32_irqs_off+0x5f/0x180 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: entry_INT80_compat+0x36/0x50 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 00013300  /system/lib/libc.so (syscall+32) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #01 pc 001018f7  [stack:5218] (???) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Object.wait!(Native method) F/art     ( 5204): art/runtime/runtime.cc:289]   - waiting on <0x3bd9213f> (a java.lang.Daemons$HeapTrimmerDaemon) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Daemons$HeapTrimmerDaemon.run(Daemons.java:311) F/art     ( 5204): art/runtime/runtime.cc:289]   - locked <0x3bd9213f> (a java.lang.Daemons$HeapTrimmerDaemon) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Thread.run(Thread.java:818) F/art     ( 5204): art/runtime/runtime.cc:289] F/art     ( 5204): art/runtime/runtime.cc:289] "GCDaemon" prio=5 tid=11 Waiting F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x12c0d220 self=0xf3c32000 F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5219 nice=0 cgrp=default sched=0/0 handle=0xf3c54780 F/art     ( 5204): art/runtime/runtime.cc:289]   | state=S schedstat=( 248862318 36557498 120 ) utm=5 stm=19 core=0 HZ=100 F/art     ( 5204): art/runtime/runtime.cc:289]   | stack=0xe38c3000-0xe38c5000 stackSize=1036KB F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait_queue_me+0xc0/0x110 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait+0x112/0x250 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_futex+0xdc/0xb30 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: compat_SyS_futex+0x75/0x150 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_syscall_32_irqs_off+0x5f/0x180 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: entry_INT80_compat+0x36/0x50 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 00013300  /system/lib/libc.so (syscall+32) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #01 pc 001018f7  [stack:5219] (???) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Object.wait!(Native method) F/art     ( 5204): art/runtime/runtime.cc:289]   - waiting on <0x194e8a0c> (a java.lang.Daemons$GCDaemon) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Daemons$GCDaemon.run(Daemons.java:344) F/art     ( 5204): art/runtime/runtime.cc:289]   - locked <0x194e8a0c> (a java.lang.Daemons$GCDaemon) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Thread.run(Thread.java:818) F/art     ( 5204): art/runtime/runtime.cc:289] F/art     ( 5204): art/runtime/runtime.cc:289] "Binder_1" prio=5 tid=12 Native F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x12c5f0a0 self=0xeec88400 F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5220 nice=0 cgrp=default sched=0/0 handle=0xf3c54a00 F/art     ( 5204): art/runtime/runtime.cc:289]   | state=S schedstat=( 103741465 49871621 2267 ) utm=0 stm=10 core=1 HZ=100 F/art     ( 5204): art/runtime/runtime.cc:289]   | stack=0xe36c7000-0xe36c9000 stackSize=1012KB F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: binder_thread_read+0x837/0xf00 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: binder_ioctl_write_read.isra.39+0xf2/0x260 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: binder_ioctl+0x219/0x5ea F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: compat_SyS_ioctl+0xc0/0x1130 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_syscall_32_irqs_off+0x5f/0x180 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: entry_INT80_compat+0x36/0x50 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 00075156  /system/lib/libc.so (__ioctl+22) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #01 pc 000adc5a  /system/lib/libc.so (ioctl+42) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #02 pc 0002e26b  /system/lib/libbinder.so (android::IPCThreadState::talkWithDriver(bool)+251) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #03 pc 0002ec65  /system/lib/libbinder.so (android::IPCThreadState::getAndExecuteCommand()+37) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #04 pc 0002ed29  /system/lib/libbinder.so (android::IPCThreadState::joinThreadPool(bool)+105) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #05 pc 000377a8  /system/lib/libbinder.so (android::PoolThread::threadLoop()+40) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #06 pc 000169de  /system/lib/libutils.so (android::Thread::_threadLoop(void*)+398) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #07 pc 00071d92  /system/lib/libandroid_runtime.so (android::AndroidRuntime::javaThreadShell(void*)+98) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #08 pc 000160fa  /system/lib/libutils.so (thread_data_t::trampoline(thread_data_t const*)+122) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #09 pc 000211d8  /system/lib/libc.so (__pthread_start(void*)+56) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #10 pc 0001c559  /system/lib/libc.so (__start_thread+25) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #11 pc 00013126  /system/lib/libc.so (__bionic_clone+70) F/art     ( 5204): art/runtime/runtime.cc:289]   (no managed stack frames) F/art     ( 5204): art/runtime/runtime.cc:289] F/art     ( 5204): art/runtime/runtime.cc:289] "Binder_2" prio=5 tid=13 Native F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x12c640a0 self=0xf3c32800 F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5221 nice=0 cgrp=default sched=0/0 handle=0xeecb2080 F/art     ( 5204): art/runtime/runtime.cc:289]   | state=S schedstat=( 108818821 21599660 2287 ) utm=5 stm=5 core=2 HZ=100 F/art     ( 5204): art/runtime/runtime.cc:289]   | stack=0xe35c9000-0xe35cb000 stackSize=1012KB F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: binder_thread_read+0x837/0xf00 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: binder_ioctl_write_read.isra.39+0xf2/0x260 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: binder_ioctl+0x219/0x5ea F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: compat_SyS_ioctl+0xc0/0x1130 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_syscall_32_irqs_off+0x5f/0x180 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: entry_INT80_compat+0x36/0x50 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 00075156  /system/lib/libc.so (__ioctl+22) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #01 pc 000adc5a  /system/lib/libc.so (ioctl+42) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #02 pc 0002e26b  /system/lib/libbinder.so (android::IPCThreadState::talkWithDriver(bool)+251) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #03 pc 0002ec65  /system/lib/libbinder.so (android::IPCThreadState::getAndExecuteCommand()+37) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #04 pc 0002ed29  /system/lib/libbinder.so (android::IPCThreadState::joinThreadPool(bool)+105) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #05 pc 000377a8  /system/lib/libbinder.so (android::PoolThread::threadLoop()+40) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #06 pc 000169de  /system/lib/libutils.so (android::Thread::_threadLoop(void*)+398) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #07 pc 00071d92  /system/lib/libandroid_runtime.so (android::AndroidRuntime::javaThreadShell(void*)+98) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #08 pc 000160fa  /system/lib/libutils.so (thread_data_t::trampoline(thread_data_t const*)+122) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #09 pc 000211d8  /system/lib/libc.so (__pthread_start(void*)+56) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #10 pc 0001c559  /system/lib/libc.so (__start_thread+25) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #11 pc 00013126  /system/lib/libc.so (__bionic_clone+70) F/art     ( 5204): art/runtime/runtime.cc:289]   (no managed stack frames) F/art     ( 5204): art/runtime/runtime.cc:289] F/art     ( 5204): art/runtime/runtime.cc:289] "RenderThread" prio=5 tid=14 Native F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x12c00b80 self=0xeec89400 F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5223 nice=-4 cgrp=default sched=0/0 handle=0xf3c55400 F/art     ( 5204): art/runtime/runtime.cc:289]   | state=S schedstat=( 3658062198 1206979813 57864 ) utm=82 stm=283 core=3 HZ=100 F/art     ( 5204): art/runtime/runtime.cc:289]   | stack=0xe2389000-0xe238b000 stackSize=1012KB F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: ep_poll+0x307/0x400 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #09 pc 000211d8  /system/lib/libc.so (__pthread_start(void*)+56) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #11 pc 00013126  /system/lib/libc.so (__bionic_clone+70) F/art     ( 5204): art/runtime/runtime.cc:289] F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5225 nice=0 cgrp=default sched=0/0 handle=0xf3c56580 F/art     ( 5204): art/runtime/runtime.cc:289]   | stack=0xe2211000-0xe2213000 stackSize=1036KB F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait_queue_me+0xc0/0x110 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_futex+0xdc/0xb30 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_syscall_32_irqs_off+0x5f/0x180 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 00013300  /system/lib/libc.so (syscall+32) F/art     ( 5204): art/runtime/runtime.cc:289]   - waiting on <0x05c89f55> (a java.lang.Object) F/art     ( 5204): art/runtime/runtime.cc:289]   - locked <0x05c89f55> (a java.lang.Object) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.locks.LockSupport.park(LockSupport.java:157) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:410) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1097) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Thread.run(Thread.java:818) F/art     ( 5204): art/runtime/runtime.cc:289] "AsyncTask #2" prio=5 tid=16 Waiting F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5226 nice=0 cgrp=default sched=0/0 handle=0xf3c56d00 F/art     ( 5204): art/runtime/runtime.cc:289]   | stack=0xe2109000-0xe210b000 stackSize=1036KB F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait_queue_me+0xc0/0x110 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_futex+0xdc/0xb30 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: entry_INT80_compat+0x36/0x50 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #01 pc 001016e7  [stack:5226] (???) F/art     ( 5204): art/runtime/runtime.cc:289]   - waiting on <0x27b5ed6a> (a java.lang.Object) F/art     ( 5204): art/runtime/runtime.cc:289]   - locked <0x27b5ed6a> (a java.lang.Object) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.locks.LockSupport.park(LockSupport.java:157) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:410) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587) F/art     ( 5204): art/runtime/runtime.cc:289] F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x12c0d340 self=0xf3fb3c00 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_futex+0xdc/0xb30 F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1035) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587) F/art     ( 5204): art/runtime/runtime.cc:289] "pool-2-thread-1" prio=5 tid=22 Waiting F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5234 nice=0 cgrp=default sched=0/0 handle=0xe1852080 F/art     ( 5204): art/runtime/runtime.cc:289]   | stack=0xe0df6000-0xe0df8000 stackSize=1036KB F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait_queue_me+0xc0/0x110 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_futex+0xdc/0xb30 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_syscall_32_irqs_off+0x5f/0x180 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 00013300  /system/lib/libc.so (syscall+32) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587) F/art     ( 5204): art/runtime/runtime.cc:289] F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x12e3e340 self=0xf3fb5000 F/art     ( 5204): art/runtime/runtime.cc:289]   | stack=0xe0aea000-0xe0aec000 stackSize=1036KB F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait_queue_me+0xc0/0x110 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_futex+0xdc/0xb30 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #03 pc 00392f52  /system/lib/libart.so (art::Thread::Dump(std::__1::basic_ostream<char  std::__1::char_traits<char> >&) const+306) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #16 pc 001834a0  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (???) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 00013300  /system/lib/libc.so (syscall+32) F/art     ( 5204): art/runtime/runtime.cc:289]   - waiting on <0x2c04f1d3> (a java.lang.Object) F/art     ( 5204): art/runtime/runtime.cc:289]   - locked <0x2c04f1d3> (a java.lang.Object) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.locks.LockSupport.park(LockSupport.java:157) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1035) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587) F/art     ( 5204): art/runtime/runtime.cc:289] F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5255 nice=10 cgrp=default sched=3/0 handle=0xe1857f80 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait_queue_me+0xc0/0x110 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: compat_SyS_futex+0x75/0x150 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: entry_INT80_compat+0x36/0x50 F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Object.wait!(Native method) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Thread.parkFor(Thread.java:1220) F/art     ( 5204): art/runtime/runtime.cc:289] "pool-1-thread-7" prio=5 tid=24 Waiting F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5274 nice=10 cgrp=default sched=3/0 handle=0xf3c58380 F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait+0x112/0x250 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: compat_SyS_futex+0x75/0x150 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: entry_INT80_compat+0x36/0x50 F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Object.wait!(Native method) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Thread.parkFor(Thread.java:1220) F/art     ( 5204): art/runtime/runtime.cc:289]   at sun.misc.Unsafe.park(Unsafe.java:299) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2016) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1097) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Thread.run(Thread.java:818) F/art     ( 5204): art/runtime/runtime.cc:289] "pool-1-thread-8" prio=5 tid=34 Waiting F/art     ( 5204): art/runtime/runtime.cc:289]   | state=S schedstat=( 2695348 384739 7 ) utm=0 stm=0 core=1 HZ=100 F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait+0x112/0x250 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: compat_SyS_futex+0x75/0x150 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 00013300  /system/lib/libc.so (syscall+32) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Object.wait!(Native method) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Thread.parkFor(Thread.java:1220) F/art     ( 5204): art/runtime/runtime.cc:289]   at sun.misc.Unsafe.park(Unsafe.java:299) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:373) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1097) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Thread.run(Thread.java:818) F/art     ( 5204): art/runtime/runtime.cc:289] "pool-1-thread-9" prio=5 tid=35 Waiting F/art     ( 5204): art/runtime/runtime.cc:289]   | state=S schedstat=( 2132501 733784 10 ) utm=0 stm=0 core=2 HZ=100 F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait+0x112/0x250 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: compat_SyS_futex+0x75/0x150 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: entry_INT80_compat+0x36/0x50 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #01 pc 001016e7  [stack:5296] (???) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Thread.parkFor(Thread.java:1220) F/art     ( 5204): art/runtime/runtime.cc:289]   at sun.misc.Unsafe.park(Unsafe.java:299) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2016) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1097) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Thread.run(Thread.java:818) F/art     ( 5204): art/runtime/runtime.cc:289] "Binder_3" prio=5 tid=36 Native F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5311 nice=0 cgrp=default sched=0/0 handle=0xf3c55b80 F/art     ( 5204): art/runtime/runtime.cc:289]   | stack=0xe0304000-0xe0306000 stackSize=1012KB F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: binder_thread_read+0x837/0xf00 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: compat_SyS_ioctl+0xc0/0x1130 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: entry_INT80_compat+0x36/0x50 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #01 pc 000adc5a  /system/lib/libc.so (ioctl+42) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #03 pc 0002ec65  /system/lib/libbinder.so (android::IPCThreadState::getAndExecuteCommand()+37) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #05 pc 000377a8  /system/lib/libbinder.so (android::PoolThread::threadLoop()+40) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #08 pc 000160fa  /system/lib/libutils.so (thread_data_t::trampoline(thread_data_t const*)+122) F/art     ( 5204): art/runtime/runtime.cc:289]   native: #10 pc 0001c559  /system/lib/libc.so (__start_thread+25) F/art     ( 5204): art/runtime/runtime.cc:289] F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x12e31be0 self=0xeec8b000 F/art     ( 5204): art/runtime/runtime.cc:289]   | stack=0xdf3e2000-0xdf3e4000 stackSize=1036KB F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait_queue_me+0xc0/0x110 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_futex+0xdc/0xb30 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_syscall_32_irqs_off+0x5f/0x180 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #01 pc 001016e7  [stack:5443] (???) F/art     ( 5204): art/runtime/runtime.cc:289]   - waiting on <0x288ec84b> (a java.lang.Object) F/art     ( 5204): art/runtime/runtime.cc:289]   - locked <0x288ec84b> (a java.lang.Object) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.locks.LockSupport.park(LockSupport.java:157) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:373) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587) F/art     ( 5204): art/runtime/runtime.cc:289] F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x12e31e20 self=0xeec8b400 F/art     ( 5204): art/runtime/runtime.cc:289]   | state=S schedstat=( 9430184 278903 17 ) utm=0 stm=0 core=2 HZ=100 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait_queue_me+0xc0/0x110 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_futex+0xdc/0xb30 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_syscall_32_irqs_off+0x5f/0x180 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 00013300  /system/lib/libc.so (syscall+32) F/art     ( 5204): art/runtime/runtime.cc:289]   - waiting on <0x3ad45228> (a java.lang.Object) F/art     ( 5204): art/runtime/runtime.cc:289]   - locked <0x3ad45228> (a java.lang.Object) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.locks.LockSupport.park(LockSupport.java:157) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:373) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587) F/art     ( 5204): art/runtime/runtime.cc:289] F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x12e31ee0 self=0xeec8d400 F/art     ( 5204): art/runtime/runtime.cc:289]   | state=S schedstat=( 7878773 266605 17 ) utm=0 stm=0 core=2 HZ=100 F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_futex+0xdc/0xb30 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_syscall_32_irqs_off+0x5f/0x180 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 00013300  /system/lib/libc.so (syscall+32) F/art     ( 5204): art/runtime/runtime.cc:289]   - waiting on <0x305f5b41> (a java.lang.Object) F/art     ( 5204): art/runtime/runtime.cc:289]   - locked <0x305f5b41> (a java.lang.Object) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.locks.LockSupport.park(LockSupport.java:157) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:373) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1097) F/art     ( 5204): art/runtime/runtime.cc:289] F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x12e31fa0 self=0xeec91800 F/art     ( 5204): art/runtime/runtime.cc:289]   | state=S schedstat=( 7201870 312620 19 ) utm=0 stm=0 core=2 HZ=100 F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_futex+0xdc/0xb30 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: do_syscall_32_irqs_off+0x5f/0x180 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 00013300  /system/lib/libc.so (syscall+32) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Object.wait!(Native method) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Thread.parkFor(Thread.java:1220) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.locks.LockSupport.park(LockSupport.java:157) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:373) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1097) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Thread.run(Thread.java:818) F/art     ( 5204): art/runtime/runtime.cc:289]   | group="" sCount=0 dsCount=0 obj=0x12eaf0a0 self=0xeec91c00 F/art     ( 5204): art/runtime/runtime.cc:289]   | state=S schedstat=( 8140951 271954 17 ) utm=0 stm=0 core=2 HZ=100 F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait+0x112/0x250 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: compat_SyS_futex+0x75/0x150 F/art     ( 5204): art/runtime/runtime.cc:289]   native: #00 pc 00013300  /system/lib/libc.so (syscall+32) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Object.wait!(Native method) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Thread.parkFor(Thread.java:1220) F/art     ( 5204): art/runtime/runtime.cc:289]   at sun.misc.Unsafe.park(Unsafe.java:299) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2016) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1097) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Thread.run(Thread.java:818) F/art     ( 5204): art/runtime/runtime.cc:289] "pool-2-thread-8" prio=5 tid=42 Waiting F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5598 nice=0 cgrp=default sched=0/0 handle=0xe0504580 F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait+0x112/0x250 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: compat_SyS_futex+0x75/0x150 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: entry_INT80_compat+0x36/0x50 F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Object.wait!(Native method) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Thread.parkFor(Thread.java:1220) F/art     ( 5204): art/runtime/runtime.cc:289]   at sun.misc.Unsafe.park(Unsafe.java:299) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:373) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1097) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Thread.run(Thread.java:818) F/art     ( 5204): art/runtime/runtime.cc:289] "pool-2-thread-9" prio=5 tid=43 Waiting F/art     ( 5204): art/runtime/runtime.cc:289]   | sysTid=5690 nice=0 cgrp=default sched=0/0 handle=0xe0504f80 F/art     ( 5204): art/runtime/runtime.cc:289]   | held mutexes= F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: futex_wait+0x112/0x250 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: compat_SyS_futex+0x75/0x150 F/art     ( 5204): art/runtime/runtime.cc:289]   kernel: entry_INT80_compat+0x36/0x50 F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Object.wait!(Native method) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Thread.parkFor(Thread.java:1220) F/art     ( 5204): art/runtime/runtime.cc:289]   at sun.misc.Unsafe.park(Unsafe.java:299) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2016) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1035) F/art     ( 5204): art/runtime/runtime.cc:289]   at java.lang.Thread.run(Thread.java:818) F/art     ( 5204): art/runtime/runtime.cc:289] F/libc    ( 5204): Fatal signal 6 (SIGABRT)  code -6 in tid 5240 (Thread-315) I/DEBUG   (  119): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** I/DEBUG   (  119): Build fingerprint: 'generic/vbox86p/vbox86p:5.1/LMY47D/22:userdebug/test-keys' I/DEBUG   (  119): Revision: '0' I/DEBUG   (  119): ABI: 'x86' I/DEBUG   (  119): pid: 5204  tid: 5240  name: Thread-315  >>> io.realm.todo <<< I/DEBUG   (  119): signal 6 (SIGABRT)  code -6 (SI_TKILL)  fault addr -------- I/DEBUG   (  119): Abort message: 'art/runtime/indirect_reference_table.cc:98] JNI ERROR (app bug): local reference table overflow (max=512)' I/DEBUG   (  119):     eax 00000000  ebx 00001454  ecx 00001478  edx 00000006 I/DEBUG   (  119):     esi e09e3db8  edi 0000000b I/DEBUG   (  119):     xcs 00000023  xds 0000002b  xes 0000002b  xfs 000000d7  xss 0000002b I/DEBUG   (  119):     eip f74d10b6  ebp 00001478  esp e09e3010  flags 00200286 I/DEBUG   (  119): I/DEBUG   (  119): backtrace: I/DEBUG   (  119):     #00 pc 000740b6  /system/lib/libc.so (tgkill+22) I/DEBUG   (  119):     #01 pc 000221ab  /system/lib/libc.so (pthread_kill+155) I/DEBUG   (  119):     #02 pc 00023a24  /system/lib/libc.so (raise+36) I/DEBUG   (  119):     #03 pc 0001be24  /system/lib/libc.so (abort+84) I/DEBUG   (  119):     #04 pc 00377c86  /system/lib/libart.so (art::Runtime::Abort()+294) I/DEBUG   (  119):     #05 pc 000ec704  /system/lib/libart.so (art::LogMessage::~LogMessage()+1876) I/DEBUG   (  119):     #06 pc 00224429  /system/lib/libart.so (art::IndirectReferenceTable::Add(unsigned int  art::mirror::Object*)+1065) I/DEBUG   (  119):     #07 pc 002cb4e8  /system/lib/libart.so (art::JNI::NewString(_JNIEnv*  unsigned short const*  int)+392) I/DEBUG   (  119):     #08 pc 0010ec4d  /system/lib/libart.so (art::CheckJNI::NewString(_JNIEnv*  unsigned short const*  int)+125) I/DEBUG   (  119):     #09 pc 000fa97d  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so I/DEBUG   (  119):     #10 pc 00092dd0  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so I/DEBUG   (  119):     #11 pc 0017e9e9  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so I/DEBUG   (  119):     #12 pc 0017edc1  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so I/DEBUG   (  119):     #13 pc 00183256  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so I/DEBUG   (  119):     #14 pc 001834a0  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so I/DEBUG   (  119):     #15 pc 0017c32b  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so I/DEBUG   (  119):     #16 pc 001ab6d0  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so I/DEBUG   (  119):     #17 pc 001a450f  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so I/DEBUG   (  119):     #18 pc 001e0be0  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so I/DEBUG   (  119):     #19 pc 001e0d70  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so I/DEBUG   (  119):     #20 pc 001ec42e  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so I/DEBUG   (  119):     #21 pc 001e164d  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so I/DEBUG   (  119):     #22 pc 001e1673  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so I/DEBUG   (  119):     #23 pc 001c44de  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so I/DEBUG   (  119):     #24 pc 001ecb68  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (std::function<void (std::error_code  unsigned int)>::operator()(std::error_code  unsigned int) const+60) I/DEBUG   (  119):     #25 pc 001ecf5b  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so I/DEBUG   (  119):     #26 pc 001bc960  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so I/DEBUG   (  119):     #27 pc 001a2cce  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so I/DEBUG   (  119):     #28 pc 00177a98  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so (_ZNSt6thread5_ImplISt12_Bind_simpleIFZN5realm5_impl10SyncClientC4ESt10unique_ptrINS2_4util6LoggerESt14default_deleteIS7_EENS2_4sync6Client13ReconnectModeEbEUlvE_vEEE6_M_runEv+56) I/DEBUG   (  119):     #29 pc 0043bf9e  /data/app/io.realm.todo-1/lib/x86/librealm-jni.so I/DEBUG   (  119):     #30 pc 000211d8  /system/lib/libc.so (__pthread_start(void*)+56) I/DEBUG   (  119):     #31 pc 0001c559  /system/lib/libc.so (__start_thread+25) I/DEBUG   (  119):     #32 pc 00013126  /system/lib/libc.so (__bionic_clone+70) I/DEBUG   (  119): I/DEBUG   (  119): Tombstone written to: /data/tombstones/tombstone_06 I/BootReceiver(  755): Copying /data/tombstones/tombstone_06 to DropBox (SYSTEM_TOMBSTONE),1
5883,18-04-09,Issue 5883 : [Sync] Schema validation failed ， Issue #5883 ， realm/realm-java ， GitHub This was triggered while testing the permission chat demo not always reproducible ... E/REALM_JNI( 5823): jni: ThrowingException 8  Schema validation failed due to the following errors: E/REALM_JNI( 5823): - Property 'PrivateChatRoom.permissions' of type 'array' has unknown object type '__Permission'  . E/REALM_JNI( 5823): Exception has been thrown: Schema validation failed due to the following errors: E/REALM_JNI( 5823): - Property 'PrivateChatRoom.permissions' of type 'array' has unknown object type '__Permission' D/AndroidRuntime( 5823): Shutting down VM E/AndroidRuntime( 5823): FATAL EXCEPTION: main E/AndroidRuntime( 5823): Process: io.realm.todo  PID: 5823 E/AndroidRuntime( 5823): java.lang.RuntimeException: Unable to start activity ComponentInfo{io.realm.todo/io.realm.todo.ChatRoomsActivity}: java.lang.IllegalStateException: Schema validation failed due to the following errors: E/AndroidRuntime( 5823): - Property 'PrivateChatRoom.permissions' of type 'array' has unknown object type '__Permission' E/AndroidRuntime( 5823): 	at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2325) E/AndroidRuntime( 5823): 	at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387) E/AndroidRuntime( 5823): 	at android.app.ActivityThread.access$800(ActivityThread.java:151) E/AndroidRuntime( 5823): 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303) E/AndroidRuntime( 5823): 	at android.os.Handler.dispatchMessage(Handler.java:102) E/AndroidRuntime( 5823): 	at android.os.Looper.loop(Looper.java:135) E/AndroidRuntime( 5823): 	at android.app.ActivityThread.main(ActivityThread.java:5254) E/AndroidRuntime( 5823): 	at java.lang.reflect.Method.invoke(Native Method) E/AndroidRuntime( 5823): 	at java.lang.reflect.Method.invoke(Method.java:372) E/AndroidRuntime( 5823): 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903) E/AndroidRuntime( 5823): 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698) E/AndroidRuntime( 5823): Caused by: java.lang.IllegalStateException: Schema validation failed due to the following errors: E/AndroidRuntime( 5823): - Property 'PrivateChatRoom.permissions' of type 'array' has unknown object type '__Permission' E/AndroidRuntime( 5823): 	at io.realm.internal.OsSharedRealm.nativeGetSharedRealm(Native Method) E/AndroidRuntime( 5823): 	at io.realm.internal.OsSharedRealm.<init>(OsSharedRealm.java:171) E/AndroidRuntime( 5823): 	at io.realm.internal.OsSharedRealm.getInstance(OsSharedRealm.java:241) E/AndroidRuntime( 5823): 	at io.realm.BaseRealm.<init>(BaseRealm.java:136) E/AndroidRuntime( 5823): 	at io.realm.BaseRealm.<init>(BaseRealm.java:105) E/AndroidRuntime( 5823): 	at io.realm.Realm.<init>(Realm.java:164) E/AndroidRuntime( 5823): 	at io.realm.Realm.createInstance(Realm.java:435) E/AndroidRuntime( 5823): 	at io.realm.RealmCache.doCreateRealmOrGetFromCache(RealmCache.java:342) E/AndroidRuntime( 5823): 	at io.realm.RealmCache.createRealmOrGetFromCache(RealmCache.java:282) E/AndroidRuntime( 5823): 	at io.realm.Realm.getDefaultInstance(Realm.java:343) E/AndroidRuntime( 5823): 	at io.realm.todo.ChatRoomsActivity.onCreate(ChatRoomsActivity.java:88) E/AndroidRuntime( 5823): 	at android.app.Activity.performCreate(Activity.java:5990) E/AndroidRuntime( 5823): 	at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106) E/AndroidRuntime( 5823): 	at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278) E/AndroidRuntime( 5823): 	... 10 more W/ActivityManager(  755):   Force finishing activity 1 io.realm.todo/.ChatRoomsActivity   @cmelchior this looks similar to some issue we were seeing while adding the permission schema into the next-major ...,0
5899,18-04-14,Issue 5899 : Primary key migration from optional to required deleting rows ， Issue #5899 ， realm/realm-java ， GitHub Hi guys  i just encountered a weird problem and don't know if is a bug or i just don't know how to migrate things. I found a workaround for that  create new field with required attribute  transform to get the value of the old primary key  remove old primary key and set primary key to the newly created field. Goal Change primary key name and required to true (Kotlin non-null but not @required) Expected Results The primary key with the new name and the field to be required Actual Results Migration removing 4 of 5 rows in the table after seting setRequired(Y  true) I checked the operation before and all the rows have the primary key with a value and are not null Steps & Code to Reproduce Didn't check with another project but in my case was: Have a realm object schema with nullable primary key. Multiple objects of that type with values in the primary key. Make a migration changing the name and required to true The new table contains only one row and not the 5 before the migration Code Sample > Your code here. Bigger samples should ideally be as separate Android Studio project   > in gists/repositories or privately at help@realm.io)  Version of Realm and tooling Realm version(s): ? 4.3.3 Realm sync feature enabled: yes/no No Android Studio version: ? 3.1.1 Which Android version and device: ? 7.0,0
